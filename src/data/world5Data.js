// ==========================================================
// --- MUNDO 5: EL DESIERTO DE LOS ROVERS ---
// 16 mÃ³dulos sobre robots autÃ³nomos tipo rover (NASA/SpaceX).
// Se desbloquea al tener 15 amigos en la plataforma.
// ==========================================================

export const WORLD_5_MODULES = [
    // ===== SECCIÃ“N 1: FUNDAMENTOS DE ROVERS AUTÃ“NOMOS (4 mÃ³dulos) =====
    {
        id: 'w5_mod1_intro_rovers',
        titulo: "MÃ³dulo 1: Â¿QuÃ© es un Rover AutÃ³nomo? ğŸœï¸",
        icon: 'ğŸœï¸',
        descripcion: "Descubre quÃ© son los rovers autÃ³nomos y por quÃ© la NASA y SpaceX los diseÃ±an para explorar planetas.",
        contenidoTeorico: [
            { titulo: "ğŸœï¸ Â¡Bienvenido al Desierto de los Rovers!", tipo: 'intro_hero', texto: "Un rover autÃ³nomo es un vehÃ­culo robÃ³tico que puede moverse, tomar decisiones y explorar sin intervenciÃ³n humana directa. Desde Perseverance en Marte hasta los prototipos de SpaceX para la Luna, estos robots son la vanguardia de la exploraciÃ³n. Â¡PrepÃ¡rate para construir el tuyo! ğŸ¤–ğŸ”´" },
            { titulo: "1. Historia de los Rovers", tipo: 'texto', puntos: [
                "**Lunokhod 1 (1970):** El primer rover exitoso. Operado por la UniÃ³n SoviÃ©tica en la Luna. Fue teleoperado desde la Tierra. ğŸŒ™",
                "**Sojourner (1997):** El primer rover de la NASA en Marte. PequeÃ±o como un microondas, demostrÃ³ que los rovers funcionan en Marte. ğŸ”´",
                "**Spirit y Opportunity (2004):** DiseÃ±ados para 90 dÃ­as, Spirit durÃ³ 6 aÃ±os y Opportunity... Â¡15 aÃ±os! ğŸ’ª",
                "**Curiosity (2012) y Perseverance (2021):** Los mÃ¡s avanzados. Con laboratorios a bordo, lÃ¡ser, helicÃ³ptero y capacidad autÃ³noma. ğŸ”¬"
            ]},
            { titulo: "ğŸ¤” Â¿SabÃ­as que...?", tipo: 'fun_fact', texto: "SpaceX estÃ¡ desarrollando rovers para preparar la superficie de Marte ANTES de que lleguen humanos. Estos rovers autÃ³nomos deberÃ¡n construir hÃ¡bitats, generar oxÃ­geno y fabricar combustible de retorno usando recursos marcianos. Se llama ISRU (In-Situ Resource Utilization). Â¡Robots que te preparan la casa antes de llegar! ğŸ ğŸ”´" },
            { titulo: "ğŸ’¡ CÃ³digo: Comportamiento BÃ¡sico de Rover", tipo: 'code_example', lenguaje: 'Python', codigo: "# Clase base de un rover autÃ³nomo\n\nclass Rover:\n    def __init__(self, nombre, energia_max=100):\n        self.nombre = nombre\n        self.energia = energia_max\n        self.posicion = [0, 0]  # x, y en metros\n        self.orientacion = 0    # grados (0=Norte)\n        self.modo = 'exploracion'\n    \n    def avanzar(self, distancia):\n        import math\n        costo = distancia * 0.5  # EnergÃ­a por metro\n        if self.energia >= costo:\n            rad = math.radians(self.orientacion)\n            self.posicion[0] += distancia * math.sin(rad)\n            self.posicion[1] += distancia * math.cos(rad)\n            self.energia -= costo\n            print(f'{self.nombre} avanzÃ³ {distancia}m')\n        else:\n            print('âš ï¸ EnergÃ­a insuficiente')\n    \n    def girar(self, angulo):\n        self.orientacion = (self.orientacion + angulo) % 360\n        print(f'OrientaciÃ³n: {self.orientacion}Â°')\n\nrover = Rover('ExplorerBot')\nrover.avanzar(10)\nrover.girar(90)\nrover.avanzar(5)", explicacion: "Un rover bÃ¡sico necesita posiciÃ³n, energÃ­a y orientaciÃ³n. Cada movimiento consume energÃ­a y cambia la posiciÃ³n segÃºn la direcciÃ³n. Este es el esqueleto de cualquier rover autÃ³nomo." },
            { titulo: "âœ… Quiz: Rovers AutÃ³nomos", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡l fue el primer rover en operar exitosamente en otro cuerpo celeste?", opciones: ["Sojourner de la NASA", "Lunokhod 1 de la URSS", "Curiosity de la NASA", "Yutu de China"], respuestaCorrecta: 1, explicacion: "Â¡Correcto! Lunokhod 1 (1970) fue el primer rover exitoso, operando en la Luna controlado desde la Tierra por la UniÃ³n SoviÃ©tica. ğŸŒ™" },
            { titulo: "ğŸ® MisiÃ³n: Investiga un Rover Real", tipo: 'interactive_challenge', instruccion: "**MisiÃ³n de InvestigaciÃ³n:**\n\n1. **Elige un rover real:** Perseverance, Curiosity, Lunokhod o Yutu-2\n2. **Investiga sus especificaciones:** peso, tamaÃ±o, velocidad, fuente de energÃ­a\n3. **Dibuja un diagrama** con sus componentes principales\n4. **Responde:** Â¿CuÃ¡l es la funciÃ³n mÃ¡s importante que tiene?\n5. **Compara** con un coche: Â¿quÃ© tienen en comÃºn y quÃ© es diferente?\n\nÂ¡Los ingenieros siempre estudian lo que ya existe antes de crear!", recompensa: "ğŸ… Insignia: Investigador de Rovers" },
            { titulo: "ğŸ§© Rover y su Planeta", tipo: 'matching_game', instruccion: 'Relaciona cada rover con su destino', pairs: [{ left: 'ğŸŒ™ Lunokhod 1', right: 'La Luna' }, { left: 'ğŸ”´ Perseverance', right: 'Marte' }, { left: 'ğŸŒ‘ Yutu-2', right: 'Cara oculta de la Luna' }, { left: 'ğŸ”µ Propuesta SpaceX', right: 'Marte (preparar base)' }] },
            { titulo: "âœ…âŒ Rovers: Â¿V o F?", tipo: 'true_false', statements: [{ text: 'El rover Opportunity fue diseÃ±ado para funcionar solo 90 dÃ­as.', correct: true, explain: 'Fue diseÃ±ado para 90 dÃ­as marcianos pero increÃ­blemente durÃ³ casi 15 aÃ±os (2004-2019).' }, { text: 'Los rovers en Marte pueden ser controlados en tiempo real con un joystick.', correct: false, explain: 'La seÃ±al tarda entre 4 y 24 minutos en llegar a Marte, haciendo imposible el control en tiempo real.' }, { text: 'SpaceX planea enviar rovers a Marte antes que humanos.', correct: true, explain: 'Los rovers prepararÃ¡n la infraestructura (hÃ¡bitats, oxÃ­geno, combustible) antes de las misiones tripuladas.' }] },
            { titulo: "ğŸ’¡ Tip de Ingeniero", tipo: 'tip', texto: "**Empieza simple.** Los mejores rovers del mundo empezaron como prototipos simples. Perseverance tuvo docenas de versiones de prueba. Tu primer rover puede ser de cartÃ³n y servomotores. Â¡Lo importante es empezar! ğŸ› ï¸" },
            { titulo: "âœ… Quiz: Rovers Pioneros", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡ntos aÃ±os durÃ³ el rover Opportunity en Marte, siendo diseÃ±ado para solo 90 dÃ­as?", opciones: ["1 aÃ±o", "5 aÃ±os", "Casi 15 aÃ±os", "30 aÃ±os"], respuestaCorrecta: 2, explicacion: "Opportunity durÃ³ casi 15 aÃ±os (2004-2019), superando su vida Ãºtil por 60 veces. Una tormenta de polvo acabÃ³ su misiÃ³n. ğŸ’ª" },
            { titulo: "âœ… Quiz: Perseverance", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© caracterÃ­stica Ãºnica tiene el rover Perseverance respecto a rovers anteriores?", opciones: ["Es el mÃ¡s pequeÃ±o", "Lleva un helicÃ³ptero (Ingenuity)", "Funciona con gasolina", "Tiene piloto humano"], respuestaCorrecta: 1, explicacion: "Perseverance llevÃ³ a Ingenuity, el primer helicÃ³ptero que volÃ³ en otro planeta. Â¡AviaciÃ³n interplanetaria! ğŸš" },
            { titulo: "âœ… Quiz: Velocidad Rover", tipo: 'mini_quiz', pregunta: "Â¿A quÃ© velocidad mÃ¡xima se mueve Curiosity en Marte?", opciones: ["50 km/h", "5 km/h", "Unos 0.14 km/h (140 metros por hora)", "1 km/h"], respuestaCorrecta: 2, explicacion: "Curiosity avanza a solo 140 m/h. La seguridad es mÃ¡s importante que la velocidad cuando no puedes reparar el robot. ğŸ¢" },
            { titulo: "âœ… Quiz: ISRU Rovers", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© significan las siglas ISRU?", opciones: ["International Space Robot Unit", "In-Situ Resource Utilization", "Intelligent System for Rover Updates", "Inter-Solar Robotic Union"], respuestaCorrecta: 1, explicacion: "ISRU (UtilizaciÃ³n de Recursos In-Situ) es usar materiales locales en otro planeta para fabricar lo necesario. ğŸ—ï¸" },
            { titulo: "âœ… Quiz: AutonomÃ­a del Rover", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© los rovers en Marte necesitan ser autÃ³nomos?", opciones: ["Porque la NASA es perezosa", "Porque la seÃ±al tarda 4-24 minutos y no permite control en tiempo real", "Porque no hay internet en Marte", "Porque es mÃ¡s barato"], respuestaCorrecta: 1, explicacion: "El retraso de comunicaciÃ³n hace imposible el control en tiempo real. El rover debe tomar decisiones solo. ğŸ“¡" },
            { titulo: "âœ… Quiz: Peso del Rover", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡nto pesa aproximadamente el rover Perseverance?", opciones: ["50 kg", "500 kg", "MÃ¡s de 1,000 kg", "5,000 kg"], respuestaCorrecta: 2, explicacion: "Perseverance pesa ~1,025 kg en la Tierra. En Marte pesarÃ­a solo 389 kg por la menor gravedad. âš–ï¸" },
            { titulo: "âœ… Quiz: Rover Yutu-2", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© logro histÃ³rico tiene el rover chino Yutu-2?", opciones: ["LlegÃ³ a Venus", "Es el primer rover en la cara oculta de la Luna", "Es el rover mÃ¡s rÃ¡pido", "DescubriÃ³ vida en la Luna"], respuestaCorrecta: 1, explicacion: "Yutu-2, de la misiÃ³n Chang'e 4, aterrizÃ³ en 2019 en la cara oculta de la Luna, un logro sin precedentes. ğŸŒ‘ğŸ‡¨ğŸ‡³" },
            { titulo: "âœ… Quiz: Componentes BÃ¡sicos", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡l de estos NO es un componente esencial de un rover autÃ³nomo?", opciones: ["Sensores de navegaciÃ³n", "Sistema de energÃ­a", "Aire acondicionado domÃ©stico", "Computadora de a bordo"], respuestaCorrecta: 2, explicacion: "Un rover necesita sensores, energÃ­a y computadora. No necesita un aire acondicionado domÃ©stico, aunque sÃ­ calefacciÃ³n industrial. ğŸ”§" },
            { titulo: "âœ… Quiz: Misiones Futuras", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© empresa planea enviar rovers para preparar Marte antes que humanos?", opciones: ["Tesla", "SpaceX", "Apple", "Microsoft"], respuestaCorrecta: 1, explicacion: "SpaceX planea enviar Starships con rovers para construir infraestructura en Marte antes de las misiones tripuladas. ğŸš€" },
        ]
    },
    {
        id: 'w5_mod2_navegacion_autonoma',
        titulo: "MÃ³dulo 2: NavegaciÃ³n AutÃ³noma ğŸ§­",
        icon: 'ğŸ§­',
        descripcion: "Aprende cÃ³mo un rover decide a dÃ³nde ir sin que nadie lo controle.",
        contenidoTeorico: [
            { titulo: "ğŸ§­ Moverse Sin Mapa ni GPS", tipo: 'intro_hero', texto: "En Marte no hay GPS, no hay carreteras ni seÃ±ales. Un rover autÃ³nomo debe crear su propio mapa, detectar obstÃ¡culos y planificar rutas por sÃ­ mismo. Esto se llama navegaciÃ³n autÃ³noma y es uno de los desafÃ­os mÃ¡s fascinantes de la robÃ³tica. ğŸ—ºï¸ğŸ¤–" },
            { titulo: "1. Sistemas de NavegaciÃ³n de Rovers", tipo: 'texto', puntos: [
                "**SLAM (Simultaneous Localization and Mapping):** El rover crea un mapa mientras se mueve y al mismo tiempo se ubica dentro de ese mapa. ğŸ—ºï¸",
                "**OdometrÃ­a visual:** Usa cÃ¡maras estÃ©reo para estimar distancias y movimiento comparando imÃ¡genes consecutivas. ğŸ“·",
                "**LIDAR:** Sensor lÃ¡ser que crea un mapa 3D del terreno midiendo la distancia a miles de puntos por segundo. ğŸ”´",
                "**IMU (Unidad de MediciÃ³n Inercial):** Giroscopio + acelerÃ³metro que detecta rotaciones e inclinaciones del terreno. âš–ï¸"
            ]},
            { titulo: "ğŸ¤” Â¿SabÃ­as que...?", tipo: 'fun_fact', texto: "Perseverance tiene un sistema llamado **AutoNav** que le permite recorrer hasta 200 metros por dÃ­a en Marte de forma completamente autÃ³noma, esquivando rocas y eligiendo caminos seguros. Antes de AutoNav, los rovers necesitaban que ingenieros en la Tierra planificaran cada movimiento dÃ­a por dÃ­a. Â¡AutoNav multiplicÃ³ la velocidad de exploraciÃ³n por 5! ğŸ”´ğŸï¸" },
            { titulo: "ğŸ’¡ CÃ³digo: NavegaciÃ³n con DetecciÃ³n de ObstÃ¡culos", tipo: 'code_example', lenguaje: 'Python', codigo: "# Sistema de navegaciÃ³n autÃ³noma simple\nimport random\n\nclass NavegadorAutonomo:\n    def __init__(self):\n        self.mapa = {}  # Coordenadas exploradas\n        self.posicion = (0, 0)\n        self.destino = (10, 10)\n    \n    def escanear_alrededor(self):\n        \"\"\"Simula sensores LIDAR/cÃ¡mara\"\"\"\n        obstaculos = []\n        for dx in range(-2, 3):\n            for dy in range(-2, 3):\n                pos = (self.posicion[0]+dx, self.posicion[1]+dy)\n                # Simular detecciÃ³n de obstÃ¡culo\n                if random.random() < 0.2:  # 20% chance\n                    obstaculos.append(pos)\n                    self.mapa[pos] = 'obstaculo'\n                else:\n                    self.mapa[pos] = 'libre'\n        return obstaculos\n    \n    def calcular_ruta(self):\n        \"\"\"Planifica ruta evitando obstÃ¡culos\"\"\"\n        dx = 1 if self.destino[0] > self.posicion[0] else -1\n        dy = 1 if self.destino[1] > self.posicion[1] else -1\n        siguiente = (self.posicion[0]+dx, self.posicion[1]+dy)\n        \n        if self.mapa.get(siguiente) == 'obstaculo':\n            # Buscar alternativa\n            alternativas = [\n                (self.posicion[0]+dx, self.posicion[1]),\n                (self.posicion[0], self.posicion[1]+dy),\n            ]\n            for alt in alternativas:\n                if self.mapa.get(alt) != 'obstaculo':\n                    return alt\n        return siguiente\n    \n    def navegar(self):\n        while self.posicion != self.destino:\n            self.escanear_alrededor()\n            siguiente = self.calcular_ruta()\n            self.posicion = siguiente\n            print(f'PosiciÃ³n: {self.posicion}')", explicacion: "Un navegador autÃ³nomo escanea el entorno, marca obstÃ¡culos en un mapa y calcula la ruta Ã³ptima hacia el destino. Si hay un obstÃ¡culo, busca caminos alternativos automÃ¡ticamente." },
            { titulo: "âœ… Quiz: NavegaciÃ³n", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© significa SLAM en robÃ³tica?", opciones: ["Sistema de Lanzamiento AutÃ³nomo a Marte", "LocalizaciÃ³n y Mapeo SimultÃ¡neo", "Sensor LÃ¡ser de Alta Magnitud", "Software de LocomociÃ³n para Alta MontaÃ±a"], respuestaCorrecta: 1, explicacion: "Â¡Correcto! SLAM (Simultaneous Localization And Mapping) es una tÃ©cnica donde el robot crea un mapa mientras se ubica en Ã©l al mismo tiempo. ğŸ—ºï¸" },
            { titulo: "ğŸ® MisiÃ³n: Navega el Desierto", tipo: 'interactive_challenge', instruccion: "**MisiÃ³n NavegaciÃ³n:**\n\n1. **Dibuja una cuadrÃ­cula** de 10x10 en papel\n2. **Coloca 15 obstÃ¡culos** al azar (rocas marcianas)\n3. **Marca inicio** (esquina inferior izquierda) y **destino** (esquina superior derecha)\n4. **Sin levantar el lÃ¡piz**, traza la ruta mÃ¡s corta evitando obstÃ¡culos\n5. **Cuenta los pasos** de tu ruta. Â¿Es la mÃ¡s eficiente posible?\n6. **Ahora hazlo sin ver** la cuadrÃ­cula completa, revelando solo 2 casillas alrededor\n\nÂ¡AsÃ­ navega un rover: con informaciÃ³n limitada!", recompensa: "ğŸ… Insignia: Navegante del Desierto" },
            { titulo: "ğŸ§© Sensor y su FunciÃ³n", tipo: 'matching_game', instruccion: 'Relaciona cada sensor con lo que mide', pairs: [{ left: 'ğŸ“· CÃ¡maras estÃ©reo', right: 'Profundidad y distancia' }, { left: 'ğŸ”´ LIDAR', right: 'Mapa 3D del terreno' }, { left: 'âš–ï¸ IMU', right: 'RotaciÃ³n e inclinaciÃ³n' }, { left: 'ğŸ—ºï¸ SLAM', right: 'PosiciÃ³n en mapa propio' }] },
            { titulo: "âœ…âŒ NavegaciÃ³n: Â¿V o F?", tipo: 'true_false', statements: [{ text: 'Los rovers en Marte usan GPS para navegarse.', correct: false, explain: 'No hay sistema GPS en Marte. Los rovers usan cÃ¡maras, odometrÃ­a visual e IMU para navegarse.' }, { text: 'SLAM permite al robot crear un mapa mientras se mueve.', correct: true, explain: 'SLAM (LocalizaciÃ³n y Mapeo SimultÃ¡neo) crea el mapa del entorno en tiempo real mientras el robot se desplaza.' }, { text: 'AutoNav de Perseverance le permite navegar de forma autÃ³noma.', correct: true, explain: 'AutoNav permite a Perseverance recorrer hasta 200m/dÃ­a de forma autÃ³noma sin esperar instrucciones de la Tierra.' }] },
            { titulo: "ğŸ’¡ Tip de NavegaciÃ³n", tipo: 'tip', texto: "**El algoritmo A* es tu mejor amigo.** Es el algoritmo de bÃºsqueda de caminos mÃ¡s usado en robÃ³tica y videojuegos. Busca la ruta mÃ¡s corta entre dos puntos evitando obstÃ¡culos. Â¡AprÃ©ndelo y podrÃ¡s hacer que cualquier robot navegue! â­ğŸ—ºï¸" },
            { titulo: "âœ… Quiz: AutoNav", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡ntos metros por dÃ­a puede recorrer Perseverance de forma autÃ³noma con AutoNav?", opciones: ["10 metros", "50 metros", "Hasta 200 metros", "1 kilÃ³metro"], respuestaCorrecta: 2, explicacion: "AutoNav permite a Perseverance recorrer hasta 200 metros por dÃ­a sin intervenciÃ³n humana. 5x mÃ¡s que rovers anteriores. ğŸ¤–" },
            { titulo: "âœ… Quiz: OdometrÃ­a Visual", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo funciona la odometrÃ­a visual de un rover?", opciones: ["Cuenta las vueltas de las ruedas", "Compara imÃ¡genes consecutivas para estimar movimiento", "Usa satÃ©lites GPS marcianos", "Mide la velocidad del viento"], respuestaCorrecta: 1, explicacion: "La odometrÃ­a visual compara imÃ¡genes sucesivas de las cÃ¡maras para calcular cuÃ¡nto y hacia dÃ³nde se ha movido el rover. ğŸ“·" },
            { titulo: "âœ… Quiz: IMU", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© mide una IMU (Unidad de MediciÃ³n Inercial)?", opciones: ["Temperatura y humedad", "RotaciÃ³n, inclinaciÃ³n y aceleraciÃ³n", "ComposiciÃ³n del suelo", "Velocidad del viento"], respuestaCorrecta: 1, explicacion: "La IMU combina giroscopio y acelerÃ³metro para medir orientaciÃ³n y movimiento del rover en 3 dimensiones. âš–ï¸" },
            { titulo: "âœ… Quiz: LIDAR", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo crea un mapa 3D el sensor LIDAR?", opciones: ["Tomando fotos con flash", "Emitiendo pulsos lÃ¡ser y midiendo el tiempo de retorno", "Usando radar de microondas", "Con ondas de sonido"], respuestaCorrecta: 1, explicacion: "LIDAR mide la distancia a miles de puntos por segundo usando pulsos lÃ¡ser. Cada punto forma un mapa 3D preciso. ğŸ”´" },
            { titulo: "âœ… Quiz: Terreno Peligroso", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© hace un rover cuando detecta un obstÃ¡culo en su ruta?", opciones: ["Se detiene para siempre", "Busca una ruta alternativa alrededor del obstÃ¡culo", "Lo destruye con un lÃ¡ser", "Espera a que se mueva"], respuestaCorrecta: 1, explicacion: "El rover recalcula la ruta automÃ¡ticamente buscando un camino alternativo que evite el obstÃ¡culo. ğŸ”„" },
            { titulo: "âœ… Quiz: CÃ¡maras EstÃ©reo", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© los rovers usan cÃ¡maras estÃ©reo (dos cÃ¡maras lado a lado)?", opciones: ["Para tomar fotos bonitas", "Para calcular la distancia a los objetos como nuestros ojos", "Para tener repuesto", "Para grabar video en 3D"], respuestaCorrecta: 1, explicacion: "Las dos cÃ¡maras dan perspectiva diferente, igual que nuestros ojos. La diferencia entre imÃ¡genes permite calcular distancias. ğŸ‘€" },
            { titulo: "âœ… Quiz: Mapa de Costos", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es un costmap (mapa de costos) en navegaciÃ³n robÃ³tica?", opciones: ["Un presupuesto del proyecto", "Una cuadrÃ­cula donde cada celda tiene un valor de dificultad", "Un mapa de gasolineras", "Un inventario de costos"], respuestaCorrecta: 1, explicacion: "El costmap asigna un valor de dificultad a cada zona: 0 = fÃ¡cil de cruzar, 255 = imposible. El rover elige la ruta mÃ¡s fÃ¡cil. ğŸ—ºï¸" },
            { titulo: "âœ… Quiz: Waypoints", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© son los waypoints en navegaciÃ³n de rovers?", opciones: ["Puntos de recarga de energÃ­a", "Puntos intermedios de la ruta que el rover debe visitar", "Puntos de comunicaciÃ³n con la Tierra", "Bases marcianas"], respuestaCorrecta: 1, explicacion: "Los waypoints son coordenadas intermedias que definen la ruta del rover. Puede recibirlos de la Tierra o calcularlos. ğŸ“" },
            { titulo: "âœ… Quiz: NavegaciÃ³n sin GPS", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© combinaciÃ³n de sensores reemplaza al GPS en Marte?", opciones: ["Solo brÃºjula", "CÃ¡maras + IMU + odometrÃ­a visual + SLAM", "Radio AM y FM", "Solo acelerÃ³metro"], respuestaCorrecta: 1, explicacion: "Sin GPS en Marte, los rovers combinan mÃºltiples sensores y algoritmos SLAM para localizarse. Es complejo pero funciona. ğŸ§­" },
        ]
    },
    {
        id: 'w5_mod3_percepcion_entorno',
        titulo: "MÃ³dulo 3: PercepciÃ³n del Entorno ğŸ‘ï¸",
        icon: 'ğŸ‘ï¸',
        descripcion: "CÃ³mo un rover ve, entiende y clasifica lo que lo rodea usando visiÃ³n por computadora.",
        contenidoTeorico: [
            { titulo: "ğŸ‘ï¸ Ojos RobÃ³ticos en el Desierto", tipo: 'intro_hero', texto: "Un rover sin percepciÃ³n es como caminar con los ojos cerrados. Los rovers de la NASA usan cÃ¡maras, espectrÃ³metros y sensores para 'ver' el terreno, identificar rocas interesantes y evitar peligros. La visiÃ³n por computadora les da inteligencia visual. ğŸ“·ğŸ§ " },
            { titulo: "1. Sistemas de PercepciÃ³n de Rovers", tipo: 'texto', puntos: [
                "**CÃ¡maras Navcam:** CÃ¡maras de navegaciÃ³n que miran hacia adelante. Dan una vista panorÃ¡mica del camino. ğŸ“·",
                "**Hazcam:** CÃ¡maras de peligro que miran al suelo justo delante de las ruedas. Detectan rocas pequeÃ±as y hoyos. âš ï¸",
                "**Mastcam:** CÃ¡mara en el mÃ¡stil que puede hacer zoom y tomar fotos en color de alta resoluciÃ³n. ğŸ”¬",
                "**SuperCam:** Dispara un lÃ¡ser a rocas a 7 metros de distancia y analiza la luz rebotada para saber su composiciÃ³n quÃ­mica. ğŸ’¥"
            ]},
            { titulo: "ğŸ¤” Â¿SabÃ­as que...?", tipo: 'fun_fact', texto: "Perseverance tiene **23 cÃ¡maras** en total, mÃ¡s que cualquier otro rover. Incluye cÃ¡maras de ingenierÃ­a, cientÃ­ficas, de entrada/descenso/aterrizaje (EDL) y hasta un micrÃ³fono para 'escuchar' Marte. Â¡Es el rover mÃ¡s observador jamÃ¡s construido! ğŸ“¸ğŸ”´" },
            { titulo: "ğŸ’¡ CÃ³digo: Clasificador de Terreno", tipo: 'code_example', lenguaje: 'Python', codigo: "# Clasificador de terreno para rover\n\nclass PerceptionSystem:\n    TERRENOS = {\n        'arena': {'color': (194, 178, 128), 'seguro': True, 'velocidad': 0.8},\n        'roca': {'color': (128, 128, 128), 'seguro': False, 'velocidad': 0},\n        'grava': {'color': (169, 153, 120), 'seguro': True, 'velocidad': 0.5},\n        'crater': {'color': (80, 60, 40), 'seguro': False, 'velocidad': 0},\n        'terreno_firme': {'color': (160, 140, 100), 'seguro': True, 'velocidad': 1.0},\n    }\n    \n    def clasificar_pixel(self, r, g, b):\n        \"\"\"Clasifica un pixel por color (simplificado)\"\"\"\n        min_dist = float('inf')\n        mejor = 'desconocido'\n        for nombre, datos in self.TERRENOS.items():\n            tc = datos['color']\n            dist = ((r-tc[0])**2 + (g-tc[1])**2 + (b-tc[2])**2)**0.5\n            if dist < min_dist:\n                min_dist = dist\n                mejor = nombre\n        return mejor\n    \n    def analizar_zona(self, imagen_grilla):\n        \"\"\"Analiza cuadrÃ­cula y da recomendaciÃ³n\"\"\"\n        seguras = sum(1 for t in imagen_grilla\n                     if self.TERRENOS.get(t, {}).get('seguro', False))\n        total = len(imagen_grilla)\n        porcentaje = (seguras / total) * 100\n        if porcentaje > 80:\n            return 'AVANZAR âœ…'\n        elif porcentaje > 50:\n            return 'PRECAUCIÃ“N âš ï¸'\n        else:\n            return 'DETENERSE ğŸ›‘'", explicacion: "Un sistema de percepciÃ³n clasifica el terreno cercano al rover. Cada tipo de terreno tiene un color tÃ­pico y se marca como seguro o peligroso. El rover decide si avanzar, ser cauteloso o detenerse segÃºn el anÃ¡lisis." },
            { titulo: "âœ… Quiz: PercepciÃ³n", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© hace la SuperCam de Perseverance?", opciones: ["Toma selfies del rover", "Dispara un lÃ¡ser y analiza la composiciÃ³n de rocas", "EnvÃ­a seÃ±ales a la Tierra", "Calienta las ruedas del rover"], respuestaCorrecta: 1, explicacion: "Â¡Correcto! SuperCam dispara pulsos lÃ¡ser a rocas a hasta 7 metros y analiza la luz reflejada para determinar la composiciÃ³n mineral y quÃ­mica. ğŸ’¥ğŸ”¬" },
            { titulo: "ğŸ® MisiÃ³n: Identifica Terrenos", tipo: 'interactive_challenge', instruccion: "**MisiÃ³n PercepciÃ³n:**\n\n1. **Busca 5 fotos** de terreno marciano en internet\n2. **Clasifica cada zona** en: segura, peligrosa o desconocida\n3. **Marca las rocas, crÃ¡teres y arena** con colores diferentes\n4. **Traza una ruta** por las zonas seguras\n5. **Explica** cÃ³mo un rover decidirÃ­a automÃ¡ticamente quÃ© es seguro\n\nÂ¡EstÃ¡s haciendo el trabajo de la IA de Perseverance!", recompensa: "ğŸ… Insignia: Ojo del Desierto" },
            { titulo: "ğŸ§© CÃ¡mara y FunciÃ³n", tipo: 'matching_game', instruccion: 'Relaciona cada cÃ¡mara con su funciÃ³n', pairs: [{ left: 'ğŸ“· Navcam', right: 'NavegaciÃ³n panorÃ¡mica' }, { left: 'âš ï¸ Hazcam', right: 'Detectar peligros cercanos' }, { left: 'ğŸ”¬ Mastcam', right: 'Fotos cientÃ­ficas con zoom' }, { left: 'ğŸ’¥ SuperCam', right: 'AnÃ¡lisis quÃ­mico con lÃ¡ser' }] },
            { titulo: "âœ…âŒ PercepciÃ³n: Â¿V o F?", tipo: 'true_false', statements: [{ text: 'Perseverance tiene mÃ¡s de 20 cÃ¡maras.', correct: true, explain: 'Perseverance tiene 23 cÃ¡maras: de navegaciÃ³n, cientÃ­ficas, de ingenierÃ­a y de entrada/descenso/aterrizaje.' }, { text: 'Los rovers solo usan cÃ¡maras en blanco y negro.', correct: false, explain: 'Los rovers modernos como Perseverance tienen cÃ¡maras a color de alta resoluciÃ³n (Mastcam-Z) y mÃºltiples tipos de sensores.' }, { text: 'SuperCam puede analizar rocas sin tocarlas.', correct: true, explain: 'SuperCam dispara un lÃ¡ser y analiza la luz reflejada, permitiendo analizar rocas a distancia sin necesidad de contacto.' }] },
            { titulo: "ğŸ’¡ Tip de PercepciÃ³n", tipo: 'tip', texto: "**La visiÃ³n por computadora empieza con OpenCV.** Es la librerÃ­a mÃ¡s usada para procesar imÃ¡genes en robots. Puedes detectar colores, bordes y formas con pocas lÃ­neas de cÃ³digo Python. Â¡InstÃ¡lala y experimenta con la cÃ¡mara de tu computadora! ğŸ“·ğŸ’»" },
            { titulo: "âœ… Quiz: CÃ¡maras de Perseverance", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡ntas cÃ¡maras tiene el rover Perseverance?", opciones: ["5 cÃ¡maras", "12 cÃ¡maras", "23 cÃ¡maras", "50 cÃ¡maras"], respuestaCorrecta: 2, explicacion: "Perseverance tiene 23 cÃ¡maras: de navegaciÃ³n, cientÃ­ficas, de ingenierÃ­a y de descenso. El rover mÃ¡s observador. ğŸ“¸" },
            { titulo: "âœ… Quiz: Hazcam", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© funciÃ³n tienen las Hazcam (Hazard Cameras)?", opciones: ["Tomar selfies del rover", "Detectar peligros inmediatos frente a las ruedas", "Comunicarse con satÃ©lites", "Medir la temperatura"], respuestaCorrecta: 1, explicacion: "Las Hazcam miran al suelo justo delante de las ruedas para detectar rocas pequeÃ±as y hoyos a corta distancia. âš ï¸" },
            { titulo: "âœ… Quiz: EspectroscopÃ­a", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es la espectroscopÃ­a que usa SuperCam?", opciones: ["Tomar fotos con filtros", "Analizar la luz rebotada por un lÃ¡ser para saber la composiciÃ³n", "Ver en la oscuridad", "Medir la distancia"], respuestaCorrecta: 1, explicacion: "La espectroscopÃ­a analiza las longitudes de onda de la luz para determinar quÃ© elementos quÃ­micos contiene una roca. ğŸŒˆ" },
            { titulo: "âœ… Quiz: VisiÃ³n Computacional", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© permite a un rover la visiÃ³n por computadora?", opciones: ["Ver canales de TV", "Interpretar imÃ¡genes para reconocer objetos y terrenos", "Proyectar hologramas", "Comunicarse por video"], respuestaCorrecta: 1, explicacion: "La visiÃ³n por computadora procesa imÃ¡genes para que el rover 'entienda' su entorno: tipos de terreno, obstÃ¡culos, rocas. ğŸ‘ï¸ğŸ§ " },
            { titulo: "âœ… Quiz: MicrÃ³fono Marciano", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© captÃ³ el micrÃ³fono de Perseverance por primera vez en Marte?", opciones: ["MÃºsica alien", "El sonido del viento y del lÃ¡ser disparando a rocas", "Silencio absoluto", "Voces humanas"], respuestaCorrecta: 1, explicacion: "Perseverance grabÃ³ sonidos del viento marciano y los pulsos del lÃ¡ser SuperCam. Â¡Primera vez que 'escuchamos' otro planeta! ğŸ¤" },
            { titulo: "âœ… Quiz: Mastcam-Z", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© significa la 'Z' en Mastcam-Z?", opciones: ["Zona", "Zoom (puede hacer zoom)", "Zenith", "Zero"], respuestaCorrecta: 1, explicacion: "La Z es por Zoom. Mastcam-Z puede acercar imÃ¡genes para ver detalles de rocas lejanas. Es la primera cÃ¡mara del mÃ¡stil con zoom. ğŸ”­" },
            { titulo: "âœ… Quiz: ClasificaciÃ³n de Terreno", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© es importante clasificar el tipo de terreno?", opciones: ["Para hacer fotos bonitas", "Para saber si es seguro avanzar y a quÃ© velocidad", "Para pintar un cuadro", "Solo para los cientÃ­ficos"], respuestaCorrecta: 1, explicacion: "Arena suelta, roca sÃ³lida o grava cambian la tracciÃ³n y seguridad. El rover ajusta velocidad segÃºn el terreno que detecta. ğŸœï¸" },
            { titulo: "âœ… Quiz: Infrarrojo", tipo: 'mini_quiz', pregunta: "Â¿Para quÃ© usan los rovers sensores infrarrojos?", opciones: ["Para ver en la oscuridad", "Para medir temperatura y detectar minerales invisibles a simple vista", "Para comunicarse", "Para calentar las ruedas"], respuestaCorrecta: 1, explicacion: "El infrarrojo revela informaciÃ³n sobre minerales y temperatura que la fotografÃ­a normal no puede detectar. ğŸŒ¡ï¸" },
            { titulo: "âœ… Quiz: DetecciÃ³n AutomÃ¡tica", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© hace el sistema AEGIS cuando detecta una roca inusual?", opciones: ["La ignora", "AutomÃ¡ticamente apunta el lÃ¡ser y la analiza sin esperar instrucciones", "Pide permiso a la Tierra", "La marca para estudiarla despuÃ©s"], respuestaCorrecta: 1, explicacion: "AEGIS selecciona y analiza rocas interesantes de forma autÃ³noma, sin esperar los 20 min de retardo de comunicaciÃ³n. ğŸ”¬" },
        ]
    },
    {
        id: 'w5_mod4_toma_decisiones',
        titulo: "MÃ³dulo 4: Toma de Decisiones AutÃ³noma ğŸ§ ",
        icon: 'ğŸ§ ',
        descripcion: "CÃ³mo un rover decide quÃ© hacer cuando no puede consultar a la Tierra.",
        contenidoTeorico: [
            { titulo: "ğŸ§  Pensar Sin Ayuda", tipo: 'intro_hero', texto: "Un rover en Marte no puede llamar a la Tierra cada vez que encuentra una roca. Debe decidir solo: Â¿evito? Â¿analizo? Â¿sigo? La toma de decisiones autÃ³noma es lo que separa un juguete de un robot real. MÃ¡quinas de estados, Ã¡rboles de decisiÃ³n y prioridades: herramientas para que tu rover 'piense'. ğŸ¤–ğŸ’­" },
            { titulo: "1. MÃ©todos de Toma de Decisiones", tipo: 'texto', puntos: [
                "**MÃ¡quina de estados finitos (FSM):** El rover tiene estados como 'explorando', 'analizando', 'cargando'. Cambia segÃºn condiciones. ğŸ”„",
                "**Ãrboles de decisiÃ³n:** Preguntas sÃ­/no encadenadas: Â¿Hay obstÃ¡culo? â†’ Â¿Es grande? â†’ Â¿Puedo rodearlo? ğŸŒ³",
                "**Sistema de prioridades:** Seguridad > EnergÃ­a > MisiÃ³n. Si la baterÃ­a es baja, la carga es mÃ¡s importante que explorar. ğŸ“Š",
                "**Planificador de objetivos:** Divide la misiÃ³n en sub-metas: ir a punto A, analizar roca, enviar datos, ir a punto B. ğŸ¯"
            ]},
            { titulo: "ğŸ¤” Â¿SabÃ­as que...?", tipo: 'fun_fact', texto: "Los rovers de la NASA usan un software llamado **AEGIS** (Autonomous Exploration for Gathering Increased Science). Este sistema analiza las fotos del terreno y automÃ¡ticamente identifica rocas cientÃ­ficamente interesantes, Â¡sin que ningÃºn humano se las seÃ±ale! AEGIS ha descubierto formaciones geolÃ³gicas que los cientÃ­ficos habrÃ­an pasado por alto. ğŸ¤–ğŸ”¬" },
            { titulo: "ğŸ’¡ CÃ³digo: MÃ¡quina de Estados del Rover", tipo: 'code_example', lenguaje: 'Python', codigo: "# MÃ¡quina de Estados para Rover AutÃ³nomo\n\nclass RoverFSM:\n    def __init__(self):\n        self.estado = 'EXPLORANDO'\n        self.energia = 100\n        self.datos_buffer = []\n        self.roca_detectada = False\n    \n    def actualizar(self, sensores):\n        if self.estado == 'EXPLORANDO':\n            if self.energia < 20:\n                self.estado = 'CARGANDO'\n                print('ğŸ”‹ BaterÃ­a baja â†’ Cargando')\n            elif sensores['roca_interesante']:\n                self.estado = 'ANALIZANDO'\n                print('ğŸ”¬ Roca detectada â†’ Analizando')\n            elif sensores['obstaculo']:\n                self.estado = 'EVADIENDO'\n                print('ğŸª¨ ObstÃ¡culo â†’ Evadiendo')\n            else:\n                print('ğŸš— Explorando...')\n                self.energia -= 1\n        \n        elif self.estado == 'ANALIZANDO':\n            self.datos_buffer.append(sensores['datos_roca'])\n            print(f'ğŸ“Š Datos recolectados: {len(self.datos_buffer)}')\n            if len(self.datos_buffer) >= 3:\n                self.estado = 'TRANSMITIENDO'\n        \n        elif self.estado == 'TRANSMITIENDO':\n            print(f'ğŸ“¡ Enviando {len(self.datos_buffer)} datos a Tierra')\n            self.datos_buffer.clear()\n            self.estado = 'EXPLORANDO'\n        \n        elif self.estado == 'CARGANDO':\n            self.energia += 5  # Paneles solares\n            print(f'â˜€ï¸ Cargando... {self.energia}%')\n            if self.energia >= 80:\n                self.estado = 'EXPLORANDO'\n        \n        elif self.estado == 'EVADIENDO':\n            print('â†©ï¸ Rodeando obstÃ¡culo...')\n            self.estado = 'EXPLORANDO'", explicacion: "Una mÃ¡quina de estados permite al rover cambiar de comportamiento segÃºn la situaciÃ³n: explorar, analizar rocas, cargar baterÃ­a o evadir obstÃ¡culos. Cada estado tiene reglas claras de transiciÃ³n." },
            { titulo: "âœ… Quiz: Decisiones", tipo: 'mini_quiz', pregunta: "En un sistema de prioridades para un rover, Â¿quÃ© es mÃ¡s importante?", opciones: ["Tomar fotos bonitas", "Mantener la seguridad y la energÃ­a", "Ir lo mÃ¡s rÃ¡pido posible", "Analizar todas las rocas que encuentre"], respuestaCorrecta: 1, explicacion: "Â¡Correcto! La prioridad siempre es: Seguridad > EnergÃ­a > ComunicaciÃ³n > MisiÃ³n cientÃ­fica. Un rover destruido no puede hacer ciencia. ğŸ›¡ï¸" },
            { titulo: "ğŸ® MisiÃ³n: DiseÃ±a tu FSM", tipo: 'interactive_challenge', instruccion: "**MisiÃ³n Decisiones:**\n\n1. **Dibuja un diagrama** con 5 estados de rover: Explorando, Analizando, Cargando, Evadiendo, Transmitiendo\n2. **Conecta con flechas** las transiciones (ej: Explorando â†’ Analizando cuando detecta roca)\n3. **Escribe la condiciÃ³n** en cada flecha\n4. **Simula 20 turnos**: lanza un dado para simular eventos (1-2: obstÃ¡culo, 3: roca, 4-5: nada, 6: baterÃ­a baja)\n5. **Registra** los cambios de estado\n\nÂ¡EstÃ¡s diseÃ±ando la mente de un rover!", recompensa: "ğŸ… Insignia: Cerebro del Rover" },
            { titulo: "ğŸ§© Estado y AcciÃ³n", tipo: 'matching_game', instruccion: 'Relaciona cada estado con su acciÃ³n principal', pairs: [{ left: 'ğŸš— Explorando', right: 'Avanzar y escanear terreno' }, { left: 'ğŸ”¬ Analizando', right: 'Recolectar datos de roca' }, { left: 'ğŸ”‹ Cargando', right: 'Esperar con paneles al sol' }, { left: 'ğŸ“¡ Transmitiendo', right: 'Enviar datos a la Tierra' }] },
            { titulo: "âœ…âŒ FSM: Â¿V o F?", tipo: 'true_false', statements: [{ text: 'Una mÃ¡quina de estados finitos puede estar en mÃºltiples estados a la vez.', correct: false, explain: 'Una FSM solo puede estar en UN estado a la vez. Las transiciones cambian entre estados segÃºn condiciones.' }, { text: 'AEGIS puede identificar rocas interesantes sin intervenciÃ³n humana.', correct: true, explain: 'AEGIS analiza imÃ¡genes y automÃ¡ticamente selecciona objetivos cientÃ­ficos para que el rover los analice.' }, { text: 'Los rovers priorizan la ciencia sobre la seguridad.', correct: false, explain: 'La seguridad siempre es la mÃ¡xima prioridad. Un rover daÃ±ado no puede completar ninguna misiÃ³n cientÃ­fica.' }] },
            { titulo: "ğŸ’¡ Tip de Decisiones", tipo: 'tip', texto: "**Las mÃ¡quinas de estados son increÃ­blemente Ãºtiles.** Puedes usar FSM para videojuegos (estados del enemigo), apps (pantallas), robots (comportamientos) y hasta para organizar tu rutina diaria. Â¡Domina las FSM y dominarÃ¡s la lÃ³gica! ğŸ”„ğŸ§ " },
            { titulo: "âœ… Quiz: FSM", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡ntos estados puede tener activos una FSM al mismo tiempo?", opciones: ["Todos los que quiera", "Solo uno", "MÃ­nimo dos", "Depende del robot"], respuestaCorrecta: 1, explicacion: "Una MÃ¡quina de Estados Finitos (FSM) solo puede estar en UN estado a la vez. Las transiciones cambian entre estados. ğŸ”„" },
            { titulo: "âœ… Quiz: AEGIS IA", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© hace el software AEGIS en los rovers de la NASA?", opciones: ["Controla las ruedas", "Identifica automÃ¡ticamente rocas cientÃ­ficamente interesantes", "Gestiona la baterÃ­a", "EnvÃ­a datos a la Tierra"], respuestaCorrecta: 1, explicacion: "AEGIS analiza fotos del terreno y selecciona automÃ¡ticamente rocas interesantes para que el rover las analice. Â¡Ciencia autÃ³noma! ğŸ”¬" },
            { titulo: "âœ… Quiz: Ãrbol de DecisiÃ³n", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo funciona un Ã¡rbol de decisiÃ³n?", opciones: ["Es un Ã¡rbol real plantado en el rover", "Encadena preguntas sÃ­/no para llegar a una decisiÃ³n", "Solo funciona con Internet", "Es un tipo de motor"], respuestaCorrecta: 1, explicacion: "Un Ã¡rbol de decisiÃ³n hace preguntas binarias: Â¿Hay obstÃ¡culo? â†’ Â¿Es grande? â†’ Â¿Puedo rodearlo? Cada respuesta lleva a la siguiente. ğŸŒ³" },
            { titulo: "âœ… Quiz: Prioridades del Rover", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡l es el orden correcto de prioridades de un rover?", opciones: ["Ciencia > EnergÃ­a > Seguridad", "Velocidad > Fotos > ComunicaciÃ³n", "Seguridad > EnergÃ­a > ComunicaciÃ³n > Ciencia", "ComunicaciÃ³n > Todo lo demÃ¡s"], respuestaCorrecta: 2, explicacion: "Seguridad es siempre primero. Sin rover no hay misiÃ³n. Luego energÃ­a, comunicaciÃ³n y finalmente ciencia. ğŸ›¡ï¸" },
            { titulo: "âœ… Quiz: ReplanificaciÃ³n", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© hace un rover cuando sus planes cambian por condiciones inesperadas?", opciones: ["Se apaga", "Replanifica usando la informaciÃ³n actualizada de sus sensores", "Sigue el plan original sin importar quÃ©", "Espera 24 horas"], respuestaCorrecta: 1, explicacion: "La replanificaciÃ³n dinÃ¡mica es clave: el rover actualiza constantemente sus planes segÃºn nueva informaciÃ³n. ğŸ”„" },
            { titulo: "âœ… Quiz: Planificador de Objetivos", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© hace un planificador de objetivos en un rover?", opciones: ["Define los colores del rover", "Divide la misiÃ³n en sub-metas ordenadas y alcanzables", "Solo mide el combustible", "Es un calendario"], respuestaCorrecta: 1, explicacion: "El planificador divide la misiÃ³n compleja en sub-metas simples: ir a punto A, analizar roca, enviar datos, ir a punto B. ğŸ¯" },
            { titulo: "âœ… Quiz: Modos del Rover", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© pasa cuando un rover entra en 'modo seguro'?", opciones: ["Acelera al mÃ¡ximo", "Detiene operaciones, apunta paneles al sol y espera instrucciones", "Toma mÃ¡s fotos", "Se autodestruye"], respuestaCorrecta: 1, explicacion: "En modo seguro, el rover para todo, asegura su energÃ­a y comunicaciÃ³n, y espera que la Tierra diagnostique el problema. ğŸ†˜" },
            { titulo: "âœ… Quiz: Timeout", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es un timeout en la toma de decisiones de un rover?", opciones: ["Una pausa para descanso", "Un lÃ­mite de tiempo para completar una acciÃ³n antes de cancelarla", "Un error del sistema", "Una transmisiÃ³n de radio"], respuestaCorrecta: 1, explicacion: "Si una acciÃ³n tarda mÃ¡s de lo esperado (timeout), el rover la cancela y pasa a un estado seguro. Evita quedarse atascado. â±ï¸" },
            { titulo: "âœ… Quiz: Decisiones en Tiempo Real", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© las decisiones en tiempo real son mÃ¡s difÃ­ciles que las planificadas?", opciones: ["Porque son mÃ¡s caras", "Porque el rover debe procesar datos y decidir en milisegundos", "Porque necesitan internet", "No son mÃ¡s difÃ­ciles"], respuestaCorrecta: 1, explicacion: "Las decisiones reactivas (evitar obstÃ¡culo repentino) requieren procesamiento ultra-rÃ¡pido, sin tiempo para analizar todas las opciones. âš¡" },
        ]
    },

    // ===== SECCIÃ“N 2: HARDWARE DE ROVERS (4 mÃ³dulos) =====
    {
        id: 'w5_mod5_chasis_movilidad',
        titulo: "MÃ³dulo 5: Chasis y Movilidad ğŸ›",
        icon: 'ğŸ›',
        descripcion: "DiseÃ±a el cuerpo y las ruedas de un rover que pueda atravesar terreno difÃ­cil.",
        contenidoTeorico: [
            { titulo: "ğŸ› Ruedas que Conquistan Planetas", tipo: 'intro_hero', texto: "Las ruedas de Curiosity tienen 50cm de diÃ¡metro y estÃ¡n hechas de aluminio con un patrÃ³n especial que deja las letras JPL en cÃ³digo Morse sobre la arena marciana. DiseÃ±ar la movilidad de un rover es un arte entre tracciÃ³n, peso y durabilidad. ğŸœï¸" },
            { titulo: "1. Sistemas de Movilidad", tipo: 'texto', puntos: [
                "**SuspensiÃ³n Rocker-Bogie:** Sistema de la NASA con 6 ruedas que permite al rover trepar rocas del doble de su altura sin volcarse. ğŸ”ï¸",
                "**Ruedas independientes:** Cada rueda tiene su propio motor. Puede girar en su lugar rotando las ruedas de cada lado en direcciÃ³n opuesta. ğŸ”„",
                "**Materiales:** Titanio y aluminio para bajo peso y alta resistencia. Las ruedas de Curiosity pesan solo 10kg. âš–ï¸",
                "**Orugas vs Ruedas:** Las orugas distribuyen mejor el peso en arena, pero las ruedas son mÃ¡s eficientes en energÃ­a. ğŸœï¸"
            ]},
            { titulo: "ğŸ¤” Â¿SabÃ­as que...?", tipo: 'fun_fact', texto: "Las ruedas de Curiosity se daÃ±aron mÃ¡s rÃ¡pido de lo esperado por las rocas afiladas de Marte. Para Perseverance, la NASA rediseÃ±Ã³ las ruedas con un perfil ligeramente mÃ¡s grueso y un patrÃ³n diferente de agujeros. Â¡Cada misiÃ³n aprende de la anterior! Las 'cicatrices' en las ruedas de Curiosity son una de las imÃ¡genes mÃ¡s famosas de Marte. ğŸ›ğŸ”´" },
            { titulo: "ğŸ’¡ CÃ³digo: SimulaciÃ³n de Rocker-Bogie", tipo: 'code_example', lenguaje: 'Python', codigo: "# SimulaciÃ³n simplificada de suspensiÃ³n Rocker-Bogie\n\nclass RockerBogie:\n    def __init__(self):\n        self.ruedas = {\n            'front_left': {'altura': 0, 'traccion': True},\n            'mid_left': {'altura': 0, 'traccion': True},\n            'rear_left': {'altura': 0, 'traccion': True},\n            'front_right': {'altura': 0, 'traccion': True},\n            'mid_right': {'altura': 0, 'traccion': True},\n            'rear_right': {'altura': 0, 'traccion': True},\n        }\n        self.max_inclinacion = 45  # grados\n    \n    def adaptar_terreno(self, terreno):\n        \"\"\"Ajusta ruedas al terreno\"\"\"\n        for rueda, h in terreno.items():\n            if rueda in self.ruedas:\n                self.ruedas[rueda]['altura'] = h\n        \n        # Verificar estabilidad\n        alturas = [r['altura'] for r in self.ruedas.values()]\n        dif = max(alturas) - min(alturas)\n        inclinacion = dif * 5  # SimplificaciÃ³n\n        \n        if inclinacion > self.max_inclinacion:\n            return f'âš ï¸ InclinaciÃ³n {inclinacion}Â° > LÃ­mite'\n        return f'âœ… Estable a {inclinacion}Â°'\n    \n    def contar_traccion(self):\n        return sum(1 for r in self.ruedas.values()\n                  if r['traccion'])\n\nsuspension = RockerBogie()\nprint(suspension.adaptar_terreno({\n    'front_left': 5, 'mid_left': 0,\n    'rear_left': 2, 'front_right': 3\n}))", explicacion: "La suspensiÃ³n Rocker-Bogie mantiene las 6 ruedas en contacto con el suelo en terrenos irregulares. Cada lado se adapta independientemente, dando mÃ¡xima tracciÃ³n y estabilidad." },
            { titulo: "âœ… Quiz: Movilidad", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡ntas ruedas tiene la suspensiÃ³n Rocker-Bogie de los rovers de la NASA?", opciones: ["4 ruedas", "6 ruedas", "8 ruedas", "Usa orugas"], respuestaCorrecta: 1, explicacion: "Â¡Correcto! La suspensiÃ³n Rocker-Bogie usa 6 ruedas (3 por lado) con un sistema de barras que permite que cada rueda se adapte independientemente al terreno. ğŸ›" },
            { titulo: "ğŸ® MisiÃ³n: DiseÃ±a tu Chasis", tipo: 'interactive_challenge', instruccion: "**MisiÃ³n Chasis:**\n\n1. **Construye un chasis** con materiales reciclados (cartÃ³n, palitos, tapas de botella)\n2. **DiseÃ±a con 6 ruedas** intentando imitar el sistema Rocker-Bogie\n3. **Prueba en terreno difÃ­cil:** arena, piedras, pendientes\n4. **Mide** cuÃ¡nta inclinaciÃ³n soporta antes de volcarse\n5. **Compara** con un diseÃ±o de 4 ruedas. Â¿CuÃ¡l es mÃ¡s estable?\n\nÂ¡Construir prototipos fÃ­sicos es la mejor forma de aprender!", recompensa: "ğŸ… Insignia: Ingeniero de Chasis" },
            { titulo: "ğŸ§© Componente y Material", tipo: 'matching_game', instruccion: 'Relaciona cada parte del chasis con su material', pairs: [{ left: 'ğŸ› Ruedas', right: 'Aluminio perforado' }, { left: 'ğŸ—ï¸ Estructura', right: 'Titanio ligero' }, { left: 'âš™ï¸ Ejes', right: 'Acero inoxidable' }, { left: 'ğŸ”§ Barras Rocker', right: 'Fibra de carbono' }] },
            { titulo: "âœ…âŒ Chasis: Â¿V o F?", tipo: 'true_false', statements: [{ text: 'Las ruedas de Curiosity dejaban las letras JPL en cÃ³digo Morse en la arena.', correct: true, explain: 'Las ruedas tenÃ­an un patrÃ³n que deletreaba JPL (Jet Propulsion Laboratory) en cÃ³digo Morse con cada vuelta.' }, { text: 'La suspensiÃ³n Rocker-Bogie permite trepar rocas del doble de la altura de la rueda.', correct: true, explain: 'Este sistema permite que el rover suba obstÃ¡culos de hasta 2 veces el diÃ¡metro de la rueda manteniendo estabilidad.' }, { text: 'Las orugas de tanque son mejores que las ruedas para rovers en Marte.', correct: false, explain: 'Las ruedas consumen menos energÃ­a y son mÃ¡s fiables. Las orugas son mÃ¡s pesadas y tienen mÃ¡s piezas que pueden fallar.' }] },
            { titulo: "ğŸ’¡ Tip de Hardware", tipo: 'tip', texto: "**El peso es el enemigo.** En el espacio, cada gramo cuenta porque cuesta $20,000 por kilogramo lanzar algo al espacio. Siempre busca hacer tu rover lo mÃ¡s ligero posible sin sacrificar resistencia. Â¡AsÃ­ piensan en SpaceX y la NASA! âš–ï¸ğŸš€" },
            { titulo: "âœ… Quiz: Rocker-Bogie", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© ventaja principal tiene el sistema Rocker-Bogie?", opciones: ["Es el mÃ¡s rÃ¡pido", "Mantiene las 6 ruedas en contacto con terreno irregular", "Es el mÃ¡s barato", "Usa menos energÃ­a"], respuestaCorrecta: 1, explicacion: "Rocker-Bogie permite que cada rueda se adapte independientemente al terreno, dando mÃ¡xima tracciÃ³n y estabilidad. ğŸ”ï¸" },
            { titulo: "âœ… Quiz: Ruedas de Curiosity", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© se daÃ±aron las ruedas de Curiosity mÃ¡s rÃ¡pido de lo esperado?", opciones: ["Porque eran de plÃ¡stico", "Porque las rocas marcianas son mÃ¡s afiladas de lo previsto", "Porque iban muy rÃ¡pido", "Porque eran muy pequeÃ±as"], respuestaCorrecta: 1, explicacion: "Las rocas marcianas, con bordes afilados sin erosiÃ³n por agua, perforaron el aluminio de las ruedas. Para Perseverance las rediseÃ±aron. ğŸª¨" },
            { titulo: "âœ… Quiz: Giro en el Sitio", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo puede girar un rover en su propio lugar?", opciones: ["Levantando las ruedas frontales", "Girando las ruedas de cada lado en direcciÃ³n opuesta", "Usando un cohete lateral", "Solo avanza, no puede girar"], respuestaCorrecta: 1, explicacion: "Con motores independientes, las ruedas izquierdas avanzan mientras las derechas retroceden. El rover rota sobre su centro. ğŸ”„" },
            { titulo: "âœ… Quiz: Material de Ruedas", tipo: 'mini_quiz', pregunta: "Â¿De quÃ© material estÃ¡n hechas las ruedas de Curiosity?", opciones: ["Caucho como un auto", "Aluminio con perforaciones", "Acero inoxidable", "PlÃ¡stico reforzado"], respuestaCorrecta: 1, explicacion: "Las ruedas son de aluminio ligero con un patrÃ³n de perforaciones para tracciÃ³n. Pesan solo ~10 kg cada una. ğŸ›" },
            { titulo: "âœ… Quiz: JPL en Morse", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© mensaje dejaban las ruedas de Curiosity en la arena marciana?", opciones: ["SOS", "JPL en cÃ³digo Morse", "NASA en binario", "HOLA en espaÃ±ol"], respuestaCorrecta: 1, explicacion: "Las perforaciones de las ruedas deletreaban JPL (Jet Propulsion Laboratory) en cÃ³digo Morse con cada vuelta. Â·--- Â·--Â· Â·-Â·Â· ğŸ”¤" },
            { titulo: "âœ… Quiz: Costo por Kilogramo", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡nto cuesta lanzar un kilogramo al espacio aproximadamente?", opciones: ["$100", "$2,000", "$20,000 o mÃ¡s", "$1 millÃ³n"], respuestaCorrecta: 2, explicacion: "Cada kilogramo cuesta ~$20,000+ en lanzamiento. Por eso los rovers se diseÃ±an lo mÃ¡s ligeros posible. âš–ï¸ğŸš€" },
            { titulo: "âœ… Quiz: Orugas vs Ruedas", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© los rovers de Marte usan ruedas en vez de orugas de tanque?", opciones: ["Porque son mÃ¡s rÃ¡pidos", "Porque las ruedas son mÃ¡s eficientes en energÃ­a y mÃ¡s fiables", "Porque se ven mejor", "Porque las orugas no funcionan sin aire"], respuestaCorrecta: 1, explicacion: "Las ruedas consumen menos energÃ­a y tienen menos piezas que puedan fallar. En Marte, la fiabilidad es vital. ğŸœï¸" },
            { titulo: "âœ… Quiz: InclinaciÃ³n MÃ¡xima", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡ntos grados de inclinaciÃ³n puede superar un rover con Rocker-Bogie?", opciones: ["10 grados", "Hasta 45 grados", "90 grados", "Solo terreno plano"], respuestaCorrecta: 1, explicacion: "La suspensiÃ³n Rocker-Bogie permite inclinar hasta ~45 grados sin volcarse. Los rovers suelen limitarse a 30Â° por seguridad. ğŸ“" },
            { titulo: "âœ… Quiz: Motor Independiente", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© cada rueda del rover tiene su propio motor?", opciones: ["Para ir mÃ¡s rÃ¡pido", "Para tener control preciso y seguir funcionando si un motor falla", "Para hacer mÃ¡s ruido", "No tiene motor en cada rueda"], respuestaCorrecta: 1, explicacion: "Motores independientes dan control preciso del giro y redundancia: si un motor falla, los demÃ¡s pueden compensar. ğŸ”§" },
        ]
    },
    {
        id: 'w5_mod6_sensores_rover',
        titulo: "MÃ³dulo 6: Sensores para Rovers ğŸ“¡",
        icon: 'ğŸ“¡',
        descripcion: "Los ojos, oÃ­dos y tacto de un rover: sensores para percibir un mundo desconocido.",
        contenidoTeorico: [
            { titulo: "ğŸ“¡ Los Sentidos del Rover", tipo: 'intro_hero', texto: "Un rover sin sensores es un carro sin conductor. Los sensores son los ojos, oÃ­dos y tacto del robot: cÃ¡maras para ver, LIDAR para medir, espectrÃ³metros para analizar y acelerÃ³metros para sentir el terreno. Â¡Vamos a conocerlos todos! ğŸ”¬ğŸ‘ï¸" },
            { titulo: "1. Tipos de Sensores de Rovers", tipo: 'texto', puntos: [
                "**Sensores de distancia:** UltrasÃ³nico (ondas de sonido) y LIDAR (lÃ¡ser). Miden la distancia a obstÃ¡culos con precisiÃ³n. ğŸ“",
                "**Sensores de imagen:** CÃ¡maras RGB, infrarrojas y estÃ©reo. Dan informaciÃ³n visual del entorno. ğŸ“·",
                "**Sensores inerciales (IMU):** Giroscopio + acelerÃ³metro. Detectan rotaciÃ³n, inclinaciÃ³n y aceleraciÃ³n. âš–ï¸",
                "**Sensores cientÃ­ficos:** EspectrÃ³metros, detectores de radiaciÃ³n, analizadores de suelo. Para la ciencia. ğŸ”¬"
            ]},
            { titulo: "ğŸ¤” Â¿SabÃ­as que...?", tipo: 'fun_fact', texto: "Perseverance tiene un instrumento llamado **MOXIE** que convierte CO2 marciano en oxÃ­geno. En abril 2021, produjo 5 gramos de oxÃ­geno, suficiente para que un astronauta respire 10 minutos. Â¡Un sensor que no solo mide, sino que fabrica! Este es el primer paso para que humanos respiren en Marte. ğŸ«ğŸ”´" },
            { titulo: "ğŸ’¡ CÃ³digo: FusiÃ³n de Sensores", tipo: 'code_example', lenguaje: 'Python', codigo: "# FusiÃ³n de sensores para rover\n\nclass SensorFusion:\n    def __init__(self):\n        self.distancia_frontal = 0  # cm\n        self.distancia_lateral = [0, 0]  # izq, der\n        self.inclinacion = 0  # grados\n        self.temperatura = 0  # Celsius\n    \n    def leer_sensores(self, simulados=None):\n        if simulados:\n            self.distancia_frontal = simulados.get('frontal', 100)\n            self.distancia_lateral = simulados.get('lateral', [100, 100])\n            self.inclinacion = simulados.get('inclinacion', 0)\n            self.temperatura = simulados.get('temp', 20)\n    \n    def evaluar_seguridad(self):\n        \"\"\"Combina todos los sensores para decidir\"\"\"\n        peligros = []\n        \n        if self.distancia_frontal < 30:\n            peligros.append('ğŸª¨ ObstÃ¡culo frontal cercano')\n        if min(self.distancia_lateral) < 20:\n            peligros.append('âš ï¸ Pared lateral detectada')\n        if abs(self.inclinacion) > 30:\n            peligros.append('ğŸ“ InclinaciÃ³n peligrosa')\n        if self.temperatura < -40:\n            peligros.append('ğŸ¥¶ Temperatura crÃ­tica')\n        \n        seguro = len(peligros) == 0\n        return {\n            'seguro': seguro,\n            'peligros': peligros,\n            'accion': 'AVANZAR' if seguro else 'DETENERSE'\n        }\n\nfusion = SensorFusion()\nfusion.leer_sensores({'frontal': 25, 'inclinacion': 10})\nresultado = fusion.evaluar_seguridad()\nprint(resultado)", explicacion: "La fusiÃ³n de sensores combina datos de mÃºltiples fuentes para tomar mejores decisiones. Un sensor solo puede fallar, pero si 3 sensores dicen 'peligro', la decisiÃ³n es mÃ¡s confiable." },
            { titulo: "âœ… Quiz: Sensores", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© hace MOXIE en el rover Perseverance?", opciones: ["Toma fotos panorÃ¡micas", "Analiza composiciÃ³n de rocas", "Convierte CO2 marciano en oxÃ­geno", "Comunica con satÃ©lites orbitales"], respuestaCorrecta: 2, explicacion: "Â¡Correcto! MOXIE (Mars Oxygen In-Situ Resource Utilization Experiment) convierte el diÃ³xido de carbono de la atmÃ³sfera marciana en oxÃ­geno. Â¡Un paso crucial para futuras misiones tripuladas! ğŸ«" },
            { titulo: "ğŸ® MisiÃ³n: Kit de Sensores", tipo: 'interactive_challenge', instruccion: "**MisiÃ³n Sensores:**\n\n1. **Lista 8 sensores** que usarÃ­as en tu rover\n2. **ClasifÃ­calos:** navegaciÃ³n, ciencia, seguridad, comunicaciÃ³n\n3. **Asigna prioridad** (1-10) a cada uno\n4. **Si solo pudieras elegir 4**, Â¿cuÃ¡les serÃ­an? Â¿Por quÃ©?\n5. **DiseÃ±a una tabla** con: sensor, funciÃ³n, rango, consumo energÃ©tico\n\nÂ¡Seleccionar sensores es una de las decisiones mÃ¡s importantes!", recompensa: "ğŸ… Insignia: Especialista en Sensores" },
            { titulo: "ğŸ§© Sensor y MediciÃ³n", tipo: 'matching_game', instruccion: 'Relaciona cada sensor con lo que mide', pairs: [{ left: 'ğŸ“ UltrasÃ³nico', right: 'Distancia por sonido' }, { left: 'ğŸ”´ LIDAR', right: 'Distancia por lÃ¡ser' }, { left: 'ğŸ”¬ EspectrÃ³metro', right: 'ComposiciÃ³n quÃ­mica' }, { left: 'ğŸ« MOXIE', right: 'ProducciÃ³n de oxÃ­geno' }] },
            { titulo: "âœ…âŒ Sensores: Â¿V o F?", tipo: 'true_false', statements: [{ text: 'MOXIE produjo oxÃ­geno respirble en Marte.', correct: true, explain: 'En abril 2021, MOXIE produjo 5 gramos de oxÃ­geno desde la atmÃ³sfera marciana, un hito histÃ³rico.' }, { text: 'La fusiÃ³n de sensores usa solo un sensor para tomar decisiones.', correct: false, explain: 'La fusiÃ³n de sensores combina datos de MÃšLTIPLES sensores para tomar decisiones mÃ¡s fiables y precisas.' }, { text: 'Los rovers solo necesitan cÃ¡maras para navegar.', correct: false, explain: 'Necesitan cÃ¡maras, LIDAR, IMU y sensores de distancia para navegaciÃ³n completa y segura.' }] },
            { titulo: "ğŸ’¡ Tip de Sensores", tipo: 'tip', texto: "**Redundancia en sensores.** Si un sensor falla, el rover no debe quedarse ciego. Usa al menos 2 tipos diferentes de sensores para medir lo mismo (ej: cÃ¡mara + ultrasÃ³nico para distancia). Â¡AsÃ­ lo hacen en la NASA! ğŸ›¡ï¸ğŸ“¡" },
            { titulo: "âœ… Quiz: UltrasÃ³nico", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo mide la distancia un sensor ultrasÃ³nico?", opciones: ["Con luz lÃ¡ser", "Emite sonido y mide el tiempo de eco", "Con ondas de radio", "Con una regla lÃ¡ser"], respuestaCorrecta: 1, explicacion: "El sensor ultrasÃ³nico envÃ­a un pulso de sonido y mide el tiempo que tarda en rebotar. Distancia = velocidad Ã— tiempo / 2. ğŸ“" },
            { titulo: "âœ… Quiz: FusiÃ³n de Sensores", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es la fusiÃ³n de sensores?", opciones: ["Derretir sensores juntos", "Combinar datos de mÃºltiples sensores para mejor precisiÃ³n", "Usar un solo sensor super preciso", "Conectar sensores por WiFi"], respuestaCorrecta: 1, explicacion: "La fusiÃ³n de sensores combina datos de cÃ¡maras, LIDAR, IMU y mÃ¡s para tomar decisiones mÃ¡s precisas y confiables. ğŸ”—" },
            { titulo: "âœ… Quiz: Redundancia de Sensores", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© los rovers llevan sensores redundantes?", opciones: ["Para gastar mÃ¡s dinero", "Para tener respaldo si un sensor falla", "Porque sobra espacio", "Para comparar marcas"], respuestaCorrecta: 1, explicacion: "Si un sensor falla en Marte, nadie puede reemplazarlo. Los sensores redundantes aseguran que la misiÃ³n continÃºe. ğŸ›¡ï¸" },
            { titulo: "âœ… Quiz: EspectrÃ³metro", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© informaciÃ³n da un espectrÃ³metro al rover?", opciones: ["La temperatura del aire", "La composiciÃ³n quÃ­mica de rocas y suelo", "La velocidad del viento", "La presiÃ³n atmosfÃ©rica"], respuestaCorrecta: 1, explicacion: "Los espectrÃ³metros analizan la luz reflejada por las rocas para identificar minerales y elementos quÃ­micos. ğŸ”¬" },
            { titulo: "âœ… Quiz: Sensor de Temperatura", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© un rover necesita sensores de temperatura internos?", opciones: ["Para predecir el clima", "Para proteger la electrÃ³nica del frÃ­o o calor extremo", "Para cocinar comida", "Solo por curiosidad"], respuestaCorrecta: 1, explicacion: "La electrÃ³nica tiene rangos operativos. Si la temperatura interna baja demasiado, el rover activa calentadores para sobrevivir. ğŸŒ¡ï¸" },
            { titulo: "âœ… Quiz: Sensor RIMFAX", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© hace el radar RIMFAX de Perseverance?", opciones: ["Rastrea satÃ©lites", "Mira debajo de la superficie marciana con ondas de radar", "Comunica con la Tierra", "Mide la velocidad del rover"], respuestaCorrecta: 1, explicacion: "RIMFAX es un radar que penetra el suelo hasta 10 metros de profundidad para ver capas geolÃ³gicas y posible hielo. ğŸ“¡" },
            { titulo: "âœ… Quiz: OxÃ­geno en Marte", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡nto oxÃ­geno produjo MOXIE en su primera demostraciÃ³n?", opciones: ["1 gramo", "5 gramos (10 minutos de respiraciÃ³n)", "1 kilogramo", "100 gramos"], respuestaCorrecta: 1, explicacion: "MOXIE produjo 5 gramos de Oâ‚‚, suficientes para que un astronauta respire 10 minutos. Â¡Un paso histÃ³rico! ğŸ«" },
            { titulo: "âœ… Quiz: CalibraciÃ³n", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© los sensores del rover necesitan calibraciÃ³n periÃ³dica?", opciones: ["Para gastar energÃ­a", "Porque los sensores pueden cambiar su precisiÃ³n con el tiempo", "Para divertir a los ingenieros", "No necesitan calibraciÃ³n"], respuestaCorrecta: 1, explicacion: "La radiaciÃ³n, temperatura y desgaste pueden alterar las lecturas. La calibraciÃ³n ajusta los sensores para mantener precisiÃ³n. ğŸ¯" },
            { titulo: "âœ… Quiz: Sensor Wind", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© instrumento de Perseverance mide el clima marciano?", opciones: ["SuperCam", "MEDA (Mars Environmental Dynamics Analyzer)", "MOXIE", "Mastcam-Z"], respuestaCorrecta: 1, explicacion: "MEDA mide viento, temperatura, humedad, presiÃ³n y radiaciÃ³n. Es la estaciÃ³n meteorolÃ³gica del rover. â˜€ï¸ğŸŒ¬ï¸" },
        ]
    },
    {
        id: 'w5_mod7_energia_autonomia',
        titulo: "MÃ³dulo 7: EnergÃ­a y AutonomÃ­a âš¡",
        icon: 'âš¡',
        descripcion: "DiseÃ±a sistemas de energÃ­a que mantengan a tu rover funcionando durante meses.",
        contenidoTeorico: [
            { titulo: "âš¡ Sobrevivir Sin Enchufe", tipo: 'intro_hero', texto: "Un rover en el desierto marciano no puede buscar un enchufe. Necesita paneles solares, baterÃ­as eficientes y gestiÃ³n inteligente de energÃ­a para funcionar meses o aÃ±os sin mantenimiento. Â¡La energÃ­a es vida para un rover! ğŸ”‹â˜€ï¸" },
            { titulo: "1. GestiÃ³n de EnergÃ­a en Rovers", tipo: 'texto', puntos: [
                "**Paneles solares:** Generan electricidad de la luz solar. En Marte reciben ~43% menos luz que en la Tierra. â˜€ï¸",
                "**RTG nuclear:** Genera calor y electricidad con plutonio. Independiente de la luz solar. Dura dÃ©cadas. â˜¢ï¸",
                "**Modos de energÃ­a:** Los rovers tienen modos: exploraciÃ³n (100%), ahorro (60%), hibernaciÃ³n (20%), emergencia (5%). ğŸ”‹",
                "**CalefacciÃ³n:** Sin calefacciÃ³n, la electrÃ³nica se congela a -120Â°C. Los calentadores usan mucha energÃ­a. ğŸŒ¡ï¸"
            ]},
            { titulo: "ğŸ¤” Â¿SabÃ­as que...?", tipo: 'fun_fact', texto: "El RTG de Curiosity genera solo **110 vatios** de electricidad, menos que una lÃ¡mpara de lectura. Pero con gestiÃ³n inteligente, es suficiente para alimentar todos sus instrumentos cientÃ­ficos, computadora, comunicaciones y calefacciÃ³n. Curiosity prioriza tareas y nunca enciende todo al mismo tiempo. Â¡La eficiencia energÃ©tica es un superpoder! âš¡ğŸ”´" },
            { titulo: "ğŸ’¡ CÃ³digo: Gestor de EnergÃ­a del Rover", tipo: 'code_example', lenguaje: 'Python', codigo: "# Gestor de energÃ­a inteligente\n\nclass EnergyManager:\n    def __init__(self, capacidad=100):\n        self.bateria = capacidad\n        self.solar_rate = 15  # watts/hora\n        self.sistemas = {\n            'motor': {'consumo': 25, 'prioridad': 2, 'activo': True},\n            'camaras': {'consumo': 10, 'prioridad': 3, 'activo': True},\n            'ciencia': {'consumo': 20, 'prioridad': 4, 'activo': True},\n            'comunicacion': {'consumo': 15, 'prioridad': 1, 'activo': True},\n            'calefaccion': {'consumo': 30, 'prioridad': 0, 'activo': True},\n        }\n    \n    def consumo_total(self):\n        return sum(s['consumo'] for s in self.sistemas.values() if s['activo'])\n    \n    def optimizar(self):\n        \"\"\"Apaga sistemas por prioridad si energÃ­a baja\"\"\"\n        # Ordenar por prioridad (mayor nÃºmero = menos esencial)\n        por_prioridad = sorted(self.sistemas.items(),\n                              key=lambda x: -x[1]['prioridad'])\n        \n        for nombre, sistema in por_prioridad:\n            if self.bateria < 30 and sistema['prioridad'] > 2:\n                sistema['activo'] = False\n                print(f'â¸ï¸ {nombre} apagado (prioridad {sistema[\"prioridad\"]})')\n            elif self.bateria < 15 and sistema['prioridad'] > 1:\n                sistema['activo'] = False\n                print(f'ğŸ›‘ {nombre} apagado (emergencia)')\n    \n    def ciclo(self, horas_sol=6):\n        generado = self.solar_rate * horas_sol\n        consumido = self.consumo_total()\n        self.bateria = min(100, self.bateria + generado - consumido)\n        self.optimizar()\n        print(f'ğŸ”‹ BaterÃ­a: {self.bateria:.0f}%')", explicacion: "Un gestor de energÃ­a controla quÃ© sistemas estÃ¡n activos segÃºn el nivel de baterÃ­a. Los sistemas menos esenciales se apagan primero. La calefacciÃ³n y comunicaciÃ³n nunca se apagan porque son crÃ­ticos para la supervivencia." },
            { titulo: "âœ… Quiz: EnergÃ­a", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© la calefacciÃ³n nunca debe apagarse en un rover marciano?", opciones: ["Porque los astronautas la necesitan", "Porque sin calefacciÃ³n, la electrÃ³nica se congela y destruye", "Porque genera energÃ­a extra", "Porque los paneles solares la necesitan"], respuestaCorrecta: 1, explicacion: "Â¡Correcto! Las temperaturas en Marte pueden bajar a -120Â°C. Sin calefacciÃ³n, los circuitos electrÃ³nicos se daÃ±an irreversiblemente. La calefacciÃ³n es un sistema de supervivencia. ğŸŒ¡ï¸" },
            { titulo: "ğŸ® MisiÃ³n: Presupuesto EnergÃ©tico", tipo: 'interactive_challenge', instruccion: "**MisiÃ³n EnergÃ­a:**\n\n1. **Tu rover genera 80W** con paneles solares (dÃ­a marciano de 6 horas de sol Ãºtil)\n2. **Crea una tabla** de consumo: motor, cÃ¡maras, ciencia, radio, calefacciÃ³n\n3. **El total NO puede superar 80W**\n4. **Simula una tormenta de polvo** (solo 30W disponibles). Â¿QuÃ© apagas?\n5. **Simula la noche** (0W generados, solo baterÃ­a). Â¿CuÃ¡ntas horas aguantas?\n\nÂ¡La gestiÃ³n energÃ©tica decide si tu rover sobrevive o no!", recompensa: "ğŸ… Insignia: Maestro de EnergÃ­a" },
            { titulo: "ğŸ§© Modo y Consumo", tipo: 'matching_game', instruccion: 'Relaciona cada modo con su nivel de consumo', pairs: [{ left: 'ğŸš— ExploraciÃ³n', right: '100% de sistemas activos' }, { left: 'ğŸ”‹ Ahorro', right: '60% - solo esenciales' }, { left: 'ğŸ˜´ HibernaciÃ³n', right: '20% - solo calefacciÃ³n' }, { left: 'ğŸš¨ Emergencia', right: '5% - solo supervivencia' }] },
            { titulo: "âœ…âŒ EnergÃ­a: Â¿V o F?", tipo: 'true_false', statements: [{ text: 'El RTG de Curiosity genera mÃ¡s electricidad que un horno microondas.', correct: false, explain: 'El RTG genera solo 110 watios, menos que una lÃ¡mpara de lectura. Un microondas usa ~1000W.' }, { text: 'Los rovers nunca encienden todos sus sistemas al mismo tiempo.', correct: true, explain: 'La energÃ­a es limitada, asÃ­ que los rovers priorizan y secuencian el uso de instrumentos.' }, { text: 'En una tormenta de polvo, un rover solar queda sin energÃ­a.', correct: true, explain: 'Las tormentas de polvo cubren los paneles solares y bloquean la luz. AsÃ­ terminÃ³ la misiÃ³n de Opportunity.' }] },
            { titulo: "ğŸ’¡ Tip de EnergÃ­a", tipo: 'tip', texto: "**Mide el consumo de tu robot.** Usa un multÃ­metro para medir los miliamperios de cada componente de tu robot Arduino. Suma todo y calcula cuÃ¡nto durarÃ¡ tu baterÃ­a. Â¡Los ingenieros de la NASA hacen exactamente esto! âš¡ğŸ“" },
            { titulo: "âœ… Quiz: RTG vs Solar", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡l es la principal ventaja de un RTG sobre paneles solares?", opciones: ["Es mÃ¡s barato", "Funciona dÃ­a y noche, en tormentas, durante dÃ©cadas", "Es mÃ¡s liviano", "Genera mÃ¡s electricidad"], respuestaCorrecta: 1, explicacion: "Un RTG usa plutonio-238 y funciona independiente de la luz solar. Curiosity opera de noche y en tormentas sin problemas. â˜¢ï¸" },
            { titulo: "âœ… Quiz: Potencia Curiosity", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡nta potencia elÃ©ctrica genera el RTG de Curiosity?", opciones: ["10 watts", "110 watts (menos que una lÃ¡mpara)", "1000 watts", "5000 watts"], respuestaCorrecta: 1, explicacion: "Solo 110 watts, menos que una lÃ¡mpara de lectura. Pero con gestiÃ³n inteligente, es suficiente para toda la misiÃ³n. âš¡" },
            { titulo: "âœ… Quiz: Muerte de Opportunity", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© causÃ³ el fin de la misiÃ³n del rover Opportunity?", opciones: ["Un choque contra una roca", "Una tormenta de polvo cubriÃ³ sus paneles solares", "Se le acabÃ³ el RTG", "La NASA lo apagÃ³ intencionalmente"], respuestaCorrecta: 1, explicacion: "En 2018, una tormenta global de polvo bloqueÃ³ la luz solar. Sin energÃ­a, Opportunity se congelÃ³ y dejÃ³ de funcionar. ğŸ˜¢" },
            { titulo: "âœ… Quiz: HibernaciÃ³n", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© sistemas mantiene activos un rover en modo hibernaciÃ³n?", opciones: ["Todos los sistemas", "Solo calefacciÃ³n y reloj para sobrevivir", "Solo las cÃ¡maras", "Absolutamente nada"], respuestaCorrecta: 1, explicacion: "En hibernaciÃ³n, el rover apaga cÃ¡maras e instrumentos. Solo mantiene calentadores y el reloj para despertar y sobrevivir. ğŸ˜´" },
            { titulo: "âœ… Quiz: BaterÃ­as", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© tipo de baterÃ­a usan los rovers modernos?", opciones: ["Pilas alcalinas AA", "BaterÃ­as de litio-ion recargables", "BaterÃ­as de plomo-Ã¡cido", "Pilas de botÃ³n"], respuestaCorrecta: 1, explicacion: "Las baterÃ­as de litio-ion son ligeras, recargables y tienen alta densidad energÃ©tica. Perfectas para rovers. ğŸ”‹" },
            { titulo: "âœ… Quiz: Paneles Marcianos", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© los paneles solares generan menos energÃ­a en Marte que en la Tierra?", opciones: ["Porque Marte es mÃ¡s frÃ­o", "Porque Marte estÃ¡ 1.5 veces mÃ¡s lejos del Sol", "Porque no hay oxÃ­geno", "Porque el sol es diferente"], respuestaCorrecta: 1, explicacion: "Marte recibe solo el 43% de la luz solar que recibe la Tierra debido a su mayor distancia al Sol. â˜€ï¸" },
            { titulo: "âœ… Quiz: GestiÃ³n Inteligente", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© el rover nunca enciende todos sus instrumentos al mismo tiempo?", opciones: ["Porque no quiere", "Porque la energÃ­a es limitada y debe priorizarse", "Porque los instrumentos se interfieren", "Porque la NASA lo prohÃ­be"], respuestaCorrecta: 1, explicacion: "Con solo 110W disponibles, el rover secuencia el uso de instrumentos. Motor, cÃ¡mara y lÃ¡ser nunca operan juntos. âš¡" },
            { titulo: "âœ… Quiz: CalefacciÃ³n", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© porcentaje de la energÃ­a del rover se usa en calefacciÃ³n?", opciones: ["Casi nada, 1%", "Hasta el 50% o mÃ¡s en las noches frÃ­as", "10% exacto", "No usa calefacciÃ³n"], respuestaCorrecta: 1, explicacion: "A -120Â°C en las noches marcianas, la calefacciÃ³n puede consumir mÃ¡s de la mitad de la energÃ­a disponible. Â¡Sobrevivir tiene un costo! ğŸ¥¶" },
            { titulo: "âœ… Quiz: DuraciÃ³n RTG", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡ntos aÃ±os puede funcionar un RTG en un rover?", opciones: ["1-2 aÃ±os", "5 aÃ±os", "MÃ¡s de 14 aÃ±os y potencialmente dÃ©cadas", "Exactamente 10 aÃ±os"], respuestaCorrecta: 2, explicacion: "Curiosity lleva 14+ aÃ±os con su RTG. Voyager 1 y 2 llevan mÃ¡s de 48 aÃ±os. Los RTGs son increÃ­blemente duraderos. âš›ï¸" },
        ]
    },
    {
        id: 'w5_mod8_comunicacion_rover',
        titulo: "MÃ³dulo 8: ComunicaciÃ³n del Rover ğŸ“»",
        icon: 'ğŸ“»',
        descripcion: "CÃ³mo un rover envÃ­a datos, recibe comandos y se comunica cuando estÃ¡ solo en el desierto.",
        contenidoTeorico: [
            { titulo: "ğŸ“» Solo en el Desierto, Pero Conectado", tipo: 'intro_hero', texto: "Un rover autÃ³nomo necesita comunicarse: enviar datos cientÃ­ficos, recibir actualizaciones de software y reportar su estado. En Marte no hay torres de celular, asÃ­ que usa antenas directas y satÃ©lites orbitales como relÃ©s. Â¡La comunicaciÃ³n es el cordÃ³n umbilical con la Tierra! ğŸ“¡ğŸŒ" },
            { titulo: "1. Sistemas de ComunicaciÃ³n de Rovers", tipo: 'texto', puntos: [
                "**Antena HGA (High Gain Antenna):** Directa a la Tierra. EnvÃ­a datos a 2Mbps pero debe apuntar con precisiÃ³n. ğŸ“¡",
                "**Antena UHF:** Comunica con satÃ©lites orbitales (como Mars Reconnaissance Orbiter) que luego retransmiten a Tierra. ğŸ›°ï¸",
                "**Protocolos DTN:** Delay-Tolerant Networking, diseÃ±ado para comunicaciones con minutos u horas de retraso. ğŸ“¨",
                "**Ventanas de comunicaciÃ³n:** Solo puede comunicarse cuando hay 'lÃ­nea de vista' a la Tierra o a un satÃ©lite orbital. â°"
            ]},
            { titulo: "ğŸ¤” Â¿SabÃ­as que...?", tipo: 'fun_fact', texto: "Los rovers marcianos envÃ­an sus datos mÃ¡s importantes a travÃ©s del **Mars Reconnaissance Orbiter (MRO)**, que pasa sobre el rover 2-3 veces al dÃ­a. Cada paso dura solo 8-10 minutos, asÃ­ que el rover prepara paquetes de datos comprimidos con anticipaciÃ³n. Â¡Es como tener una paloma mensajera orbital! ğŸ›°ï¸ğŸ“¦" },
            { titulo: "ğŸ’¡ CÃ³digo: Cola de Mensajes del Rover", tipo: 'code_example', lenguaje: 'Python', codigo: "# Sistema de comunicaciÃ³n con cola de mensajes\n\nclass RoverComms:\n    def __init__(self):\n        self.cola_envio = []  # Datos para enviar\n        self.cola_recibido = []  # Comandos recibidos\n        self.max_paquete = 256  # KB por transmisiÃ³n\n        self.ventana_abierta = False\n    \n    def encolar_datos(self, datos, prioridad=5):\n        \"\"\"Agrega datos con prioridad (1=urgente, 10=baja)\"\"\"\n        self.cola_envio.append({\n            'datos': datos,\n            'prioridad': prioridad,\n            'tamaÃ±o': len(str(datos)),\n        })\n        self.cola_envio.sort(key=lambda x: x['prioridad'])\n    \n    def transmitir(self, ventana_minutos=8):\n        \"\"\"Transmite durante ventana de comunicaciÃ³n\"\"\"\n        if not self.ventana_abierta:\n            print('ğŸ“¡ Sin ventana de comunicaciÃ³n')\n            return\n        \n        enviados = 0\n        capacidad = ventana_minutos * 32  # KB por minuto\n        \n        while self.cola_envio and capacidad > 0:\n            paquete = self.cola_envio.pop(0)\n            capacidad -= paquete['tamaÃ±o']\n            enviados += 1\n            print(f'ğŸ“¤ Enviado: P{paquete[\"prioridad\"]}')\n        \n        print(f'âœ… {enviados} paquetes transmitidos')\n        if self.cola_envio:\n            print(f'â³ {len(self.cola_envio)} paquetes en espera')\n\ncomms = RoverComms()\ncomms.encolar_datos('foto_panoramica.jpg', prioridad=3)\ncomms.encolar_datos('estado_bateria', prioridad=1)\ncomms.encolar_datos('datos_roca_42', prioridad=2)\ncomms.ventana_abierta = True\ncomms.transmitir()", explicacion: "El rover prioriza los datos mÃ¡s importantes y los envÃ­a primero durante las ventanas de comunicaciÃ³n. Los datos menos urgentes esperan al siguiente pase del satÃ©lite orbital." },
            { titulo: "âœ… Quiz: ComunicaciÃ³n", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡nto dura una ventana de comunicaciÃ³n tÃ­pica con un satÃ©lite orbital?", opciones: ["24 horas continuas", "8-10 minutos por pasada", "1 hora exacta", "Solo 30 segundos"], respuestaCorrecta: 1, explicacion: "Â¡Correcto! El satÃ©lite orbital pasa sobre el rover 2-3 veces al dÃ­a, y cada pasada dura solo 8-10 minutos. Â¡Hay que aprovchar cada segundo! â°ğŸ“¡" },
            { titulo: "ğŸ® MisiÃ³n: Protocolo de ComunicaciÃ³n", tipo: 'interactive_challenge', instruccion: "**MisiÃ³n ComunicaciÃ³n:**\n\n1. **Simula tener solo 5 minutos** para enviar datos\n2. **Prioriza estos datos:** foto (500KB), estado baterÃ­a (1KB), alerta peligro (1KB), datos ciencia (200KB), software update request (2KB)\n3. **Si solo puedes enviar 260KB**, Â¿quÃ© envÃ­as primero?\n4. **DiseÃ±a un sistema de prioridades** del 1 (urgente) al 5 (baja)\n5. **Â¿QuÃ© pasa si falla la transmisiÃ³n?** DiseÃ±a un sistema de reintentos\n\nÂ¡Gestionar comunicaciÃ³n es vital para una misiÃ³n exitosa!", recompensa: "ğŸ… Insignia: Operador de Comunicaciones" },
            { titulo: "ğŸ§© Antena y Uso", tipo: 'matching_game', instruccion: 'Relaciona cada antena con su funciÃ³n', pairs: [{ left: 'ğŸ“¡ HGA', right: 'ComunicaciÃ³n directa a Tierra' }, { left: 'ğŸ›°ï¸ UHF', right: 'ComunicaciÃ³n vÃ­a satÃ©lite orbital' }, { left: 'ğŸ“¨ DTN', right: 'Protocolo tolerante a retardos' }, { left: 'â° Ventana', right: '8-10 min de transmisiÃ³n' }] },
            { titulo: "âœ…âŒ Comms: Â¿V o F?", tipo: 'true_false', statements: [{ text: 'Los rovers marcianos pueden comunicarse con la Tierra en cualquier momento.', correct: false, explain: 'Solo pueden comunicarse durante ventanas cuando hay lÃ­nea de vista a la Tierra o cuando un satÃ©lite orbital pasa sobre ellos.' }, { text: 'MRO actÃºa como un relÃ© de comunicaciÃ³n para los rovers.', correct: true, explain: 'Mars Reconnaissance Orbiter recibe datos del rover y los retransmite a la Tierra con su antena mÃ¡s potente.' }, { text: 'Los paquetes de datos mÃ¡s urgentes se envÃ­an primero.', correct: true, explain: 'Los rovers priorizan datos crÃ­ticos (estado, alertas) sobre datos cientÃ­ficos durante ventanas de comunicaciÃ³n limitadas.' }] },
            { titulo: "ğŸ’¡ Tip de ComunicaciÃ³n", tipo: 'tip', texto: "**La compresiÃ³n importa.** Antes de transmitir datos, comprÃ­melos. Una foto de 5MB puede comprimirse a 500KB sin perder mucha calidad. En tu proyecto Arduino, envÃ­a datos eficientes por Serial o Bluetooth. Â¡Menos bytes = mÃ¡s velocidad! ğŸ“¦âš¡" },
            { titulo: "âœ… Quiz: HGA", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© velocidad de transmisiÃ³n tiene la antena HGA del rover?", opciones: ["56 Kbps como internet antiguo", "Hasta 2 Mbps directo a la Tierra", "100 Mbps como fibra Ã³ptica", "Solo 1 byte por segundo"], respuestaCorrecta: 1, explicacion: "La HGA (High Gain Antenna) transmite hasta 2 Mbps a la Tierra. Lento comparado con tu WiFi, pero suficiente para Marte. ğŸ“¡" },
            { titulo: "âœ… Quiz: MRO Relay", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡ntas veces al dÃ­a pasa el MRO sobre un rover?", opciones: ["Continuamente", "2-3 veces al dÃ­a", "Una vez por semana", "Cada hora"], respuestaCorrecta: 1, explicacion: "El Mars Reconnaissance Orbiter sobrevuela al rover 2-3 veces al dÃ­a, con ventanas de 8-10 minutos cada una. ğŸ›°ï¸" },
            { titulo: "âœ… Quiz: DTN", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es DTN (Delay-Tolerant Networking)?", opciones: ["Una red social espacial", "Un protocolo diseÃ±ado para funcionar con minutos u horas de retraso", "El WiFi de Marte", "Un tipo de antena"], respuestaCorrecta: 1, explicacion: "DTN almacena datos y los reenvÃ­a cuando hay conexiÃ³n. DiseÃ±ado para la Internet Interplanetaria con retrasos enormes. ğŸ“¨" },
            { titulo: "âœ… Quiz: CompresiÃ³n de Datos", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© el rover comprime las fotos antes de enviarlas?", opciones: ["Para que se vean mejor", "Porque el ancho de banda es limitado y tarda mucho en enviar", "Por seguridad", "Para ahorrar espacio en la memoria terrestre"], respuestaCorrecta: 1, explicacion: "Con solo 250 MB/dÃ­a de transmisiÃ³n, cada byte cuenta. Comprimir una foto de 5MB a 500KB ahorra tiempo vital. ğŸ“¦" },
            { titulo: "âœ… Quiz: Datos por DÃ­a", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡ntos datos puede enviar Perseverance a la Tierra por dÃ­a?", opciones: ["1 GB", "Aproximadamente 250 MB", "10 GB", "Solo 1 MB"], respuestaCorrecta: 1, explicacion: "Perseverance envÃ­a ~250 MB/dÃ­a. Menos de lo que usas navegando redes sociales, pero suficiente para ciencia increÃ­ble. ğŸ“Š" },
            { titulo: "âœ… Quiz: Prioridad de Datos", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© datos envÃ­a un rover PRIMERO cuando tiene ventana de comunicaciÃ³n?", opciones: ["Las fotos mÃ¡s bonitas", "Estado del rover, alertas y datos cientÃ­ficos crÃ­ticos", "Videos en HD", "Selfies"], respuestaCorrecta: 1, explicacion: "La salud del rover y alertas van primero. Luego datos cientÃ­ficos prioritarios. Las fotos panorÃ¡micas van al final si hay espacio. ğŸ“‹" },
            { titulo: "âœ… Quiz: Deep Space Network", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡ntas estaciones tiene la Deep Space Network de la NASA?", opciones: ["1 en California", "3 estaciones distribuidas en el mundo", "10 estaciones", "Solo una en cada continente"], respuestaCorrecta: 1, explicacion: "La DSN tiene 3 estaciones: Goldstone (EEUU), Madrid (EspaÃ±a) y Canberra (Australia), espaciadas 120Â° para cobertura 24/7. ğŸ“¡" },
            { titulo: "âœ… Quiz: Protocolo de Emergencia", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© hace el rover si pierde contacto con la Tierra por varios dÃ­as?", opciones: ["Sigue normal", "Activa protocolo de seguridad: se detiene y reintenta comunicaciÃ³n", "Se apaga permanentemente", "Busca otros rovers"], respuestaCorrecta: 1, explicacion: "El rover entra en modo seguro, apunta su antena a la Tierra y envÃ­a seÃ±ales periÃ³dicas esperando reconexiÃ³n. ğŸ†˜" },
            { titulo: "âœ… Quiz: ComunicaciÃ³n Ã“ptica", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© tecnologÃ­a promete 10-100x mÃ¡s velocidad de transmisiÃ³n que las ondas de radio?", opciones: ["5G espacial", "ComunicaciÃ³n Ã³ptica lÃ¡ser (DSOC)", "Bluetooth 6.0", "Cables de fibra Ã³ptica al espacio"], respuestaCorrecta: 1, explicacion: "DSOC usa lÃ¡seres para transmitir datos, logrando velocidades hasta 100 veces mayores que la radio. Probado exitosamente en 2023. ğŸ’¡" },
        ]
    },

    // ===== SECCIÃ“N 3: INTELIGENCIA ARTIFICIAL DEL ROVER (4 mÃ³dulos) =====
    {
        id: 'w5_mod9_planificacion_rutas',
        titulo: "MÃ³dulo 9: PlanificaciÃ³n de Rutas ğŸ—ºï¸",
        icon: 'ğŸ—ºï¸',
        descripcion: "Algoritmos que calculan el camino mÃ¡s eficiente para explorar un terreno desconocido.",
        contenidoTeorico: [
            { titulo: "ğŸ—ºï¸ El GPS No Existe en Marte", tipo: 'intro_hero', texto: "Sin GPS ni mapas, un rover debe planificar sus rutas usando algoritmos inteligentes. A* (A-star), Dijkstra y RRT son los algoritmos que permiten a los rovers encontrar caminos Ã³ptimos en terrenos nunca antes explorados. Â¡Vamos a dominarlos! ğŸ§®ğŸ¤–" },
            { titulo: "1. Algoritmos de PlanificaciÃ³n", tipo: 'texto', puntos: [
                "**A* (A-star):** Encuentra el camino mÃ¡s corto combinando costo real + estimaciÃ³n. El mÃ¡s usado en rovers y videojuegos. â­",
                "**Dijkstra:** Explora todas las direcciones buscando el camino mÃ¡s corto. MÃ¡s lento que A* pero garantiza la mejor ruta. ğŸ”",
                "**RRT (Rapidly-exploring Random Trees):** Genera Ã¡rboles aleatorios de exploraciÃ³n. Ideal para espacios con muchos obstÃ¡culos. ğŸŒ³",
                "**D* Lite:** VersiÃ³n de A* que se adapta cuando el mapa cambia (nuevos obstÃ¡culos detectados). Perfecto para rovers. ğŸ”„"
            ]},
            { titulo: "ğŸ¤” Â¿SabÃ­as que...?", tipo: 'fun_fact', texto: "El algoritmo **GESTALT** de la JPL (Jet Propulsion Lab) es el que usa Perseverance para planificar rutas. Analiza el terreno, clasifica cada zona por peligro y busca la ruta que minimiza riesgo+distancia+energÃ­a. Â¡Puede planificar una ruta de 200 metros en menos de 30 segundos! ğŸ§®ğŸ”´" },
            { titulo: "ğŸ’¡ CÃ³digo: Algoritmo A* Simplificado", tipo: 'code_example', lenguaje: 'Python', codigo: "# A* simplificado para rover\nimport heapq\n\ndef a_star(inicio, destino, mapa_obstaculos, ancho=20, alto=20):\n    def heuristica(a, b):\n        return abs(a[0]-b[0]) + abs(a[1]-b[1])  # Manhattan\n    \n    abiertos = [(0, inicio)]\n    costos = {inicio: 0}\n    padres = {inicio: None}\n    \n    while abiertos:\n        _, actual = heapq.heappop(abiertos)\n        \n        if actual == destino:\n            # Reconstruir camino\n            camino = []\n            while actual:\n                camino.append(actual)\n                actual = padres[actual]\n            return list(reversed(camino))\n        \n        for dx, dy in [(0,1),(0,-1),(1,0),(-1,0)]:\n            vecino = (actual[0]+dx, actual[1]+dy)\n            if (0 <= vecino[0] < ancho and\n                0 <= vecino[1] < alto and\n                vecino not in mapa_obstaculos):\n                nuevo_costo = costos[actual] + 1\n                if vecino not in costos or nuevo_costo < costos[vecino]:\n                    costos[vecino] = nuevo_costo\n                    prioridad = nuevo_costo + heuristica(vecino, destino)\n                    heapq.heappush(abiertos, (prioridad, vecino))\n                    padres[vecino] = actual\n    \n    return []  # Sin camino\n\n# Ejemplo\nobstaculos = {(5,i) for i in range(15)}  # Pared vertical\nobstaculos.add((3,7)); obstaculos.add((8,12))\ncamino = a_star((0,0), (19,19), obstaculos)\nprint(f'Camino encontrado: {len(camino)} pasos')", explicacion: "A* combina el costo real del camino con una estimaciÃ³n de la distancia restante para encontrar la ruta mÃ¡s corta. Usa una cola de prioridad para explorar primero las direcciones mÃ¡s prometedoras." },
            { titulo: "âœ… Quiz: Rutas", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© ventaja tiene A* sobre Dijkstra?", opciones: ["Siempre encuentra la ruta mÃ¡s corta y Dijkstra no", "Es mÃ¡s rÃ¡pido porque usa una heurÃ­stica para guiar la bÃºsqueda", "Funciona sin mapa y Dijkstra necesita mapa completo", "A* no necesita computadora"], respuestaCorrecta: 1, explicacion: "Â¡Correcto! A* usa una heurÃ­stica (estimaciÃ³n inteligente) para explorar primero las direcciones mÃ¡s prometedoras, haciendo la bÃºsqueda mucho mÃ¡s rÃ¡pida que Dijkstra. â­" },
            { titulo: "ğŸ® MisiÃ³n: Implementa A*", tipo: 'interactive_challenge', instruccion: "**MisiÃ³n A*:**\n\n1. **Dibuja una cuadrÃ­cula** de 10x10 en papel cuadriculado\n2. **Marca 12 obstÃ¡culos** (rocas marcianas)\n3. **Marca inicio** (0,0) y **destino** (9,9)\n4. **Aplica A* manualmente:** para cada casilla calcula f = g + h\n5. **g** = pasos desde el inicio, **h** = distancia Manhattan al destino\n6. **Siempre expande la casilla con menor f**\n7. **Traza el camino resultante** en color\n\nÂ¡Si dominas A* en papel, implementarlo en cÃ³digo serÃ¡ fÃ¡cil!", recompensa: "ğŸ… Insignia: Planificador de Rutas" },
            { titulo: "ğŸ§© Algoritmo y CaracterÃ­stica", tipo: 'matching_game', instruccion: 'Relaciona cada algoritmo con su caracterÃ­stica', pairs: [{ left: 'â­ A*', right: 'HeurÃ­stica + costo real' }, { left: 'ğŸ” Dijkstra', right: 'Explora todas direcciones' }, { left: 'ğŸŒ³ RRT', right: 'Ãrboles aleatorios' }, { left: 'ğŸ”„ D* Lite', right: 'Se adapta a cambios' }] },
            { titulo: "âœ…âŒ Rutas: Â¿V o F?", tipo: 'true_false', statements: [{ text: 'A* siempre encuentra la ruta mÃ¡s corta si la heurÃ­stica es admisible.', correct: true, explain: 'Una heurÃ­stica admisible nunca sobreestima el costo. Con ella, A* garantiza encontrar la ruta Ã³ptima.' }, { text: 'D* Lite es Ãºtil cuando el mapa cambia durante la navegaciÃ³n.', correct: true, explain: 'D* Lite recalcula la ruta eficientemente cuando se detectan nuevos obstÃ¡culos, ideal para rovers.' }, { text: 'Los rovers usan Google Maps para planificar rutas en Marte.', correct: false, explain: 'No hay Google Maps en Marte. Los rovers crean sus propios mapas y usan algoritmos como GESTALT para planificar rutas.' }] },
            { titulo: "ğŸ’¡ Tip de Rutas", tipo: 'tip', texto: "**A* es la base de todo.** Desde videojuegos hasta robots y apps de navegaciÃ³n, A* estÃ¡ en todas partes. Aprende a implementarlo y serÃ¡s capaz de resolver cualquier problema de bÃºsqueda de caminos. Â¡Es una habilidad fundamental! â­ğŸ—ºï¸" },
            { titulo: "âœ… Quiz: Dijkstra", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡l es la limitaciÃ³n principal del algoritmo de Dijkstra?", opciones: ["No encuentra la ruta mÃ¡s corta", "Explora en todas las direcciones, haciÃ©ndolo mÃ¡s lento que A*", "Solo funciona en lÃ­nea recta", "No puede manejar obstÃ¡culos"], respuestaCorrecta: 1, explicacion: "Dijkstra explora uniformemente en todas direcciones. A* aÃ±ade una heurÃ­stica que lo guÃ­a hacia el destino, haciÃ©ndolo mÃ¡s eficiente. ğŸ”" },
            { titulo: "âœ… Quiz: HeurÃ­stica Admisible", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© hace que una heurÃ­stica sea 'admisible' en A*?", opciones: ["Que sea la mÃ¡s rÃ¡pida", "Que nunca sobreestime la distancia real al destino", "Que sea gratuita", "Que funcione en cualquier terreno"], respuestaCorrecta: 1, explicacion: "Una heurÃ­stica admisible nunca dice que estÃ¡s mÃ¡s lejos de lo que realmente estÃ¡s. Esto garantiza que A* encuentra la ruta Ã³ptima. â­" },
            { titulo: "âœ… Quiz: D* Lite", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡ndo es mejor usar D* Lite en lugar de A*?", opciones: ["Siempre", "Cuando el mapa cambia mientras el rover se mueve", "Cuando hay poca energÃ­a", "Cuando el terreno es plano"], respuestaCorrecta: 1, explicacion: "D* Lite recalcula la ruta eficientemente cuando se detectan nuevos obstÃ¡culos, sin empezar de cero como A*. ğŸ”„" },
            { titulo: "âœ… Quiz: RRT", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo funciona el algoritmo RRT?", opciones: ["Calcula la lÃ­nea recta al destino", "Genera Ã¡rboles de exploraciÃ³n aleatoria para encontrar caminos", "Sigue siempre la pared izquierda", "Solo funciona con GPS"], respuestaCorrecta: 1, explicacion: "RRT (Rapidly-exploring Random Trees) genera ramas aleatorias que exploran el espacio rÃ¡pidamente, ideal para entornos complejos. ğŸŒ³" },
            { titulo: "âœ… Quiz: GESTALT", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© algoritmo usa Perseverance para planificar rutas en Marte?", opciones: ["Google Maps", "GESTALT del JPL", "Waze", "Dijkstra puro"], respuestaCorrecta: 1, explicacion: "GESTALT analiza el terreno, clasifica zonas por peligro y encuentra la ruta que minimiza riesgo, distancia y energÃ­a. ğŸ§®" },
            { titulo: "âœ… Quiz: Distancia Manhattan", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es la distancia Manhattan usada como heurÃ­stica en A*?", opciones: ["La distancia al rÃ­o Manhattan", "La suma de diferencias horizontales y verticales (sin diagonales)", "La distancia en lÃ­nea recta", "La distancia en kilÃ³metros"], respuestaCorrecta: 1, explicacion: "Se llama Manhattan porque es como caminar por calles en cuadrÃ­cula: solo arriba/abajo/izquierda/derecha, sin atajos diagonales. ğŸ™ï¸" },
            { titulo: "âœ… Quiz: ReplanificaciÃ³n Local", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© pasa si el rover encuentra un obstÃ¡culo NO mapeado durante su ruta?", opciones: ["Se detiene permanentemente", "Replanifica localmente usando sus sensores actualizados", "Vuelve al inicio", "Espera instrucciones de la Tierra"], respuestaCorrecta: 1, explicacion: "El rover actualiza su mapa local y recalcula la ruta alrededor del nuevo obstÃ¡culo, todo de forma autÃ³noma. ğŸ”„" },
            { titulo: "âœ… Quiz: ExploraciÃ³n vs ExplotaciÃ³n", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© dilema enfrenta un rover entre explorar nuevas Ã¡reas y usar rutas conocidas?", opciones: ["El dilema del prisionero", "ExploraciÃ³n vs ExplotaciÃ³n", "Velocidad vs Seguridad", "Izquierda vs Derecha"], respuestaCorrecta: 1, explicacion: "El rover debe balancear entre descubrir rutas nuevas (exploraciÃ³n) y usar caminos seguros ya conocidos (explotaciÃ³n). ğŸ¤”" },
            { titulo: "âœ… Quiz: Coste EnergÃ©tico", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© factores incluye el costmap de un rover para calcular una ruta?", opciones: ["Solo distancia", "Distancia, pendiente, tipo de terreno y riesgo", "Solo el color del suelo", "Solo la temperatura"], respuestaCorrecta: 1, explicacion: "El costmap combina mÃºltiples factores: distancia, inclinaciÃ³n, rugosidad del terreno y nivel de riesgo para cada celda. ğŸ—ºï¸" },
        ]
    },
    {
        id: 'w5_mod10_ml_rovers',
        titulo: "MÃ³dulo 10: Machine Learning en Rovers ğŸ¤–",
        icon: 'ğŸ¤–',
        descripcion: "CÃ³mo los rovers aprenden a reconocer rocas, terrenos y tomar mejores decisiones con IA.",
        contenidoTeorico: [
            { titulo: "ğŸ¤– Rovers que Aprenden", tipo: 'intro_hero', texto: "Los rovers modernos no solo siguen instrucciones: aprenden de la experiencia. Machine Learning les permite reconocer tipos de rocas, clasificar terrenos peligrosos y mejorar su navegaciÃ³n con cada metro que recorren. Â¡La IA hace que cada dÃ­a sean mÃ¡s inteligentes! ğŸ§ ğŸ“ˆ" },
            { titulo: "1. Machine Learning en Rovers", tipo: 'texto', puntos: [
                "**ClasificaciÃ³n de rocas:** Redes neuronales entrenadas con miles de fotos de rocas marcianas para identificar tipos interesantes. ğŸª¨",
                "**PredicciÃ³n de terreno:** ML predice si el terreno es seguro basÃ¡ndose en color, textura y forma del suelo. ğŸœï¸",
                "**DetecciÃ³n de anomalÃ­as:** Identifica cosas inusuales que podrÃ­an ser cientÃ­ficamente interesantes. ğŸ”",
                "**Aprendizaje por refuerzo:** El rover aprende a navegar mejor recibiendo 'recompensas' por llegar sin problemas. ğŸ®"
            ]},
            { titulo: "ğŸ¤” Â¿SabÃ­as que...?", tipo: 'fun_fact', texto: "La NASA desarrollÃ³ una red neuronal llamada **SPOC** (Soil Property and Object Classification) que clasifica el terreno marciano en tiempo real. Entrenada con 16,000 imÃ¡genes de Curiosity, puede clasificar arena, rocas, pendientes y terreno transitable con un 97% de precisiÃ³n. Â¡El rover literalmente 've' el peligro! ğŸ§ ğŸ“·" },
            { titulo: "ğŸ’¡ CÃ³digo: Clasificador de Terreno con ML", tipo: 'code_example', lenguaje: 'Python', codigo: "# Clasificador de terreno ML simplificado\n\nclass TerrainClassifier:\n    def __init__(self):\n        # Datos de entrenamiento simplificados\n        # [brillo, rugosidad, color_rojo] -> clase\n        self.entrenamiento = [\n            ([0.8, 0.2, 0.7], 'arena'),\n            ([0.3, 0.9, 0.4], 'roca'),\n            ([0.1, 0.1, 0.2], 'crater'),\n            ([0.6, 0.4, 0.6], 'grava'),\n            ([0.9, 0.3, 0.8], 'terreno_firme'),\n        ]\n    \n    def distancia(self, a, b):\n        return sum((x-y)**2 for x, y in zip(a, b)) ** 0.5\n    \n    def clasificar(self, muestra):\n        \"\"\"K-Nearest Neighbor (k=1) simplificado\"\"\"\n        mejor_dist = float('inf')\n        mejor_clase = 'desconocido'\n        \n        for datos, clase in self.entrenamiento:\n            d = self.distancia(muestra, datos)\n            if d < mejor_dist:\n                mejor_dist = d\n                mejor_clase = clase\n        \n        confianza = max(0, 1 - mejor_dist) * 100\n        return {'clase': mejor_clase, 'confianza': f'{confianza:.0f}%'}\n\n# Uso\nml = TerrainClassifier()\nprint(ml.clasificar([0.7, 0.3, 0.65]))  # Probablemente arena\nprint(ml.clasificar([0.2, 0.8, 0.3]))  # Probablemente roca", explicacion: "Este clasificador simplificado usa K-Nearest Neighbor: compara las caracterÃ­sticas de una muestra nueva con datos conocidos y elige la clase mÃ¡s cercana. Los rovers reales usan redes neuronales mucho mÃ¡s complejas." },
            { titulo: "âœ… Quiz: ML en Rovers", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© hace el sistema SPOC de la NASA?", opciones: ["Controla los motores del rover", "Clasifica el terreno marciano con 97% de precisiÃ³n", "EnvÃ­a emails a los cientÃ­ficos", "DiseÃ±a nuevas misiones automÃ¡ticamente"], respuestaCorrecta: 1, explicacion: "Â¡Correcto! SPOC (Soil Property and Object Classification) clasifica el terreno en tiempo real usando una red neuronal entrenada con 16,000 imÃ¡genes. ğŸ§ ğŸ“·" },
            { titulo: "ğŸ® MisiÃ³n: Entrena tu Clasificador", tipo: 'interactive_challenge', instruccion: "**MisiÃ³n ML:**\n\n1. **Recolecta 10 muestras** de terreno diferente (fotos del suelo: cÃ©sped, tierra, asfalto, arena, piedras)\n2. **Describe cada muestra** con 3 nÃºmeros: brillo (0-1), textura (lisa 0 a rugosa 1), color (claro 0 a oscuro 1)\n3. **Organiza en una tabla** y etiqueta cada tipo\n4. **Dado un nuevo terreno**, usa tu tabla para predecir quÃ© tipo es\n5. **Â¿CuÃ¡ntas muestras necesitas** para ser 90% preciso?\n\nÂ¡Acabas de hacer ML manualmente, como los cientÃ­ficos de la NASA!", recompensa: "ğŸ… Insignia: CientÃ­fico de Datos" },
            { titulo: "ğŸ§© TÃ©cnica y AplicaciÃ³n", tipo: 'matching_game', instruccion: 'Relaciona cada tÃ©cnica ML con su uso en rovers', pairs: [{ left: 'ğŸª¨ ClasificaciÃ³n', right: 'Identificar tipos de roca' }, { left: 'ğŸœï¸ PredicciÃ³n', right: 'Evaluar seguridad del terreno' }, { left: 'ğŸ” AnomalÃ­as', right: 'Detectar cosas inusuales' }, { left: 'ğŸ® Refuerzo', right: 'Mejorar navegaciÃ³n con prÃ¡ctica' }] },
            { titulo: "âœ…âŒ ML: Â¿V o F?", tipo: 'true_false', statements: [{ text: 'SPOC fue entrenado con imÃ¡genes reales de Marte.', correct: true, explain: 'SPOC fue entrenado con 16,000 imÃ¡genes tomadas por Curiosity en Marte para clasificar terrenos marcianos.' }, { text: 'El aprendizaje por refuerzo requiere etiquetas para cada dato.', correct: false, explain: 'El aprendizaje por refuerzo aprende mediante recompensas y penalizaciones, no necesita datos etiquetados como la clasificaciÃ³n.' }, { text: 'Los rovers actuales ya usan redes neuronales para navegar.', correct: true, explain: 'Perseverance y los rovers mÃ¡s recientes usan redes neuronales para clasificaciÃ³n de terreno y navegaciÃ³n autÃ³noma.' }] },
            { titulo: "ğŸ’¡ Tip de ML", tipo: 'tip', texto: "**Empieza con datos.** El Machine Learning necesita datos para aprender. Empieza recolectando datos simples (temperaturas, fotos, mediciones) y clasificÃ¡ndolos manualmente. Â¡Esa es la base de todo ML! ğŸ“ŠğŸ¤–" },
            { titulo: "âœ… Quiz: SPOC PrecisiÃ³n", tipo: 'mini_quiz', pregunta: "Â¿Con cuÃ¡ntas imÃ¡genes fue entrenada la red neuronal SPOC de la NASA?", opciones: ["100 imÃ¡genes", "1,000 imÃ¡genes", "16,000 imÃ¡genes de Curiosity", "1 millÃ³n de imÃ¡genes"], respuestaCorrecta: 2, explicacion: "SPOC fue entrenada con 16,000 imÃ¡genes reales del rover Curiosity, logrando 97% de precisiÃ³n en clasificaciÃ³n de terreno. ğŸ“·" },
            { titulo: "âœ… Quiz: KNN", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo funciona el algoritmo K-Nearest Neighbors?", opciones: ["Busca puntos lejanos", "Clasifica comparando con los K datos mÃ¡s cercanos (similares)", "Genera datos nuevos", "Solo funciona con imÃ¡genes"], respuestaCorrecta: 1, explicacion: "KNN encuentra los K ejemplos mÃ¡s parecidos a la nueva observaciÃ³n y usa la clase mayoritaria como predicciÃ³n. ğŸ“Š" },
            { titulo: "âœ… Quiz: Entrenamiento", tipo: 'mini_quiz', pregunta: "Â¿DÃ³nde se entrena el modelo de ML de un rover?", opciones: ["En el rover en Marte", "En la Tierra con datos recolectados por misiones previas", "En satÃ©lites orbitales", "En la Luna"], respuestaCorrecta: 1, explicacion: "Los modelos se entrenan en la Tierra con computadoras potentes usando datos de misiones anteriores, luego se suben al rover. ğŸŒğŸ’»" },
            { titulo: "âœ… Quiz: Redes Neuronales", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© ventaja tienen las redes neuronales sobre KNN para clasificar rocas?", opciones: ["Son mÃ¡s simples", "Pueden aprender patrones complejos en imÃ¡genes de muchas dimensiones", "Son mÃ¡s rÃ¡pidas siempre", "No necesitan datos"], respuestaCorrecta: 1, explicacion: "Las redes neuronales extraen automÃ¡ticamente caracterÃ­sticas de imÃ¡genes (bordes, texturas, formas) que KNN no puede procesar. ğŸ§ " },
            { titulo: "âœ… Quiz: Aprendizaje por Refuerzo", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo aprende un rover con aprendizaje por refuerzo?", opciones: ["Leyendo un manual", "Recibiendo recompensas por acciones exitosas y penalizaciones por errores", "Copiando a otros rovers", "Descargando actualizaciones"], respuestaCorrecta: 1, explicacion: "El rover 'aprende' quÃ© acciones funcionan mejor: llegar sin problemas = recompensa, chocar = penalizaciÃ³n. ğŸ®" },
            { titulo: "âœ… Quiz: DetecciÃ³n de AnomalÃ­as", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© es Ãºtil la detecciÃ³n de anomalÃ­as en rovers?", opciones: ["Para encontrar aliens", "Para identificar cosas inusuales que podrÃ­an ser cientÃ­ficamente interesantes", "Para reparar el rover", "Para mejorar la comunicaciÃ³n"], respuestaCorrecta: 1, explicacion: "Una roca con forma o color inusual podrÃ­a indicar procesos geolÃ³gicos interesantes o incluso evidencia de agua pasada. ğŸ”" },
            { titulo: "âœ… Quiz: Chips en el Espacio", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© es difÃ­cil ejecutar redes neuronales grandes en un rover?", opciones: ["Porque no hay WiFi", "Porque los procesadores resistentes a radiaciÃ³n son mucho mÃ¡s lentos", "Porque las redes neuronales son muy grandes", "No es difÃ­cil"], respuestaCorrecta: 1, explicacion: "Los chips rad-hard son 100x mÃ¡s lentos que los comerciales. Los ingenieros deben optimizar modelos ML para hardware limitado. ğŸ’¾" },
            { titulo: "âœ… Quiz: Datos de Entrenamiento", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© pasa si el rover encuentra terreno muy diferente a sus datos de entrenamiento?", opciones: ["Funciona igual de bien", "Puede cometer errores de clasificaciÃ³n y necesita precauciÃ³n adicional", "Se apaga", "Llama a la Tierra"], respuestaCorrecta: 1, explicacion: "Un modelo ML solo es tan bueno como sus datos. Terreno no visto puede producir predicciones incorrectas. Por eso necesita margen de seguridad. âš ï¸" },
            { titulo: "âœ… Quiz: Transfer Learning", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es transfer learning y cÃ³mo ayuda a rovers?", opciones: ["Transferir el rover a otro planeta", "Usar un modelo entrenado en un contexto y adaptarlo a otro", "Copiar software entre rovers", "Enviar datos entre planetas"], respuestaCorrecta: 1, explicacion: "Un modelo entrenado con fotos terrestres puede adaptarse para rocas marcianas con menos datos. Ahorra tiempo y recursos. ğŸ”„" },
        ]
    },
    {
        id: 'w5_mod11_sistemas_seguridad',
        titulo: "MÃ³dulo 11: Sistemas de Seguridad ğŸ›¡ï¸",
        icon: 'ğŸ›¡ï¸',
        descripcion: "CÃ³mo proteger a tu rover de fallas, accidentes y condiciones extremas.",
        contenidoTeorico: [
            { titulo: "ğŸ›¡ï¸ Que Nada Salga Mal", tipo: 'intro_hero', texto: "En Marte no hay servicio tÃ©cnico. Si algo falla, el rover debe solucionarlo solo. Los sistemas de seguridad incluyen redundancia, detecciÃ³n de fallas, modos seguros y auto-diagnÃ³stico. Â¡Un buen ingeniero planea para lo peor! ğŸ”§ğŸ›¡ï¸" },
            { titulo: "1. Principios de Seguridad en Rovers", tipo: 'texto', puntos: [
                "**Redundancia:** Sistemas duplicados. Si una computadora falla, la otra toma el control. ğŸ’»ğŸ’»",
                "**Watchdog Timer:** Un temporizador que reinicia el sistema si se congela por mÃ¡s de X segundos. â±ï¸",
                "**Modo Seguro:** Si algo sale mal, el rover detiene todo, apunta paneles al sol y espera instrucciones. ğŸ†˜",
                "**Auto-diagnÃ³stico:** El rover verifica sus propios sensores, baterÃ­a y comunicaciones regularmente. ğŸ”"
            ]},
            { titulo: "ğŸ¤” Â¿SabÃ­as que...?", tipo: 'fun_fact', texto: "El rover Curiosity entrÃ³ en **modo seguro 7 veces** durante sus primeros aÃ±os en Marte. Cada vez, detuvo todas las operaciones, apuntÃ³ sus paneles al sol y esperÃ³ a que ingenieros en la Tierra diagnosticaran el problema. En una ocasiÃ³n, una tormenta elÃ©ctrica estÃ¡tica corrompiÃ³ su memoria y tuvo que cambiar a su computadora de respaldo. Â¡La redundancia le salvÃ³ la vida! ğŸ›¡ï¸ğŸ’»" },
            { titulo: "ğŸ’¡ CÃ³digo: Sistema de Seguridad", tipo: 'code_example', lenguaje: 'Python', codigo: "# Sistema de seguridad para rover\nimport time\n\nclass SafetySystem:\n    def __init__(self):\n        self.modo = 'NORMAL'\n        self.errores = []\n        self.temperatura_min = -40\n        self.temperatura_max = 50\n        self.bateria_critica = 10\n    \n    def diagnostico(self, sensores):\n        \"\"\"Auto-diagnÃ³stico completo\"\"\"\n        self.errores.clear()\n        \n        # Verificar temperatura\n        if sensores['temp'] < self.temperatura_min:\n            self.errores.append('TEMP_BAJA')\n        elif sensores['temp'] > self.temperatura_max:\n            self.errores.append('TEMP_ALTA')\n        \n        # Verificar baterÃ­a\n        if sensores['bateria'] < self.bateria_critica:\n            self.errores.append('BATERIA_CRITICA')\n        \n        # Verificar sensores funcionando\n        for sensor in ['camara', 'lidar', 'imu']:\n            if not sensores.get(f'{sensor}_ok', True):\n                self.errores.append(f'{sensor.upper()}_FALLO')\n        \n        # Decidir modo\n        if len(self.errores) >= 3:\n            self.modo_seguro('MÃºltiples fallas crÃ­ticas')\n        elif 'BATERIA_CRITICA' in self.errores:\n            self.modo_seguro('BaterÃ­a en nivel crÃ­tico')\n        elif self.errores:\n            self.modo = 'PRECAUCIÃ“N'\n            print(f'âš ï¸ PrecauciÃ³n: {self.errores}')\n        else:\n            self.modo = 'NORMAL'\n            print('âœ… Todos los sistemas nominales')\n        \n        return self.modo\n    \n    def modo_seguro(self, razon):\n        self.modo = 'SEGURO'\n        print(f'ğŸ†˜ MODO SEGURO: {razon}')\n        print('  â†’ Deteniendo movimiento')\n        print('  â†’ Apuntando paneles al sol')\n        print('  â†’ Enviando alerta a Tierra')", explicacion: "El sistema de seguridad monitorea constantemente temperatura, baterÃ­a y sensores. Si detecta problemas graves, activa el modo seguro: detiene todo, conserva energÃ­a y pide ayuda. La redundancia y el auto-diagnÃ³stico mantienen al rover vivo." },
            { titulo: "âœ… Quiz: Seguridad", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© hace un Watchdog Timer?", opciones: ["Toma fotos de perros espaciales", "Reinicia el sistema si se congela demasiado tiempo", "Cuenta las horas de misiÃ³n", "Vigila a los astronautas"], respuestaCorrecta: 1, explicacion: "Â¡Correcto! Un Watchdog Timer espera una seÃ±al periÃ³dica del software. Si no recibe seÃ±al en X segundos (porque el sistema se congelÃ³), reinicia todo automÃ¡ticamente. â±ï¸ğŸ”„" },
            { titulo: "ğŸ® MisiÃ³n: DiseÃ±a tu Sistema de Seguridad", tipo: 'interactive_challenge', instruccion: "**MisiÃ³n Seguridad:**\n\n1. **Lista 5 cosas** que pueden fallar en tu rover\n2. **Para cada falla**, escribe: detecciÃ³n, acciÃ³n y prevenciÃ³n\n3. **DiseÃ±a 3 modos:** Normal, PrecauciÃ³n y Seguro\n4. **Define las reglas** para cambiar entre modos\n5. **Simula 3 escenarios** de fallo y verifica que tu sistema responde\n\nÂ¡Un buen ingeniero espera lo inesperado!", recompensa: "ğŸ… Insignia: Ingeniero de Seguridad" },
            { titulo: "ğŸ§© Falla y SoluciÃ³n", tipo: 'matching_game', instruccion: 'Relaciona cada falla con su soluciÃ³n', pairs: [{ left: 'ğŸ’» Software congelado', right: 'Watchdog Timer reinicia' }, { left: 'ğŸ“· CÃ¡mara daÃ±ada', right: 'Usar cÃ¡mara de respaldo' }, { left: 'ğŸ”‹ BaterÃ­a baja', right: 'Entrar en modo seguro' }, { left: 'ğŸ“¡ Sin comunicaciÃ³n', right: 'Almacenar datos localmente' }] },
            { titulo: "âœ…âŒ Seguridad: Â¿V o F?", tipo: 'true_false', statements: [{ text: 'Curiosity tiene dos computadoras a bordo para redundancia.', correct: true, explain: 'Curiosity tiene una computadora principal y una de respaldo. Cuando la principal fallÃ³ por radiaciÃ³n, cambiÃ³ a la de respaldo.' }, { text: 'El modo seguro apaga completamente el rover.', correct: false, explain: 'El modo seguro mantiene sistemas mÃ­nimos activos: calefacciÃ³n, paneles solares y comunicaciÃ³n bÃ¡sica para recibir instrucciones de la Tierra.' }, { text: 'Los Watchdog Timers solo se usan en el espacio.', correct: false, explain: 'Los Watchdog Timers se usan en Arduino, servidores, telÃ©fonos y cualquier sistema que necesite recuperarse de congelamiento automÃ¡ticamente.' }] },
            { titulo: "ğŸ’¡ Tip de Seguridad", tipo: 'tip', texto: "**Usa Watchdog Timer en Arduino.** La librerÃ­a avr/wdt.h te permite configurar un watchdog en tu Arduino. Si tu cÃ³digo se congela, el Arduino se reinicia solo. Â¡Es una lÃ­nea de defensa esencial en cualquier robot! â±ï¸ğŸ›¡ï¸" },
            { titulo: "âœ… Quiz: Curiosity Safe Mode", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡ntas veces entrÃ³ Curiosity en modo seguro en sus primeros aÃ±os?", opciones: ["0 veces", "3 veces", "7 veces", "50 veces"], respuestaCorrecta: 2, explicacion: "Curiosity entrÃ³ en modo seguro 7 veces. Cada vez se recuperÃ³ exitosamente gracias a sus sistemas de seguridad. ğŸ›¡ï¸" },
            { titulo: "âœ… Quiz: Computadora de Respaldo", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© pasa si la computadora principal del rover falla?", opciones: ["La misiÃ³n termina", "La computadora de respaldo toma el control automÃ¡ticamente", "Un astronauta la repara", "El rover espera una actualizaciÃ³n"], respuestaCorrecta: 1, explicacion: "Curiosity cambiÃ³ a su computadora de respaldo cuando una tormenta estÃ¡tica corrompiÃ³ la memoria de la principal. Â¡Redundancia salvavidas! ğŸ’»" },
            { titulo: "âœ… Quiz: Auto-diagnÃ³stico", tipo: 'mini_quiz', pregunta: "Â¿Con quÃ© frecuencia se auto-diagnostica un rover?", opciones: ["Una vez al aÃ±o", "Regularmente, antes de cada operaciÃ³n importante", "Nunca se diagnostica solo", "Solo cuando la Tierra lo pide"], respuestaCorrecta: 1, explicacion: "El auto-diagnÃ³stico corre continuamente: verifica sensores, baterÃ­a, temperatura y comunicaciones antes de actuar. ğŸ”" },
            { titulo: "âœ… Quiz: RadiaciÃ³n CÃ³smica", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© daÃ±o puede causar la radiaciÃ³n cÃ³smica a un rover?", opciones: ["Lo derrite", "Puede corromper datos en memoria y alterar circuitos", "Lo hace mÃ¡s fuerte", "Solo afecta a humanos"], respuestaCorrecta: 1, explicacion: "Los rayos cÃ³smicos pueden cambiar bits en la memoria (bit-flip), corrompiendo datos o software. La memoria ECC corrige estos errores. â˜¢ï¸" },
            { titulo: "âœ… Quiz: Watchdog Aplicaciones", tipo: 'mini_quiz', pregunta: "Â¿DÃ³nde mÃ¡s se usan Watchdog Timers ademÃ¡s del espacio?", opciones: ["Solo en rovers", "En Arduino, servidores, telÃ©fonos y sistemas embebidos", "Solo en la NASA", "En videojuegos"], respuestaCorrecta: 1, explicacion: "Los Watchdog Timers son estÃ¡ndar en cualquier sistema que necesite auto-recuperarse: desde un Arduino hasta un servidor web. â±ï¸" },
            { titulo: "âœ… Quiz: Tolerancia a Fallas", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© significa 'fail-safe' en diseÃ±o de rovers?", opciones: ["Que nunca falla", "Que cuando falla, lo hace de forma segura sin causar daÃ±o", "Que es indestructible", "Que es muy barato"], respuestaCorrecta: 1, explicacion: "Fail-safe significa que si algo sale mal, el sistema queda en un estado seguro en vez de causar mÃ¡s problemas. ğŸ”’" },
            { titulo: "âœ… Quiz: RecuperaciÃ³n", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo se recupera un rover del modo seguro?", opciones: ["Solo puede hacerlo la Tierra", "Ingenieros analizan el problema y envÃ­an comandos de recuperaciÃ³n", "Se reinicia solo", "No puede recuperarse"], respuestaCorrecta: 1, explicacion: "Los ingenieros en la Tierra diagnostican el problema, desarrollan una soluciÃ³n y envÃ­an nueva secuencia de comandos. Puede tardar dÃ­as. ğŸ”§" },
            { titulo: "âœ… Quiz: ECC Memory", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© hace la memoria ECC (Error-Correcting Code)?", opciones: ["Hace la memoria mÃ¡s rÃ¡pida", "Detecta y corrige automÃ¡ticamente errores de bits causados por radiaciÃ³n", "Comprime datos", "Encripta informaciÃ³n"], respuestaCorrecta: 1, explicacion: "La memoria ECC detecta cuando un bit cambia por radiaciÃ³n y lo corrige automÃ¡ticamente, vital para la fiabilidad en el espacio. ğŸ›¡ï¸" },
            { titulo: "âœ… Quiz: ProtecciÃ³n de Software", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo protege un rover su software de actualizaciones fallidas?", opciones: ["No acepta actualizaciones", "Mantiene una copia del software anterior para volver a la versiÃ³n estable", "Descarga de internet", "Usa antivirus"], respuestaCorrecta: 1, explicacion: "El rover guarda su software anterior. Si una actualizaciÃ³n falla, puede volver a la versiÃ³n que funcionaba. Rollback espacial. ğŸ”„" },
        ]
    },
    {
        id: 'w5_mod12_simulacion_testing',
        titulo: "MÃ³dulo 12: SimulaciÃ³n y Testing ğŸ§ª",
        icon: 'ğŸ§ª',
        descripcion: "CÃ³mo la NASA prueba rovers en la Tierra antes de enviarlos a Marte.",
        contenidoTeorico: [
            { titulo: "ğŸ§ª Probar Antes de Lanzar", tipo: 'intro_hero', texto: "Â¿CÃ³mo pruebas un rover para Marte sin estar en Marte? La NASA tiene desiertos de prueba, cÃ¡maras de vacÃ­o y simuladores virtuales. Probar exhaustivamente es la diferencia entre una misiÃ³n de $2.7 mil millones que funciona y una que fracasa. ğŸœï¸ğŸ”¬" },
            { titulo: "1. MÃ©todos de Prueba de Rovers", tipo: 'texto', puntos: [
                "**JPL Mars Yard:** Un terreno artificial que simula la superficie de Marte en Pasadena, California. ğŸœï¸",
                "**Gemelo digital:** Un modelo virtual del rover que se prueba por software miles de veces antes de construir el real. ğŸ’»",
                "**CÃ¡maras de vacÃ­o:** Simulan el vacÃ­o y temperaturas extremas del espacio. ğŸŒ¡ï¸",
                "**Tests de vibraciÃ³n:** Simulan las vibraciones del lanzamiento del cohete para asegurar que nada se suelte. ğŸš€"
            ]},
            { titulo: "ğŸ¤” Â¿SabÃ­as que...?", tipo: 'fun_fact', texto: "La NASA tiene una copia exacta de cada rover en la Tierra llamada **'testbed'**. Cuando Curiosity tuvo un problema con sus ruedas en Marte, los ingenieros reprodujeron exactamente el mismo terreno y situaciÃ³n con el gemelo en la Tierra para encontrar la soluciÃ³n antes de enviar los comandos. Â¡Es como tener un paciente virtual para practicar la cirugÃ­a! ğŸ”§ğŸ¤–" },
            { titulo: "ğŸ’¡ CÃ³digo: Simulador de MisiÃ³n", tipo: 'code_example', lenguaje: 'Python', codigo: "# Simulador de misiÃ³n para testing\nimport random\n\nclass MissionSimulator:\n    def __init__(self, dias=30, semilla=42):\n        random.seed(semilla)  # Resultados reproducibles\n        self.dias = dias\n        self.log = []\n    \n    def generar_dia(self, dia):\n        \"\"\"Genera eventos aleatorios de un dÃ­a\"\"\"\n        eventos = []\n        # Clima\n        if random.random() < 0.15:\n            eventos.append('tormenta_polvo')\n        # ObstÃ¡culos\n        obstaculos = random.randint(0, 5)\n        eventos.append(f'obstaculos:{obstaculos}')\n        # EnergÃ­a solar (0-100%)\n        solar = random.randint(40, 100)\n        if 'tormenta_polvo' in eventos:\n            solar = random.randint(5, 30)\n        eventos.append(f'solar:{solar}%')\n        # Descubrimientos\n        if random.random() < 0.1:\n            eventos.append('roca_interesante')\n        \n        return eventos\n    \n    def ejecutar(self, rover_ai):\n        \"\"\"Ejecuta simulaciÃ³n completa\"\"\"\n        for dia in range(1, self.dias + 1):\n            eventos = self.generar_dia(dia)\n            decision = rover_ai(dia, eventos)\n            self.log.append({\n                'dia': dia,\n                'eventos': eventos,\n                'decision': decision\n            })\n        \n        # AnÃ¡lisis\n        exitos = sum(1 for l in self.log if l['decision'] == 'OK')\n        print(f'SimulaciÃ³n: {exitos}/{self.dias} dÃ­as exitosos')\n        print(f'Tasa de Ã©xito: {exitos/self.dias*100:.0f}%')\n\n# IA del rover simple\ndef mi_rover(dia, eventos):\n    if 'tormenta_polvo' in eventos:\n        return 'HIBERNAR'\n    return 'OK'\n\nsim = MissionSimulator(dias=100)\nsim.ejecutar(mi_rover)", explicacion: "Un simulador genera escenarios realistas (tormentas, obstÃ¡culos, energÃ­a) para probar la IA del rover miles de veces antes de la misiÃ³n real. Si la IA falla en simulaciÃ³n, se corrige sin perder un rover de $2.7 mil millones." },
            { titulo: "âœ… Quiz: Testing", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es un 'gemelo digital' en la NASA?", opciones: ["Un rover idÃ©ntico en la Tierra", "Un modelo virtual del rover simulado por software", "Dos rovers lanzados al mismo planeta", "Un programa de reclutamiento de la NASA"], respuestaCorrecta: 1, explicacion: "Â¡Correcto! Un gemelo digital es una simulaciÃ³n por computadora exacta del rover que permite probar software, escenarios y soluciones antes de aplicarlas al rover real. ğŸ’»ğŸ¤–" },
            { titulo: "ğŸ® MisiÃ³n: Simula tu MisiÃ³n", tipo: 'interactive_challenge', instruccion: "**MisiÃ³n Testing:**\n\n1. **Escribe 10 escenarios** posibles para tu rover (tormenta, roca, falla de sensor...)\n2. **Asigna probabilidad** a cada uno (ej: tormenta 15%, roca 30%)\n3. **Lanza un dado de 10 caras** (usa app) 20 veces para simular 20 dÃ­as\n4. **Decide** quÃ© hacer en cada escenario\n5. **Cuenta cuÃ¡ntos dÃ­as** completaste exitosamente\n6. **Mejora tu IA** y repite. Â¿SubiÃ³ la tasa de Ã©xito?\n\nÂ¡AsÃ­ se prueba software antes de una misiÃ³n real!", recompensa: "ğŸ… Insignia: Tester de Misiones" },
            { titulo: "ğŸ§© Prueba y Objetivo", tipo: 'matching_game', instruccion: 'Relaciona cada tipo de prueba con su objetivo', pairs: [{ left: 'ğŸœï¸ Mars Yard', right: 'Probar movilidad en terreno' }, { left: 'ğŸ’» Gemelo digital', right: 'Probar software miles de veces' }, { left: 'ğŸŒ¡ï¸ CÃ¡mara de vacÃ­o', right: 'Probar en vacÃ­o y frÃ­o extremo' }, { left: 'ğŸš€ Test vibraciÃ³n', right: 'Simular lanzamiento del cohete' }] },
            { titulo: "âœ…âŒ Testing: Â¿V o F?", tipo: 'true_false', statements: [{ text: 'La NASA tiene un terreno artificial que simula Marte en California.', correct: true, explain: 'El JPL Mars Yard en Pasadena, California, es un terreno de pruebas que replica la superficie marciana para probar rovers.' }, { text: 'La simulaciÃ³n por software es inÃºtil porque no es "real".', correct: false, explain: 'Las simulaciones permiten probar miles de escenarios imposibles de recrear en la Tierra, ahorrando tiempo y dinero.' }, { text: 'Los tests de vibraciÃ³n simulan las fuerzas del lanzamiento del cohete.', correct: true, explain: 'El lanzamiento somete al rover a vibraciones extremas. Los tests aseguran que todas las piezas resistan sin soltarse.' }] },
            { titulo: "ğŸ’¡ Tip de Testing", tipo: 'tip', texto: "**Prueba todo, asume nada.** En robÃ³tica, cada componente que no pruebes serÃ¡ el que falle. Prueba tu robot en diferentes superficies, con baterÃ­a baja, con WiFi malo y en oscuridad. Â¡Las pruebas te ahorrarÃ¡n horas de frustraciÃ³n! ğŸ§ªâœ…" },
            { titulo: "âœ… Quiz: Mars Yard", tipo: 'mini_quiz', pregunta: "Â¿DÃ³nde estÃ¡ el Mars Yard de la NASA?", opciones: ["En Marte", "En el JPL, Pasadena, California", "En la Luna", "En Florida"], respuestaCorrecta: 1, explicacion: "El Mars Yard estÃ¡ en el Jet Propulsion Laboratory en Pasadena. Es un terreno que replica rocas y suelo marciano. ğŸœï¸" },
            { titulo: "âœ… Quiz: Gemelo Testbed", tipo: 'mini_quiz', pregunta: "Â¿Para quÃ© sirve tener una copia exacta del rover en la Tierra?", opciones: ["Como pieza de museo", "Para reproducir problemas y probar soluciones antes de enviarlas al rover real", "Para venderla", "Solo como repuesto"], respuestaCorrecta: 1, explicacion: "Cuando Curiosity tuvo problemas, los ingenieros reprodujeron la situaciÃ³n exacta en el testbed para encontrar la soluciÃ³n. ğŸ”§" },
            { titulo: "âœ… Quiz: CÃ¡mara de VacÃ­o", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© condiciones simula una cÃ¡mara de vacÃ­o para pruebas?", opciones: ["Solo vacÃ­o", "VacÃ­o, temperaturas extremas y radiaciÃ³n del espacio", "Solo temperatura", "Solo presiÃ³n"], respuestaCorrecta: 1, explicacion: "Las cÃ¡maras de vacÃ­o recrean el vacÃ­o del espacio, temperaturas de -180Â°C a +150Â°C y a veces radiaciÃ³n. Todo junto. ğŸŒ¡ï¸" },
            { titulo: "âœ… Quiz: Tests de VibraciÃ³n", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© se somete al rover a vibraciones extremas?", opciones: ["Para ver si se rompe", "Para simular las fuerzas del lanzamiento del cohete y asegurar que nada se suelte", "Para calibrar sensores", "Para limpiarlo"], respuestaCorrecta: 1, explicacion: "El lanzamiento somete al rover a vibraciones violentas. Las pruebas verifican que cada tornillo, cable y componente resist. ğŸš€" },
            { titulo: "âœ… Quiz: SimulaciÃ³n Monte Carlo", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© tÃ©cnica ejecuta miles de simulaciones con variables aleatorias?", opciones: ["Prueba A/B", "SimulaciÃ³n Monte Carlo", "Test unitario", "Benchmark"], respuestaCorrecta: 1, explicacion: "Monte Carlo ejecuta miles de escenarios con condiciones aleatorias para evaluar la probabilidad de Ã©xito de la misiÃ³n. ğŸ°" },
            { titulo: "âœ… Quiz: Reproducibilidad", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© las simulaciones usan semillas (seeds) para nÃºmeros aleatorios?", opciones: ["Para crecer plantas virtuales", "Para poder repetir exactamente la misma simulaciÃ³n y depurar errores", "Para hacer trampas", "Para ahorrar memoria"], respuestaCorrecta: 1, explicacion: "Con la misma semilla, la simulaciÃ³n produce los mismos resultados. Esencial para encontrar y corregir errores reproducibles. ğŸ”" },
            { titulo: "âœ… Quiz: Testing Unitario", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es un test unitario en software de rovers?", opciones: ["Probar todo el rover junto", "Probar cada funciÃ³n o componente individual por separado", "Un test que se hace una sola vez", "Un examen para ingenieros"], respuestaCorrecta: 1, explicacion: "Los tests unitarios verifican que cada funciÃ³n individual funcione correctamente antes de integrar todo. Catch bugs temprano. ğŸ§ª" },
            { titulo: "âœ… Quiz: HIL", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es Hardware-In-the-Loop (HIL) testing?", opciones: ["Probar software con hardware real conectado", "Probar hardware sin software", "Una prueba de resistencia fÃ­sica", "Un tipo de cable"], respuestaCorrecta: 0, explicacion: "HIL conecta el software del rover a hardware real (motores, sensores) en un entorno controlado. Mezcla simulaciÃ³n con realidad. ğŸ”Œ" },
            { titulo: "âœ… Quiz: Costo del Fallo", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© el testing exhaustivo es tan importante en misiones espaciales?", opciones: ["Porque es divertido", "Porque un fallo en Marte NO se puede reparar y la misiÃ³n cuesta miles de millones", "Para justificar el presupuesto", "No es importante"], respuestaCorrecta: 1, explicacion: "Perseverance costÃ³ $2.7 mil millones. No hay segunda oportunidad ni servicio tÃ©cnico en Marte. Cada test prevenido es un desastre evitado. ğŸ’¸" },
        ]
    },

    // ===== SECCIÃ“N 4: PROYECTOS ROVER AVANZADOS (4 mÃ³dulos) =====
    {
        id: 'w5_mod13_swarm_rovers',
        titulo: "MÃ³dulo 13: Enjambre de Rovers ğŸœ",
        icon: 'ğŸœ',
        descripcion: "MÃºltiples rovers trabajando juntos como un equipo coordinado para explorar mÃ¡s rÃ¡pido.",
        contenidoTeorico: [
            { titulo: "ğŸœ Muchos Rovers, Una MisiÃ³n", tipo: 'intro_hero', texto: "Â¿Por quÃ© enviar un rover grande cuando puedes enviar 20 pequeÃ±os? Los enjambres de rovers cooperan como hormigas: cada uno es simple, pero juntos pueden explorar Ã¡reas enormes, crear mapas detallados y sobrevivir a la pÃ©rdida de miembros. Â¡El futuro de la exploraciÃ³n! ğŸ¤–ğŸ¤–ğŸ¤–" },
            { titulo: "1. Principios del Enjambre RobÃ³tico", tipo: 'texto', puntos: [
                "**DescentralizaciÃ³n:** NingÃºn rover es el 'jefe'. Cada uno toma decisiones locales que generan comportamiento global inteligente. ğŸŒ",
                "**ComunicaciÃ³n local:** Los rovers solo hablan con vecinos cercanos, como las hormigas con feromonas. ğŸ“¡",
                "**Redundancia natural:** Si uno falla, los demÃ¡s cubren su zona. La misiÃ³n no depende de un solo robot. ğŸ›¡ï¸",
                "**Escalabilidad:** Funciona con 5 rovers o con 500. MÃ¡s rovers = mÃ¡s terreno explorado. ğŸ“ˆ"
            ]},
            { titulo: "ğŸ¤” Â¿SabÃ­as que...?", tipo: 'fun_fact', texto: "La NASA estÃ¡ desarrollando el proyecto **CADRE** (Cooperative Autonomous Distributed Robotic Explorers): 3 rovers del tamaÃ±o de una caja de zapatos que explorarÃ¡n la Luna cooperando entre sÃ­. SerÃ¡ la primera vez que un enjambre de robots explore otro cuerpo celeste. Â¡Lanzamiento previsto para 2025-2026! ğŸ“¦ğŸŒ™" },
            { titulo: "ğŸ’¡ CÃ³digo: Enjambre de Rovers", tipo: 'code_example', lenguaje: 'Python', codigo: "# SimulaciÃ³n de enjambre de rovers\nimport random\n\nclass MiniRover:\n    def __init__(self, id, x, y):\n        self.id = id\n        self.pos = [x, y]\n        self.area_explorada = set()\n        self.activo = True\n    \n    def explorar(self):\n        if not self.activo:\n            return\n        # Moverse aleatoriamente\n        self.pos[0] += random.choice([-1, 0, 1])\n        self.pos[1] += random.choice([-1, 0, 1])\n        self.area_explorada.add(tuple(self.pos))\n    \n    def comunicar_vecinos(self, otros):\n        \"\"\"Compartir mapa con rovers cercanos\"\"\"\n        for otro in otros:\n            if otro.id != self.id and otro.activo:\n                dist = abs(self.pos[0]-otro.pos[0]) + abs(self.pos[1]-otro.pos[1])\n                if dist <= 3:  # Radio de comunicaciÃ³n\n                    # Compartir Ã¡reas exploradas\n                    otro.area_explorada.update(self.area_explorada)\n\nclass Enjambre:\n    def __init__(self, n_rovers=10):\n        self.rovers = [\n            MiniRover(i, random.randint(-5,5), random.randint(-5,5))\n            for i in range(n_rovers)\n        ]\n    \n    def simular(self, pasos=50):\n        for paso in range(pasos):\n            for rover in self.rovers:\n                rover.explorar()\n                rover.comunicar_vecinos(self.rovers)\n        \n        # Resultados\n        total_explorado = set()\n        for rover in self.rovers:\n            total_explorado.update(rover.area_explorada)\n        print(f'Enjambre de {len(self.rovers)} rovers')\n        print(f'Ãrea total explorada: {len(total_explorado)} celdas')\n\nenjambre = Enjambre(10)\nenjambre.simular(100)", explicacion: "Cada mini-rover explora independientemente y comparte su mapa con vecinos cercanos. Juntos, cubren mucho mÃ¡s terreno que un solo rover grande. Si uno falla, los demÃ¡s continÃºan la misiÃ³n." },
            { titulo: "âœ… Quiz: Enjambres", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡l es la ventaja principal de un enjambre de rovers?", opciones: ["Son mÃ¡s baratos de fabricar", "Si uno falla, la misiÃ³n continÃºa con los demÃ¡s", "Son mÃ¡s rÃ¡pidos que los rovers grandes", "No necesitan energÃ­a"], respuestaCorrecta: 1, explicacion: "Â¡Correcto! La redundancia natural del enjambre significa que la misiÃ³n no depende de un solo robot. Si varios fallan, los demÃ¡s continÃºan explorando. ğŸ›¡ï¸ğŸ¤–" },
            { titulo: "ğŸ® MisiÃ³n: Coordina tu Enjambre", tipo: 'interactive_challenge', instruccion: "**MisiÃ³n Enjambre:**\n\n1. **Dibuja un mapa** de 20x20 con 30 obstÃ¡culos\n2. **Coloca 5 'rovers'** (fichas de colores) en el centro\n3. **Cada turno**, mueve cada ficha 1-2 casillas intentando cubrir Ã¡rea nueva\n4. **Regla:** Si dos rovers estÃ¡n a 3 casillas de distancia, comparten mapa\n5. **DespuÃ©s de 20 turnos**, cuenta las casillas exploradas\n6. **Compara** con un solo rover haciendo 100 movimientos (5 rovers Ã— 20 turnos)\n\nÂ¡El enjambre explora mÃ¡s rÃ¡pido!", recompensa: "ğŸ… Insignia: Comandante de Enjambre" },
            { titulo: "ğŸ§© Concepto y DefiniciÃ³n", tipo: 'matching_game', instruccion: 'Relaciona cada concepto del enjambre', pairs: [{ left: 'ğŸŒ DescentralizaciÃ³n', right: 'Sin lÃ­der, decisiones locales' }, { left: 'ğŸ“¡ ComunicaciÃ³n local', right: 'Solo habla con vecinos' }, { left: 'ğŸ›¡ï¸ Redundancia', right: 'Sobrevive a fallos individuales' }, { left: 'ğŸ“ˆ Escalabilidad', right: 'MÃ¡s rovers = mÃ¡s exploraciÃ³n' }] },
            { titulo: "âœ…âŒ Enjambres: Â¿V o F?", tipo: 'true_false', statements: [{ text: 'En un enjambre, un rover central controla a todos los demÃ¡s.', correct: false, explain: 'Los enjambres son descentralizados: no hay lÃ­der. Cada rover toma decisiones locales independientes.' }, { text: 'El proyecto CADRE de la NASA probarÃ¡ enjambres en la Luna.', correct: true, explain: 'CADRE enviarÃ¡ 3 mini-rovers cooperativos a la Luna, siendo el primer enjambre robÃ³tico en otro cuerpo celeste.' }, { text: 'Un enjambre de 10 rovers pequeÃ±os puede explorar mÃ¡s que 1 rover grande.', correct: true, explain: 'MÃºltiples rovers cubren mÃ¡s terreno simultÃ¡neamente y comparten informaciÃ³n, explorando mÃ¡s eficientemente.' }] },
            { titulo: "ğŸ’¡ Tip de Enjambres", tipo: 'tip', texto: "**Piensa local, actÃºa global.** En robÃ³tica de enjambres, cada robot sigue reglas simples (evitar colisiones, seguir vecinos, explorar lo nuevo). De reglas locales simples emerge comportamiento global complejo. Â¡Como las hormigas y abejas! ğŸœğŸ" },
            { titulo: "âœ… Quiz: CADRE", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es el proyecto CADRE de la NASA?", opciones: ["Un nuevo cohete", "3 mini-rovers cooperativos que explorarÃ¡n la Luna como enjambre", "Un telescopio", "Una estaciÃ³n espacial"], respuestaCorrecta: 1, explicacion: "CADRE (Cooperative Autonomous Distributed Robotic Explorers) serÃ¡ el primer enjambre robÃ³tico en explorar otro cuerpo celeste. ğŸ“¦ğŸŒ™" },
            { titulo: "âœ… Quiz: DescentralizaciÃ³n", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© significa que un enjambre es descentralizado?", opciones: ["Que hay un rover lÃ­der", "Que ningÃºn rover es el jefe; cada uno decide localmente", "Que estÃ¡n muy separados", "Que no se comunican"], respuestaCorrecta: 1, explicacion: "Sin lÃ­der central, cada rover toma decisiones basÃ¡ndose en informaciÃ³n local. Si uno falla, no arrastra a los demÃ¡s. ğŸŒ" },
            { titulo: "âœ… Quiz: ComunicaciÃ³n Local", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo se comunican los rovers en un enjambre?", opciones: ["A travÃ©s de un satÃ©lite central", "Solo con vecinos cercanos, como las hormigas con feromonas", "Por internet global", "No se comunican"], respuestaCorrecta: 1, explicacion: "La comunicaciÃ³n local es eficiente y escalable. Cada rover habla solo con sus vecinos cercanos y la informaciÃ³n se propaga gradualmente. ğŸ“¡" },
            { titulo: "âœ… Quiz: Escalabilidad", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© pasa si agregas mÃ¡s rovers al enjambre?", opciones: ["Se vuelve mÃ¡s lento", "Se explora mÃ¡s terreno y la misiÃ³n es mÃ¡s robusta", "Se confunden", "No funciona con mÃ¡s de 5"], respuestaCorrecta: 1, explicacion: "Los enjambres escalan naturalmente: mÃ¡s rovers = mÃ¡s cobertura de terreno, sin necesidad de cambiar el software. ğŸ“ˆ" },
            { titulo: "âœ… Quiz: InspiraciÃ³n BiolÃ³gica", tipo: 'mini_quiz', pregunta: "Â¿En quÃ© seres vivos se inspiran los enjambres robÃ³ticos?", opciones: ["Elefantes y ballenas", "Hormigas, abejas y bandadas de pÃ¡jaros", "Solo perros", "Plantas y Ã¡rboles"], respuestaCorrecta: 1, explicacion: "Las hormigas, abejas y bandadas muestran inteligencia colectiva: comportamiento complejo emergente de reglas individuales simples. ğŸœğŸ" },
            { titulo: "âœ… Quiz: Tolerancia a Fallos", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© pasa si 3 de 10 rovers del enjambre fallan?", opciones: ["La misiÃ³n fracasa", "Los 7 restantes redistribuyen el trabajo y continÃºan", "Todos se detienen", "Esperan reparaciÃ³n"], respuestaCorrecta: 1, explicacion: "La redundancia natural del enjambre permite que los rovers restantes cubran las zonas de los que fallaron. ğŸ›¡ï¸" },
            { titulo: "âœ… Quiz: Mapeo Cooperativo", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo crean los rovers del enjambre un mapa compartido?", opciones: ["Cada uno guarda su propio mapa aislado", "Comparten sus mapas locales con vecinos que los fusionan", "Un satÃ©lite les da el mapa", "Usan Google Maps"], respuestaCorrecta: 1, explicacion: "Cada rover mapea su entorno y comparte con vecinos. Los mapas se fusionan gradualmente hasta crear uno global completo. ğŸ—ºï¸" },
            { titulo: "âœ… Quiz: Comportamiento Emergente", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es 'comportamiento emergente' en enjambres?", opciones: ["Comportamiento de emergencia", "Patrones complejos que surgen de reglas individuales simples", "Cuando los robots se activan", "Un tipo de programaciÃ³n"], respuestaCorrecta: 1, explicacion: "De reglas simples (evitar colisiones, seguir vecinos) emerge comportamiento grupal complejo: formaciones, exploraciÃ³n eficiente. ğŸŒŠ" },
            { titulo: "âœ… Quiz: Coste del Enjambre", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© un enjambre de mini-rovers puede ser mÃ¡s econÃ³mico que un gran rover?", opciones: ["Porque son de plÃ¡stico", "Porque cada mini-rover es simple y barato, y la redundancia reduce riesgo", "No son mÃ¡s baratos", "Porque no necesitan energÃ­a"], respuestaCorrecta: 1, explicacion: "Un rover de $2.7B es un punto de fallo. 20 mini-rovers de $50M cada uno cuestan menos y sobreviven a la pÃ©rdida de unidades. ğŸ’°" },
        ]
    },
    {
        id: 'w5_mod14_construccion_isru',
        titulo: "MÃ³dulo 14: ConstrucciÃ³n y ISRU ğŸ—ï¸",
        icon: 'ğŸ—ï¸',
        descripcion: "Rovers que construyen bases y fabrican recursos en otros planetas usando materiales locales.",
        contenidoTeorico: [
            { titulo: "ğŸ—ï¸ Construir en Otro Planeta", tipo: 'intro_hero', texto: "ISRU (In-Situ Resource Utilization) es la tecnologÃ­a que permite usar materiales locales para construir: oxÃ­geno del CO2 marciano, agua del hielo polar, ladrillos del regolito. Los rovers constructores prepararÃ¡n bases antes de que lleguen humanos. Â¡Es como enviar a los obreros antes que a los inquilinos! ğŸ ğŸ”´" },
            { titulo: "1. TecnologÃ­as ISRU", tipo: 'texto', puntos: [
                "**ExtracciÃ³n de agua:** El polo sur de Marte tiene hielo de agua. Rovers pueden derretirlo y purificarlo. ğŸ’§",
                "**ProducciÃ³n de oxÃ­geno:** MOXIE demostrÃ³ que se puede extraer O2 del CO2 marciano. Escalar para humanos. ğŸ«",
                "**FabricaciÃ³n de combustible:** H2 + CO2 â†’ CH4 (metano). El combustible de retorno para volver a la Tierra. â›½",
                "**ImpresiÃ³n 3D con regolito:** Mezclar suelo marciano con aglutinante para imprimir estructuras habitables. ğŸ–¨ï¸"
            ]},
            { titulo: "ğŸ¤” Â¿SabÃ­as que...?", tipo: 'fun_fact', texto: "SpaceX planea usar la **reacciÃ³n de Sabatier** para fabricar combustible de retorno en Marte: 4Hâ‚‚ + COâ‚‚ â†’ CHâ‚„ + 2Hâ‚‚O. Starship necesita ~1,000 toneladas de propelente para volver a la Tierra. Â¡Fabricar esto in-situ es mÃ¡s eficiente que llevarlo desde la Tierra! Elon Musk dice que esta tecnologÃ­a es la clave de la colonizaciÃ³n. ğŸš€â›½" },
            { titulo: "ğŸ’¡ CÃ³digo: Planificador ISRU", tipo: 'code_example', lenguaje: 'Python', codigo: "# Planificador de producciÃ³n ISRU\n\nclass ISRUPlanner:\n    def __init__(self):\n        self.recursos = {\n            'CO2_atmosferico': float('inf'),  # Abundante en Marte\n            'hielo_agua': 5000,  # kg disponible\n            'regolito': float('inf'),  # Suelo marciano\n            'energia_solar': 200,  # kWh/dÃ­a\n        }\n        self.produccion = {\n            'oxigeno': {'input': {'CO2_atmosferico': 10, 'energia_solar': 20}, 'output': 6},  # kg O2/dÃ­a\n            'agua': {'input': {'hielo_agua': 15, 'energia_solar': 10}, 'output': 14},  # kg agua/dÃ­a\n            'metano': {'input': {'CO2_atmosferico': 44, 'hielo_agua': 36, 'energia_solar': 50}, 'output': 16},\n            'ladrillos': {'input': {'regolito': 100, 'energia_solar': 30}, 'output': 90},  # kg ladrillos/dÃ­a\n        }\n    \n    def simular_dia(self, prioridad=['oxigeno', 'agua', 'metano', 'ladrillos']):\n        energia_restante = self.recursos['energia_solar']\n        producido = {}\n        \n        for recurso in prioridad:\n            req = self.produccion[recurso]\n            energia_req = req['input'].get('energia_solar', 0)\n            \n            if energia_restante >= energia_req:\n                # Verificar otros inputs\n                puede_producir = True\n                for inp, cant in req['input'].items():\n                    if inp != 'energia_solar' and self.recursos.get(inp, 0) < cant:\n                        puede_producir = False\n                \n                if puede_producir:\n                    energia_restante -= energia_req\n                    producido[recurso] = req['output']\n        \n        return producido\n\nisru = ISRUPlanner()\nprint('ProducciÃ³n diaria:', isru.simular_dia())", explicacion: "Un planificador ISRU decide quÃ© producir cada dÃ­a segÃºn prioridades y energÃ­a disponible. El oxÃ­geno es primero (humanos lo necesitan), luego agua, combustible y finalmente materiales de construcciÃ³n." },
            { titulo: "âœ… Quiz: ISRU", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© demostrÃ³ MOXIE en Marte?", opciones: ["Que se puede cultivar plantas", "Que se puede producir oxÃ­geno del CO2 marciano", "Que hay agua lÃ­quida en la superficie", "Que el suelo es fÃ©rtil"], respuestaCorrecta: 1, explicacion: "Â¡Correcto! MOXIE demostrÃ³ que es posible extraer oxÃ­geno del diÃ³xido de carbono de la atmÃ³sfera marciana. Â¡Un paso fundamental para futuras misiones tripuladas! ğŸ«ğŸ”´" },
            { titulo: "ğŸ® MisiÃ³n: DiseÃ±a tu Base ISRU", tipo: 'interactive_challenge', instruccion: "**MisiÃ³n ISRU:**\n\n1. **Tu base necesita diariamente:** 6kg O2, 10kg agua, 5kg combustible\n2. **Tienes 200kWh** de energÃ­a solar al dÃ­a\n3. **DiseÃ±a un plan** de producciÃ³n: Â¿quÃ© produces primero?\n4. **Â¿QuÃ© pasa en una tormenta** (solo 60kWh)? Â¿QuÃ© sacrificas?\n5. **Dibuja el layout** de tu base: paneles, extractores, tanques\n\nÂ¡EstÃ¡s planeando la primera colonia en Marte!", recompensa: "ğŸ… Insignia: Arquitecto Marciano" },
            { titulo: "ğŸ§© Recurso y Fuente", tipo: 'matching_game', instruccion: 'Relaciona cada recurso con su fuente marciana', pairs: [{ left: 'ğŸ« OxÃ­geno', right: 'CO2 atmosfÃ©rico (reacciÃ³n MOXIE)' }, { left: 'ğŸ’§ Agua', right: 'Hielo del polo sur' }, { left: 'â›½ Metano', right: 'ReacciÃ³n de Sabatier (H2+CO2)' }, { left: 'ğŸ§± Ladrillos', right: 'Regolito compactado' }] },
            { titulo: "âœ…âŒ ISRU: Â¿V o F?", tipo: 'true_false', statements: [{ text: 'ISRU significa usar recursos locales de otro planeta para fabricar lo que necesitas.', correct: true, explain: 'In-Situ Resource Utilization: usar materiales disponibles localmente en vez de traerlos desde la Tierra.' }, { text: 'SpaceX planea llevar todo el combustible de retorno desde la Tierra.', correct: false, explain: 'SpaceX planea fabricar el metano de retorno en Marte usando la reacciÃ³n de Sabatier con CO2 marciano e hidrÃ³geno.' }, { text: 'El regolito marciano puede usarse como material de construcciÃ³n.', correct: true, explain: 'El suelo marciano puede mezclarse con aglutinantes o usarse en impresiÃ³n 3D para crear estructuras habitables.' }] },
            { titulo: "ğŸ’¡ Tip ISRU", tipo: 'tip', texto: "**La sostenibilidad importa.** En la Tierra y en Marte, usar recursos locales es mÃ¡s eficiente que importarlos. Â¡La misma filosofÃ­a aplica a tu taller: usa materiales reciclados para prototipos antes de comprar componentes caros! â™»ï¸ğŸ› ï¸" },
            { titulo: "âœ… Quiz: ReacciÃ³n de Sabatier", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© produce la reacciÃ³n de Sabatier con COâ‚‚ e hidrÃ³geno?", opciones: ["OxÃ­geno puro", "Metano (CHâ‚„) y agua (Hâ‚‚O)", "NitrÃ³geno", "Helio"], respuestaCorrecta: 1, explicacion: "4Hâ‚‚ + COâ‚‚ â†’ CHâ‚„ + 2Hâ‚‚O. Produce metano (combustible para Starship) y agua. Â¡La clave de la colonizaciÃ³n! â›½" },
            { titulo: "âœ… Quiz: Agua Marciana", tipo: 'mini_quiz', pregunta: "Â¿DÃ³nde hay mayor cantidad de hielo de agua en Marte?", opciones: ["En el ecuador", "En los polos y bajo la superficie", "En la atmÃ³sfera", "No hay agua en Marte"], respuestaCorrecta: 1, explicacion: "Los polos marcianos tienen casquetes de hielo y radares han detectado hielo subterrÃ¡neo. Fuente vital para colonias. ğŸ§Š" },
            { titulo: "âœ… Quiz: ImpresiÃ³n 3D", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© material marciano se usarÃ­a en impresiÃ³n 3D de hÃ¡bitats?", opciones: ["Madera marciana", "Regolito (suelo marciano) mezclado con aglutinante", "Arena de playa", "Metal puro"], respuestaCorrecta: 1, explicacion: "El regolito marciano puede mezclarse con polÃ­meros o sinterizarse para crear ladrillos y estructuras impresas en 3D. ğŸ–¨ï¸" },
            { titulo: "âœ… Quiz: Propelente de Retorno", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡ntas toneladas de propelente necesita Starship para volver de Marte?", opciones: ["10 toneladas", "100 toneladas", "~1,000 toneladas", "10,000 toneladas"], respuestaCorrecta: 2, explicacion: "Starship necesita unas 1,000 toneladas de metano y oxÃ­geno lÃ­quido. Fabricarlo in-situ es esencial; traerlo de la Tierra serÃ­a imposible. ğŸš€" },
            { titulo: "âœ… Quiz: ElectrÃ³lisis", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© proceso separa el agua en hidrÃ³geno y oxÃ­geno?", opciones: ["EvaporaciÃ³n", "ElectrÃ³lisis (pasar corriente elÃ©ctrica por el agua)", "FiltraciÃ³n", "DestilaciÃ³n"], respuestaCorrecta: 1, explicacion: "La electrÃ³lisis usa electricidad para separar Hâ‚‚O en Hâ‚‚ y Oâ‚‚. El hidrÃ³geno se usa para la reacciÃ³n de Sabatier y el oxÃ­geno para respirar. âš¡" },
            { titulo: "âœ… Quiz: Blindaje de RadiaciÃ³n", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo protegerÃ­an los hÃ¡bitats marcianos de la radiaciÃ³n?", opciones: ["Con un campo magnÃ©tico artificial", "Cubriendo con capas de regolito que bloquea la radiaciÃ³n", "Con pintura especial", "No es necesario protegerse"], respuestaCorrecta: 1, explicacion: "Capas gruesas de regolito sobre el hÃ¡bitat absorben la radiaciÃ³n cÃ³smica, como la atmÃ³sfera terrestre nos protege. â˜¢ï¸" },
            { titulo: "âœ… Quiz: Rovers Constructores", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© harÃ­an los rovers antes de que lleguen los humanos a Marte?", opciones: ["Solo explorar", "Construir hÃ¡bitats, producir oxÃ­geno y fabricar combustible", "Plantar Ã¡rboles", "Solo tomar fotos"], respuestaCorrecta: 1, explicacion: "Los rovers de avanzada prepararÃ¡n toda la infraestructura: base, aire, combustible de retorno. Todo listo para cuando lleguen humanos. ğŸ—ï¸" },
            { titulo: "âœ… Quiz: ProducciÃ³n de OxÃ­geno", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡nto oxÃ­geno necesita un astronauta al dÃ­a para respirar?", opciones: ["100 gramos", "Aproximadamente 840 gramos (0.84 kg)", "10 kilogramos", "1 gramo"], respuestaCorrecta: 1, explicacion: "Un humano necesita ~0.84 kg de Oâ‚‚ al dÃ­a. MOXIE produjo 5g en su prueba. Hay que escalar la producciÃ³n enormemente. ğŸ«" },
            { titulo: "âœ… Quiz: Invernadero Marciano", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© desafÃ­o principal tiene cultivar plantas en Marte?", opciones: ["No hay semillas", "La radiaciÃ³n, baja presiÃ³n, suelo tÃ³xico y poca luz solar", "Hace demasiado calor", "Hay demasiada agua"], respuestaCorrecta: 1, explicacion: "El suelo marciano tiene percloratos tÃ³xicos, la presiÃ³n es 1% de la terrestre y hay radiaciÃ³n. Necesitas invernaderos cerrados. ğŸŒ±" },
        ]
    },
    {
        id: 'w5_mod15_competencias_rovers',
        titulo: "MÃ³dulo 15: Competencias de Rovers ğŸ",
        icon: 'ğŸ',
        descripcion: "Competencias internacionales donde equipos diseÃ±an y compiten con sus rovers autÃ³nomos.",
        contenidoTeorico: [
            { titulo: "ğŸ Â¡A Competir con Rovers!", tipo: 'intro_hero', texto: "Las competencias de rovers son eventos donde equipos de todo el mundo diseÃ±an, construyen y prueban rovers autÃ³nomos en terrenos que simulan Marte o la Luna. Â¡Son la mejor forma de aprender robÃ³tica real y podrÃ­an ser tu puerta a la NASA o SpaceX! ğŸ†ğŸ¤–" },
            { titulo: "1. Grandes Competencias de Rovers", tipo: 'texto', puntos: [
                "**University Rover Challenge (URC):** La mÃ¡s prestigiosa. Equipos universitarios compiten en Utah, EE.UU. con rovers autÃ³nomos. ğŸœï¸",
                "**European Rover Challenge (ERC):** VersiÃ³n europea en Polonia con desafÃ­os similares al URC. ğŸ‡ªğŸ‡º",
                "**Indian Rover Challenge:** Competencia creciente en India con participaciÃ³n global. ğŸ‡®ğŸ‡³",
                "**NASA Sample Return Robot Challenge:** Reto de la NASA para robots que recolectan muestras autÃ³nomamente. ğŸ…"
            ]},
            { titulo: "ğŸ¤” Â¿SabÃ­as que...?", tipo: 'fun_fact', texto: "Muchos ingenieros que hoy trabajan en NASA JPL, SpaceX y Blue Origin participaron en el **University Rover Challenge** cuando eran estudiantes. Los reclutadores van directamente a las competencias a buscar talento. Â¡Participar en una competencia de rovers puede ser literalmente tu carta de entrada a la exploraciÃ³n espacial! ğŸš€ğŸ“" },
            { titulo: "ğŸ’¡ CÃ³digo: Sistema de PuntuaciÃ³n de Competencia", tipo: 'code_example', lenguaje: 'Python', codigo: "# Sistema de puntuaciÃ³n para competencia de rovers\n\nclass RoverCompetition:\n    def __init__(self):\n        self.categorias = {\n            'navegacion': {'peso': 25, 'max': 100},\n            'manipulacion': {'peso': 20, 'max': 100},\n            'ciencia': {'peso': 25, 'max': 100},\n            'presentacion': {'peso': 15, 'max': 100},\n            'autonomia': {'peso': 15, 'max': 100},\n        }\n    \n    def calcular_puntaje(self, resultados):\n        total = 0\n        desglose = {}\n        for cat, config in self.categorias.items():\n            raw = resultados.get(cat, 0)\n            ponderado = (raw / config['max']) * config['peso']\n            total += ponderado\n            desglose[cat] = f'{raw}/{config[\"max\"]} â†’ {ponderado:.1f}pts'\n        return {'total': round(total, 1), 'max': 100, 'desglose': desglose}\n\n# Ejemplo\ncomp = RoverCompetition()\nresultado = comp.calcular_puntaje({\n    'navegacion': 85,\n    'manipulacion': 70,\n    'ciencia': 90,\n    'presentacion': 80,\n    'autonomia': 75,\n})\nprint(f'Puntaje total: {resultado[\"total\"]}/100')\nfor cat, det in resultado['desglose'].items():\n    print(f'  {cat}: {det}')", explicacion: "Las competencias evalÃºan mÃºltiples habilidades: navegaciÃ³n autÃ³noma, manipulaciÃ³n de objetos, recolecciÃ³n cientÃ­fica, presentaciÃ³n del diseÃ±o y nivel de autonomÃ­a. Un buen rover necesita ser excelente en todas las categorÃ­as." },
            { titulo: "âœ… Quiz: Competencias", tipo: 'mini_quiz', pregunta: "Â¿En quÃ© estado de EE.UU. se realiza el University Rover Challenge?", opciones: ["California (JPL)", "Utah (desierto similar a Marte)", "Florida (cerca de cabo CaÃ±averal)", "Texas (centro de la NASA)"], respuestaCorrecta: 1, explicacion: "Â¡Correcto! El URC se realiza en el desierto de Utah, cuyo terreno rojo y rocoso se parece a la superficie de Marte. El Mars Desert Research Station estÃ¡ ahÃ­. ğŸœï¸" },
            { titulo: "ğŸ® MisiÃ³n: Planifica tu Equipo de Competencia", tipo: 'interactive_challenge', instruccion: "**MisiÃ³n Competencia:**\n\n1. **Forma un equipo** de 6 personas con roles: lÃ­der, mecÃ¡nico, programador, electrÃ³nico, diseÃ±ador, comunicador\n2. **Elige una competencia** y lee sus reglas\n3. **DiseÃ±a tu rover** en papel con las restricciones de la competencia\n4. **Planifica un presupuesto** de $1000-5000\n5. **Haz un cronograma** de 6 meses de desarrollo\n6. **Prepara un pitch** de 3 minutos para buscar patrocinadores\n\nÂ¡Los equipos ganadores empezaron exactamente asÃ­!", recompensa: "ğŸ… Insignia: Competidor de Rovers" },
            { titulo: "ğŸ§© Competencia y UbicaciÃ³n", tipo: 'matching_game', instruccion: 'Relaciona cada competencia con su ubicaciÃ³n', pairs: [{ left: 'ğŸœï¸ URC', right: 'Utah, Estados Unidos' }, { left: 'ğŸ‡ªğŸ‡º ERC', right: 'Polonia, Europa' }, { left: 'ğŸ‡®ğŸ‡³ IRC', right: 'India' }, { left: 'ğŸ… NASA Challenge', right: 'Varios sitios, EE.UU.' }] },
            { titulo: "âœ…âŒ Competencias: Â¿V o F?", tipo: 'true_false', statements: [{ text: 'Muchos ingenieros de SpaceX participaron en competencias de rovers de estudiantes.', correct: true, explain: 'Los reclutadores de empresas espaciales asisten a competencias como URC para encontrar talento joven.' }, { text: 'Las competencias de rovers solo evalÃºan la velocidad del robot.', correct: false, explain: 'EvalÃºan navegaciÃ³n, manipulaciÃ³n, ciencia, presentaciÃ³n y autonomÃ­a. La velocidad es solo uno de muchos factores.' }, { text: 'Puedes participar en competencias de rovers siendo estudiante.', correct: true, explain: 'El URC, ERC e IRC estÃ¡n diseÃ±ados para equipos de estudiantes universitarios. Â¡Empieza a formar tu equipo!' }] },
            { titulo: "ğŸ’¡ Tip de Competencias", tipo: 'tip', texto: "**Empieza ahora.** No necesitas estar en la universidad para prepararte. Aprende Arduino, Python, CAD y mecÃ¡nica. Cuando llegues a la universidad, ya tendrÃ¡s las habilidades para liderar un equipo de competencia. Â¡Los campeones empiezan temprano! ğŸ†ğŸš€" },
            { titulo: "âœ… Quiz: URC CategorÃ­as", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡ntas categorÃ­as evalÃºa el University Rover Challenge?", opciones: ["Solo 1: velocidad", "5 categorÃ­as principales", "10 categorÃ­as", "Solo 2"], respuestaCorrecta: 1, explicacion: "El URC evalÃºa: navegaciÃ³n autÃ³noma, manipulaciÃ³n, ciencia, presentaciÃ³n del diseÃ±o y nivel de autonomÃ­a. ğŸ†" },
            { titulo: "âœ… Quiz: ERC Europa", tipo: 'mini_quiz', pregunta: "Â¿En quÃ© paÃ­s europeo se realiza el European Rover Challenge?", opciones: ["EspaÃ±a", "Francia", "Polonia", "Alemania"], respuestaCorrecta: 2, explicacion: "El ERC se realiza en Polonia y es una de las competencias de rovers mÃ¡s importantes de Europa. ğŸ‡µğŸ‡±" },
            { titulo: "âœ… Quiz: Reclutamiento", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© los reclutadores de SpaceX y NASA asisten a competencias de rovers?", opciones: ["Para hacer turismo", "Para encontrar talento joven con experiencia prÃ¡ctica en robÃ³tica", "Para vender productos", "Para criticar los robots"], respuestaCorrecta: 1, explicacion: "Las competencias muestran habilidades reales: diseÃ±o, trabajo en equipo, resoluciÃ³n de problemas bajo presiÃ³n. El CV perfecto. ğŸ“" },
            { titulo: "âœ… Quiz: Equipo de Competencia", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© roles necesita un equipo de competencia de rovers?", opciones: ["Solo programadores", "MecÃ¡nicos, electrÃ³nicos, programadores, diseÃ±adores y comunicadores", "Solo un lÃ­der", "Solo ingenieros civiles"], respuestaCorrecta: 1, explicacion: "Un rover es multidisciplinario: necesita mecÃ¡nica, electrÃ³nica, software, diseÃ±o CAD, gestiÃ³n y comunicaciÃ³n. Â¡Trabajo en equipo! ğŸ¤" },
            { titulo: "âœ… Quiz: Presupuesto", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡l es el rango de presupuesto tÃ­pico para un equipo de URC?", opciones: ["$50 - $100", "$1,000 - $10,000", "$100,000 o mÃ¡s", "No cuesta nada"], respuestaCorrecta: 1, explicacion: "Los equipos suelen gastar $1,000-$10,000 en componentes. Los mejores buscan patrocinadores para cubrir costos. ğŸ’°" },
            { titulo: "âœ… Quiz: NavegaciÃ³n AutÃ³noma", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© prueba de competencia requiere que el rover navegue sin intervenciÃ³n humana?", opciones: ["PresentaciÃ³n oral", "La prueba de navegaciÃ³n autÃ³noma con waypoints GPS", "La prueba de ciencia", "La de manipulaciÃ³n"], respuestaCorrecta: 1, explicacion: "En la prueba de autonomÃ­a, el rover debe navegar solo entre puntos GPS sin ningÃºn control humano. La mÃ¡s desafiante. ğŸ§­" },
            { titulo: "âœ… Quiz: PreparaciÃ³n", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡nto tiempo tÃ­picamente tarda un equipo en preparar un rover para competencia?", opciones: ["1 semana", "1 mes", "6-12 meses", "3 aÃ±os"], respuestaCorrecta: 2, explicacion: "Los equipos competitivos trabajan 6-12 meses: diseÃ±o (3 meses), construcciÃ³n (3 meses), testeo (3 meses), iteraciÃ³n constante. â³" },
            { titulo: "âœ… Quiz: Sample Return", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© debe hacer un rover en el desafÃ­o NASA Sample Return?", opciones: ["Solo avanzar rÃ¡pido", "Encontrar y recolectar muestras de forma completamente autÃ³noma", "Solo tomar fotos", "Levantar pesas"], respuestaCorrecta: 1, explicacion: "El rover debe localizar, recoger y traer muestras sin ayuda humana. Combina navegaciÃ³n, visiÃ³n y manipulaciÃ³n. ğŸ…" },
            { titulo: "âœ… Quiz: Habilidades Valoradas", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© habilidad valoran MÃS los jueces en las competencias?", opciones: ["Que el rover sea bonito", "La resoluciÃ³n creativa de problemas bajo presiÃ³n", "Que sea el mÃ¡s caro", "Que sea el mÃ¡s grande"], respuestaCorrecta: 1, explicacion: "Los jueces valoran cÃ³mo los equipos solucionan problemas inesperados durante la competencia. La creatividad supera al presupuesto. ğŸ’¡" },
        ]
    },
    {
        id: 'w5_mod16_proyecto_rover_final',
        titulo: "MÃ³dulo 16: Proyecto Final - Tu Rover AutÃ³nomo ğŸ†",
        icon: 'ğŸ†',
        descripcion: "DiseÃ±a y planifica tu propio rover autÃ³nomo completo como proyecto final del Desierto de los Rovers.",
        contenidoTeorico: [
            { titulo: "ğŸ† Â¡Tu Rover, Tu Legado!", tipo: 'intro_hero', texto: "Â¡Felicidades por llegar al mÃ³dulo final del Desierto de los Rovers! Has aprendido navegaciÃ³n, percepciÃ³n, IA, energÃ­a, comunicaciÃ³n, seguridad y mÃ¡s. Ahora es momento de diseÃ±ar tu propio rover autÃ³nomo completo. Â¡Demuestra todo lo que sabes! ğŸ¤–ğŸœï¸ğŸ†" },
            { titulo: "1. Tu Proyecto Final", tipo: 'texto', puntos: [
                "**Paso 1 - MisiÃ³n:** Define el objetivo de tu rover. Â¿QuÃ© explorarÃ¡? Â¿QuÃ© buscarÃ¡? ğŸ¯",
                "**Paso 2 - Hardware:** Chasis, ruedas, sensores, energÃ­a, comunicaciÃ³n. Toda la parte fÃ­sica. ğŸ”§",
                "**Paso 3 - Software:** NavegaciÃ³n, percepciÃ³n, decisiones, seguridad. La inteligencia de tu rover. ğŸ’»",
                "**Paso 4 - Testing:** Plan de pruebas, simulaciÃ³n, escenarios de fallo. Probar todo. ğŸ§ª"
            ]},
            { titulo: "ğŸ¤” Â¿SabÃ­as que...?", tipo: 'fun_fact', texto: "El concepto de Starship de SpaceX incluye enviar rovers autÃ³nomos a Marte 2 aÃ±os antes que humanos. Estos rovers construirÃ¡n la base, generarÃ¡n combustible, producirÃ¡n oxÃ­geno y verificarÃ¡n que todo funcione. Â¡Los rovers que diseÃ±es hoy podrÃ­an ser los que preparen Marte para la humanidad! ğŸ”´ğŸ ğŸš€" },
            { titulo: "ğŸ’¡ Proyecto Completo: Especificaciones del Rover", tipo: 'code_example', lenguaje: 'Python', codigo: "# Especificaciones completas de tu rover\n\nclass MiRoverFinal:\n    # === IDENTIDAD ===\n    nombre = 'TU_NOMBRE_AQUÃ'\n    mision = 'Explorar y analizar terreno desÃ©rtico'\n    \n    # === HARDWARE ===\n    hardware = {\n        'chasis': 'Aluminio, 40x30x25cm, 5kg',\n        'ruedas': '6 ruedas, 10cm diÃ¡metro, goma',\n        'motores': '6x DC con encoder, 12V',\n        'bateria': 'LiPo 11.1V 5000mAh',\n        'paneles_solares': '2x 5W para recarga',\n    }\n    \n    # === SENSORES ===\n    sensores = {\n        'camara': 'RPi Camera v2 (8MP)',\n        'ultrasonico': '3x HC-SR04 (frente/lados)',\n        'imu': 'MPU-6050 (giroscopio+acel)',\n        'temperatura': 'DHT22 (-40 a 80Â°C)',\n        'gps': 'NEO-6M (para Tierra)',\n    }\n    \n    # === SOFTWARE ===\n    software = {\n        'cerebro': 'Raspberry Pi 4',\n        'navegacion': 'A* + SLAM visual',\n        'percepcion': 'OpenCV para terreno',\n        'decisiones': 'FSM con 5 estados',\n        'comunicacion': 'WiFi + LoRa backup',\n        'seguridad': 'Watchdog + modo seguro',\n    }\n    \n    # === AUTONOMÃA ===\n    autonomia = {\n        'sin_recarga': '4 horas continuas',\n        'con_solar': 'Indefinida en dÃ­a claro',\n        'velocidad_max': '0.5 m/s',\n        'alcance': '2km desde base',\n    }\n    \n    def presentar(self):\n        print(f'ğŸ¤– Rover: {self.nombre}')\n        print(f'ğŸ¯ MisiÃ³n: {self.mision}')\n        for seccion, datos in [\n            ('Hardware', self.hardware),\n            ('Sensores', self.sensores),\n            ('Software', self.software),\n            ('AutonomÃ­a', self.autonomia),\n        ]:\n            print(f'\\n=== {seccion} ===')\n            for k, v in datos.items():\n                print(f'  {k}: {v}')\n\nrover = MiRoverFinal()\nrover.presentar()", explicacion: "Un proyecto final completo incluye todas las especificaciones del rover: hardware, sensores, software y metas de autonomÃ­a. Este template te sirve como punto de partida para documentar tu diseÃ±o." },
            { titulo: "âœ… Quiz Final", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡l es la secuencia correcta para diseÃ±ar un rover autÃ³nomo?", opciones: ["Construir â†’ Programar â†’ DiseÃ±ar â†’ Probar", "DiseÃ±ar â†’ Construir â†’ Programar â†’ Probar", "Programar â†’ DiseÃ±ar â†’ Probar â†’ Construir", "Probar â†’ DiseÃ±ar â†’ Construir â†’ Programar"], respuestaCorrecta: 1, explicacion: "Â¡Correcto! Primero diseÃ±as (quÃ© necesitas), luego construyes el hardware, programas el software y finalmente pruebas todo exhaustivamente. Â¡El orden importa! ğŸ“‹" },
            { titulo: "ğŸ® PROYECTO FINAL: Tu Rover AutÃ³nomo", tipo: 'interactive_challenge', instruccion: "**ğŸ† PROYECTO FINAL - ROVER AUTÃ“NOMO COMPLETO:**\n\n1. **Nombre y misiÃ³n** de tu rover\n2. **DiseÃ±o de hardware:** dibuja con dimensiones, materiales y peso\n3. **Lista de sensores:** quÃ© mide cada uno y por quÃ© lo necesitas\n4. **Diagrama de software:** FSM con estados y transiciones\n5. **Plan de energÃ­a:** consumo, fuente, duraciÃ³n\n6. **Plan de comunicaciÃ³n:** cÃ³mo envÃ­a datos\n7. **Sistema de seguridad:** quÃ© pasa si algo falla\n8. **Plan de pruebas:** 5 escenarios para validar\n9. **Presupuesto estimado** (componentes reales)\n10. **PresentaciÃ³n:** video o infografÃ­a de 5 minutos\n\nÂ¡Este es TU rover! Â¡Demuestra lo que aprendiste! ğŸ†ğŸ¤–ğŸœï¸", recompensa: "ğŸ… Insignia DORADA: Ingeniero de Rovers Certificado + Diploma del Desierto de los Rovers" },
            { titulo: "ğŸ§© Fase y Entregable", tipo: 'matching_game', instruccion: 'Relaciona cada fase con su entregable', pairs: [{ left: '1ï¸âƒ£ DiseÃ±o', right: 'Planos y especificaciones' }, { left: '2ï¸âƒ£ ConstrucciÃ³n', right: 'Prototipo fÃ­sico o maqueta' }, { left: '3ï¸âƒ£ ProgramaciÃ³n', right: 'CÃ³digo documentado' }, { left: '4ï¸âƒ£ Testing', right: 'Reporte de pruebas' }] },
            { titulo: "âœ…âŒ Proyecto: Â¿V o F?", tipo: 'true_false', statements: [{ text: 'Un buen proyecto de rover necesita un documento de diseÃ±o antes de construir nada.', correct: true, explain: 'El diseÃ±o previo evita errores costosos. Los ingenieros profesionales pasan mÃ¡s tiempo diseÃ±ando que construyendo.' }, { text: 'Solo necesitas saber programar para hacer un rover autÃ³nomo.', correct: false, explain: 'Un rover requiere mecÃ¡nica, electrÃ³nica, programaciÃ³n, gestiÃ³n de energÃ­a y comunicaciones. Â¡Es multidisciplinario!' }, { text: 'SpaceX planea enviar rovers a Marte antes de enviar humanos.', correct: true, explain: 'Los rovers prepararÃ¡n la infraestructura (base, combustible, oxÃ­geno) aÃ±os antes de que lleguen las primeras personas.' }] },
            { titulo: "ğŸ’¡ Mensaje Final", tipo: 'tip', texto: "**Â¡Felicidades, Ingeniero de Rovers!** ğŸ‰ Has completado El Desierto de los Rovers. Ahora sabes sobre navegaciÃ³n autÃ³noma, percepciÃ³n, IA, energÃ­a, enjambres y construcciÃ³n en otros planetas. El futuro de la exploraciÃ³n espacial necesita personas como tÃº. Â¡Sigue construyendo, sigue aprendiendo y algÃºn dÃ­a tus rovers explorarÃ¡n el universo! ğŸœï¸ğŸ¤–ğŸš€âœ¨" },
            { titulo: "âœ… Quiz: Fases de DiseÃ±o", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© fase va ANTES de construir el rover?", opciones: ["Testing", "DiseÃ±o y planificaciÃ³n con especificaciones claras", "ProgramaciÃ³n", "Competencia"], respuestaCorrecta: 1, explicacion: "Siempre se diseÃ±a primero: objetivos, planos, materiales, presupuesto. Construir sin diseÃ±o es desperdiciar tiempo y recursos. ğŸ“‹" },
            { titulo: "âœ… Quiz: DocumentaciÃ³n", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© es importante documentar el diseÃ±o de tu rover?", opciones: ["Para hacer tarea", "Para que otros puedan entender, replicar y mejorar tu trabajo", "Solo por burocracia", "No es importante"], respuestaCorrecta: 1, explicacion: "La documentaciÃ³n permite que tÃº y otros entiendan las decisiones de diseÃ±o. Los rovers de la NASA tienen miles de pÃ¡ginas. ğŸ“„" },
            { titulo: "âœ… Quiz: IteraciÃ³n", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© significa iterar en el desarrollo de un rover?", opciones: ["Hacerlo perfecto a la primera", "Construir, probar, mejorar y repetir el ciclo", "Copiar de internet", "Rendirse si falla"], respuestaCorrecta: 1, explicacion: "La iteraciÃ³n es el corazÃ³n de la ingenierÃ­a: construyes, pruebas, encuentras problemas, mejoras y repites hasta que funcione. ğŸ”„" },
            { titulo: "âœ… Quiz: Prototipo", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© se construyen prototipos antes del producto final?", opciones: ["Para desperdiciar material", "Para probar ideas rÃ¡pido y barato antes de invertir en el diseÃ±o final", "Porque el final siempre falla", "Solo en la NASA"], respuestaCorrecta: 1, explicacion: "Un prototipo de cartÃ³n y servos cuesta $20 y muestra si la idea funciona. El diseÃ±o final cuesta miles. Â¡Prototipa primero! ğŸ› ï¸" },
            { titulo: "âœ… Quiz: Presupuesto Rover", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡l es el componente MÃS caro tÃ­picamente en un rover estudiantil?", opciones: ["Las ruedas", "La computadora de a bordo (Raspberry Pi/Jetson) y sensores LIDAR", "La pintura", "Los cables"], respuestaCorrecta: 1, explicacion: "La computadora principal y los sensores avanzados como LIDAR suelen ser los componentes mÃ¡s costosos del presupuesto. ğŸ’»" },
            { titulo: "âœ… Quiz: IntegraciÃ³n", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es la integraciÃ³n de sistemas en robÃ³tica?", opciones: ["Juntar cables al azar", "Conectar y hacer funcionar juntos mecÃ¡nica, electrÃ³nica y software", "Solo programar", "Solo construir el chasis"], respuestaCorrecta: 1, explicacion: "La integraciÃ³n asegura que los motores respondan al software, los sensores alimenten las decisiones y todo funcione como un sistema. ğŸ§©" },
            { titulo: "âœ… Quiz: Multidisciplinario", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© un rover es un proyecto multidisciplinario?", opciones: ["Porque son muchas piezas", "Porque necesita mecÃ¡nica, electrÃ³nica, programaciÃ³n, energÃ­a y comunicaciones", "Porque es caro", "Porque lo hacen varias personas"], respuestaCorrecta: 1, explicacion: "Un rover combina ingenierÃ­a mecÃ¡nica, electrÃ³nica, software, gestiÃ³n energÃ©tica y telecomunicaciones. Â¡Muchas disciplinas en un robot! ğŸ“" },
            { titulo: "âœ… Quiz: Plan de Testing", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© debe incluir un buen plan de testing para tu rover?", opciones: ["Solo encenderlo y ver si funciona", "Escenarios de prueba, criterios de Ã©xito, pruebas de fallo y resultados documentados", "Solo probarlo una vez", "Nada, si lo construiste bien funciona"], respuestaCorrecta: 1, explicacion: "Un plan de testing define QUÃ‰ probar, CÃ“MO medirlo, cuÃ¡ndo PASA la prueba y quÃ© hacer si FALLA. Documentar todo. ğŸ§ª" },
            { titulo: "âœ… Quiz: Mensaje Final", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡l es la lecciÃ³n mÃ¡s importante del Desierto de los Rovers?", opciones: ["Los rovers son caros", "Con conocimiento, creatividad y perseverancia puedes construir robots que exploren el universo", "Solo los adultos pueden hacer rovers", "Es imposible hacer un rover"], respuestaCorrecta: 1, explicacion: "Â¡Exacto! Desde Lunokhod hasta Perseverance, cada rover empezÃ³ como una idea. Tu rover puede ser el prÃ³ximo. Â¡Sigue construyendo! ğŸ†ğŸš€" },
        ]
    },
];

export const WORLD_5_SECTIONS = [
    { startIdx: 0, title: 'ğŸœï¸ Fundamentos Rover', subtitle: 'NavegaciÃ³n, percepciÃ³n y decisiones autÃ³nomas', color: '#DC2626', colorLight: '#FEE2E2', emoji: 'ğŸ§­' },
    { startIdx: 4, title: 'ğŸ› Hardware del Rover', subtitle: 'Chasis, sensores, energÃ­a y comunicaciÃ³n', color: '#EA580C', colorLight: '#FED7AA', emoji: 'ğŸ“¡' },
    { startIdx: 8, title: 'ğŸ¤– Inteligencia Artificial', subtitle: 'Rutas, ML, seguridad y simulaciÃ³n', color: '#CA8A04', colorLight: '#FEF9C3', emoji: 'ğŸ—ºï¸' },
    { startIdx: 12, title: 'ğŸ† Proyectos Avanzados', subtitle: 'Enjambres, ISRU y tu rover final', color: '#16A34A', colorLight: '#DCFCE7', emoji: 'ğŸ' },
];
