const fs = require('fs');

let lines = fs.readFileSync('src/data/world6Data.js', 'utf8').split('\n');

// Find closing brackets at 8-space indent
const closingLines = [];
for (let i = 0; i < lines.length; i++) {
  if (lines[i].replace(/\r$/, '').match(/^\s{8}\]\s*$/)) {
    closingLines.push(i);
  }
}
console.log('Found', closingLines.length, 'contenidoTeorico closing brackets');

// Map module IDs to their closing bracket line
const moduleClosings = {};
for (const cl of closingLines) {
  for (let j = cl; j >= Math.max(0, cl - 100); j--) {
    const match = lines[j].match(/id:\s*'(w6_[^']+)'/);
    if (match) {
      moduleClosings[match[1]] = cl;
      break;
    }
  }
}
console.log('Mapped', Object.keys(moduleClosings).length, 'modules');

const questions = {
  'w6_mod1_intro_aerobiosfera': [
    `            { titulo: "âœ… Quiz: Concepto Aero-Biosfera", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© combina la Aero-Biosfera?", opciones: ["Solo drones", "Drones, sensores y agricultura sostenible para proteger ecosistemas", "Solo plantas", "Solo energÃ­a solar"], respuestaCorrecta: 1, explicacion: "La Aero-Biosfera une tecnologÃ­a aÃ©rea (drones), sensores ambientales y agricultura inteligente para un futuro verde. ğŸŒ" },`,
    `            { titulo: "âœ… Quiz: Agricultura de PrecisiÃ³n", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es la agricultura de precisiÃ³n?", opciones: ["Plantar en lÃ­nea recta", "Usar tecnologÃ­a para aplicar recursos exactos donde y cuando se necesitan", "Solo usar tractores", "Regar todo por igual"], respuestaCorrecta: 1, explicacion: "La agricultura de precisiÃ³n optimiza agua, fertilizantes y pesticidas usando GPS, drones y sensores. Menos desperdicio, mÃ¡s producciÃ³n. ğŸ¯" },`,
    `            { titulo: "âœ… Quiz: Impacto Ambiental", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo ayudan los drones agrÃ­colas al medio ambiente?", opciones: ["Contaminan mÃ¡s", "Reducen el uso de quÃ­micos hasta un 90% al aplicarlos solo donde se necesitan", "No ayudan", "Solo toman fotos"], respuestaCorrecta: 1, explicacion: "Los drones aplican pesticidas con precisiÃ³n milimÃ©trica solo donde hay plagas. Menos quÃ­micos = menos contaminaciÃ³n del suelo y agua. ğŸŒ±" },`,
    `            { titulo: "âœ… Quiz: RevoluciÃ³n Verde Digital", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© tecnologÃ­as incluye la revoluciÃ³n verde digital?", opciones: ["Solo Internet", "IoT, drones, IA, sensores y big data aplicados a la agricultura", "Solo redes sociales", "Solo robots grandes"], respuestaCorrecta: 1, explicacion: "La AgTech combina IoT (sensores conectados), drones, inteligencia artificial y big data para cultivos mÃ¡s eficientes y sostenibles. ğŸ“Š" },`,
    `            { titulo: "âœ… Quiz: ODS y RobÃ³tica", tipo: 'mini_quiz', pregunta: "Â¿Con quÃ© Objetivo de Desarrollo Sostenible (ODS) se relaciona la Aero-Biosfera?", opciones: ["ODS 1: Sin pobreza", "ODS 2: Hambre Cero y ODS 15: Vida de ecosistemas terrestres", "ODS 4: EducaciÃ³n", "ODS 10: Desigualdades"], respuestaCorrecta: 1, explicacion: "La Aero-Biosfera contribuye a ODS 2 (acabar con el hambre) y ODS 15 (proteger ecosistemas terrestres). Â¡TecnologÃ­a con propÃ³sito! ğŸ¯" },`,
    `            { titulo: "âœ… Quiz: Drones vs SatÃ©lites", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡l es la ventaja de un dron agrÃ­cola sobre un satÃ©lite para monitoreo de cultivos?", opciones: ["Es mÃ¡s barato de fabricar", "Mayor resoluciÃ³n, puede volar bajo nubes y opera bajo demanda", "Tiene mÃ¡s alcance", "No tiene ventajas"], respuestaCorrecta: 1, explicacion: "Los drones vuelan a 50-100m, dando imÃ¡genes de resoluciÃ³n centimÃ©trica vs metros del satÃ©lite. AdemÃ¡s, no les afectan las nubes. ğŸ“¸" },`,
    `            { titulo: "âœ… Quiz: Sensores Multiespectral", tipo: 'mini_quiz', pregunta: "Â¿Para quÃ© se usan cÃ¡maras multiespectrales en drones agrÃ­colas?", opciones: ["Para hacer selfies", "Para detectar estrÃ©s hÃ­drico y enfermedades de plantas invisibles al ojo humano", "Para grabar videos bonitos", "Para medir velocidad del viento"], respuestaCorrecta: 1, explicacion: "Las cÃ¡maras multiespectrales ven en infrarrojo y otras bandas. Las plantas estresadas reflejan diferente y se detecta antes de que sea visible. ğŸŒ¿" },`,
    `            { titulo: "âœ… Quiz: Sostenibilidad", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© significa agricultura sostenible?", opciones: ["Producir lo mÃ¡s barato posible", "Producir alimentos sin agotar recursos naturales para futuras generaciones", "Solo usar mÃ¡quinas", "Eliminar toda tecnologÃ­a"], respuestaCorrecta: 1, explicacion: "Sostenible = satisfacer necesidades actuales sin comprometer las de futuras generaciones. Equilibrio entre producciÃ³n y planeta. â™»ï¸" },`,
    `            { titulo: "âœ… Quiz: PoblaciÃ³n Mundial", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© es urgente mejorar la agricultura con tecnologÃ­a?", opciones: ["Por moda", "Porque para 2050 habrÃ¡ 10 mil millones de personas y se necesita 60% mÃ¡s comida", "No es urgente", "Solo por negocio"], respuestaCorrecta: 1, explicacion: "La ONU estima que necesitaremos 60% mÃ¡s alimentos para 2050. Sin tecnologÃ­a agrÃ­cola no podremos alimentar al mundo. Â¡Es vital! ğŸŒ¾" },`,
  ],
  'w6_mod2_fundamentos_drones': [
    `            { titulo: "âœ… Quiz: Tipos de Drones", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© tipo de dron es mÃ¡s estable para fotografÃ­a aÃ©rea?", opciones: ["Ala fija", "Multirotor (cuadricÃ³ptero) por su capacidad de hover", "HelicÃ³ptero", "Globo aerostÃ¡tico"], respuestaCorrecta: 1, explicacion: "Los multirotores pueden quedarse quietos en el aire (hover), ideal para fotos y mapeo. Los de ala fija son mejores para grandes Ã¡reas. ğŸš" },`,
    `            { titulo: "âœ… Quiz: SustentaciÃ³n", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo genera sustentaciÃ³n un dron multirotor?", opciones: ["Con helio", "Las hÃ©lices empujan aire hacia abajo, creando una fuerza hacia arriba", "Con alas fijas", "Con cohetes"], respuestaCorrecta: 1, explicacion: "Tercera ley de Newton: las hÃ©lices empujan aire abajo â†’ el aire empuja el dron arriba. MÃ¡s RPM = mÃ¡s sustentaciÃ³n. â¬†ï¸" },`,
    `            { titulo: "âœ… Quiz: CuadricÃ³ptero", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo gira un cuadricÃ³ptero hacia la derecha?", opciones: ["Todas las hÃ©lices giran mÃ¡s rÃ¡pido", "Los motores izquierdos giran mÃ¡s rÃ¡pido que los derechos", "Se inclina con el viento", "Usa un timÃ³n"], respuestaCorrecta: 1, explicacion: "Al aumentar velocidad de motores izquierdos, el dron se inclina a la derecha y se mueve en esa direcciÃ³n. Â¡Diferencial de empuje! ğŸ”„" },`,
    `            { titulo: "âœ… Quiz: ESC", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© funciÃ³n tiene el ESC (Electronic Speed Controller) en un dron?", opciones: ["Medir altura", "Controlar la velocidad de giro de cada motor sin escobillas", "Transmitir video", "Cargar la baterÃ­a"], respuestaCorrecta: 1, explicacion: "El ESC convierte seÃ±ales del controlador de vuelo en pulsos trifÃ¡sicos para cada motor brushless. Â¡Es el driver de los motores! âš¡" },`,
    `            { titulo: "âœ… Quiz: Controlador de Vuelo", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© hace el controlador de vuelo (flight controller)?", opciones: ["Solo graba video", "Lee IMU y GPS, calcula ajustes de motores para mantener estabilidad", "Solo enciende LEDs", "Controla la cÃ¡mara"], respuestaCorrecta: 1, explicacion: "El FC (como Pixhawk o F4) lee acelerÃ³metro, giroscopio, barÃ³metro y GPS. Ajusta miles de veces por segundo cada motor. ğŸ§ " },`,
    `            { titulo: "âœ… Quiz: BaterÃ­a LiPo Dron", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© significa una baterÃ­a '4S 5000mAh' para un dron?", opciones: ["4 segundos de vuelo", "4 celdas en serie (14.8V) con capacidad de 5000mAh", "4 baterÃ­as separadas", "5000 metros de alcance"], respuestaCorrecta: 1, explicacion: "4S = 4 celdas Ã— 3.7V = 14.8V nominal. 5000mAh = capacidad. MÃ¡s S = mÃ¡s voltaje. MÃ¡s mAh = mÃ¡s tiempo de vuelo. ğŸ”‹" },`,
    `            { titulo: "âœ… Quiz: PID en Drones", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© es crucial el tuneo PID en un dron?", opciones: ["Para que vuele mÃ¡s alto", "Para que responda suavemente sin oscilar ni vibrar", "Para aumentar la velocidad", "No es importante"], respuestaCorrecta: 1, explicacion: "PID mal configurado = dron que vibra, oscila o no responde. Bien tuneado = vuelo suave y estable. Â¡Es el alma del vuelo! ğŸ¯" },`,
    `            { titulo: "âœ… Quiz: Payload", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es el payload de un dron?", opciones: ["Su peso total", "La carga Ãºtil que puede transportar (cÃ¡maras, sensores, lÃ­quidos)", "La velocidad mÃ¡xima", "El alcance del control"], respuestaCorrecta: 1, explicacion: "Payload = carga Ãºtil. Un dron agrÃ­cola puede cargar 10-20L de pesticida. A mÃ¡s payload, mÃ¡s potentes deben ser los motores. âš–ï¸" },`,
    `            { titulo: "âœ… Quiz: Regulaciones", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© existen regulaciones para volar drones?", opciones: ["Para vender mÃ¡s licencias", "Para seguridad aÃ©rea: evitar colisiones con aviones y proteger personas", "No existen regulaciones", "Solo por impuestos"], respuestaCorrecta: 1, explicacion: "Los drones comparten espacio aÃ©reo con aviones. Regulaciones como no volar sobre 120m o cerca de aeropuertos previenen accidentes graves. âœˆï¸" },`,
  ],
  'w6_mod3_sensores_ambientales': [
    `            { titulo: "âœ… Quiz: Sensor de Humedad del Suelo", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo funciona un sensor capacitivo de humedad del suelo?", opciones: ["Mide la temperatura", "Mide cambios de capacitancia elÃ©ctrica causados por el agua en el suelo", "Mide el pH", "Mide la luz"], respuestaCorrecta: 1, explicacion: "El agua cambia la constante dielÃ©ctrica del suelo. El sensor capacitivo detecta este cambio sin corroerse como los resistivos. ğŸ’§" },`,
    `            { titulo: "âœ… Quiz: EstaciÃ³n MeteorolÃ³gica", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© datos mide una estaciÃ³n meteorolÃ³gica agrÃ­cola completa?", opciones: ["Solo temperatura", "Temperatura, humedad, presiÃ³n, viento, lluvia y radiaciÃ³n solar", "Solo si llueve o no", "Solo la hora"], respuestaCorrecta: 1, explicacion: "Una estaciÃ³n completa mide 6+ variables: temp, humedad, presiÃ³n baromÃ©trica, velocidad/direcciÃ³n del viento, lluvia y radiaciÃ³n UV. ğŸŒ¤ï¸" },`,
    `            { titulo: "âœ… Quiz: NDVI", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© mide el Ã­ndice NDVI en agricultura?", opciones: ["La temperatura del suelo", "La salud y vigor de la vegetaciÃ³n usando luz roja e infrarroja", "La humedad del aire", "La velocidad del viento"], respuestaCorrecta: 1, explicacion: "NDVI = (NIR - Rojo) / (NIR + Rojo). Plantas sanas reflejan mucho infrarrojo cercano. Valores altos = vegetaciÃ³n vigorosa. ğŸŒ¿" },`,
    `            { titulo: "âœ… Quiz: Sensor de pH", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© es importante medir el pH del suelo?", opciones: ["Por curiosidad", "Porque cada cultivo necesita un rango especÃ­fico de pH para absorber nutrientes", "Para saber el color del suelo", "No es importante"], respuestaCorrecta: 1, explicacion: "pH Ã¡cido o alcalino bloquean nutrientes. Tomates prefieren pH 6.0-6.8. ArÃ¡ndanos pH 4.5-5.5. Â¡Sin pH correcto, no hay cosecha! ğŸ…" },`,
    `            { titulo: "âœ… Quiz: Sensor de CO2", tipo: 'mini_quiz', pregunta: "Â¿Para quÃ© se mide CO2 en un invernadero?", opciones: ["Para purificar el aire", "Para optimizar la fotosÃ­ntesis: las plantas necesitan CO2 para crecer", "Para evitar incendios", "Para medir olores"], respuestaCorrecta: 1, explicacion: "Las plantas usan CO2 para fotosÃ­ntesis. En invernaderos, inyectar CO2 extra (de 400 a 1000 ppm) puede aumentar el crecimiento 30%. ğŸŒ±" },`,
    `            { titulo: "âœ… Quiz: AnemÃ³metro", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© mide un anemÃ³metro y por quÃ© importa en agricultura?", opciones: ["La presiÃ³n del agua", "La velocidad del viento, que afecta evaporaciÃ³n y aplicaciÃ³n de pesticidas", "La temperatura del suelo", "La dureza del terreno"], respuestaCorrecta: 1, explicacion: "El viento acelera la evaporaciÃ³n y dispersa pesticidas. Con viento >15 km/h no se recomienda fumigar. Â¡Los datos del viento son crÃ­ticos! ğŸ’¨" },`,
    `            { titulo: "âœ… Quiz: PluviÃ³metro", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo funciona un pluviÃ³metro de balancÃ­n (tipping bucket)?", opciones: ["Pesa las nubes", "Un pequeÃ±o balde bascula al llenarse, contando los basculamientos como pulsos", "Mide la presiÃ³n de lluvia", "Usa ultrasonido"], respuestaCorrecta: 1, explicacion: "El agua llena un mini-balde que bascula al llenarse (ej: cada 0.2mm). Cada basculamiento genera un pulso digital. Arduino cuenta los pulsos. ğŸŒ§ï¸" },`,
    `            { titulo: "âœ… Quiz: Sensor NPK", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© miden los sensores NPK del suelo?", opciones: ["Temperatura del suelo", "NitrÃ³geno, FÃ³sforo y Potasio: los 3 nutrientes principales de las plantas", "La humedad del aire", "El diÃ³xido de carbono"], respuestaCorrecta: 1, explicacion: "NPK = los 3 macronutrientes esenciales. N para hojas verdes, P para raÃ­ces/flores, K para frutos y resistencia. Â¡El ABC de la fertilizaciÃ³n! ğŸ§ª" },`,
    `            { titulo: "âœ… Quiz: Datalogger", tipo: 'mini_quiz', pregunta: "Â¿Para quÃ© se usa un datalogger en agricultura?", opciones: ["Para jugar", "Para registrar datos de sensores continuamente y analizarlos despuÃ©s", "Para encender luces", "Para controlar motores"], respuestaCorrecta: 1, explicacion: "Un datalogger (con SD card + RTC) guarda lecturas cada 5-15 min. Permite ver tendencias de temp, humedad, etc. durante semanas. ğŸ“Š" },`,
  ],
  'w6_mod4_riego_precision': [
    `            { titulo: "âœ… Quiz: Riego por Goteo", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡l es la ventaja del riego por goteo sobre el riego por aspersiÃ³n?", opciones: ["Es mÃ¡s barato siempre", "Ahorra hasta 70% de agua al aplicarla directamente en la raÃ­z", "Cubre mÃ¡s Ã¡rea", "Es mÃ¡s fÃ¡cil de instalar"], respuestaCorrecta: 1, explicacion: "El goteo entrega agua gota a gota directamente a la zona de raÃ­ces. Menos evaporaciÃ³n = hasta 70% menos agua vs aspersiÃ³n. ğŸ’§" },`,
    `            { titulo: "âœ… Quiz: EvapotranspiraciÃ³n", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es la evapotranspiraciÃ³n (ET) y por quÃ© importa para riego?", opciones: ["La temperatura del agua", "La cantidad de agua que pierde un cultivo por evaporaciÃ³n y transpiraciÃ³n", "La velocidad de riego", "La presiÃ³n del agua"], respuestaCorrecta: 1, explicacion: "ET = agua que la planta transpira + la que se evapora del suelo. Si ET > riego, la planta se estresa. Los sensores miden ET para regar exacto. ğŸŒ¡ï¸" },`,
    `            { titulo: "âœ… Quiz: ElectrovÃ¡lvula", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo controla Arduino una electrovÃ¡lvula de riego?", opciones: ["Directamente con un pin digital", "Mediante un relÃ© o MOSFET que activa la electrovÃ¡lvula de 12V/24V", "Con WiFi", "Con Bluetooth"], respuestaCorrecta: 1, explicacion: "Las electrovÃ¡lvulas necesitan 12-24V y alta corriente. Arduino usa un relÃ© como interruptor. digitalWrite(RELE, HIGH) abre el agua. ğŸ”Œ" },`,
    `            { titulo: "âœ… Quiz: Sensor de Flujo", tipo: 'mini_quiz', pregunta: "Â¿Para quÃ© se usa un sensor de flujo de agua en un sistema de riego?", opciones: ["Para medir temperatura", "Para medir exactamente cuÃ¡ntos litros de agua se aplican", "Para medir presiÃ³n", "Para filtrar el agua"], respuestaCorrecta: 1, explicacion: "El sensor de flujo cuenta pulsos proporcionales al caudal. Permite saber exactamente cuÃ¡ntos litros usaste y detectar fugas. ğŸ“" },`,
    `            { titulo: "âœ… Quiz: ProgramaciÃ³n de Riego", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© datos necesita un sistema de riego inteligente para decidir cuÃ¡ndo regar?", opciones: ["Solo la hora", "Humedad del suelo, temperatura, lluvia reciente y necesidades del cultivo", "Solo el dÃ­a de la semana", "Solo la presiÃ³n del agua"], respuestaCorrecta: 1, explicacion: "Un sistema inteligente NO riega por horario fijo. Riega cuando la humedad del suelo baja del umbral del cultivo. Â¡Cada planta es diferente! ğŸŒ¿" },`,
    `            { titulo: "âœ… Quiz: Zonas de Riego", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© se divide un campo en zonas de riego independientes?", opciones: ["Por estÃ©tica", "Porque diferentes zonas tienen distintas necesidades segÃºn suelo, pendiente y cultivo", "Para gastar mÃ¡s agua", "No se divide"], respuestaCorrecta: 1, explicacion: "Cada zona puede tener diferente tipo de suelo, exposiciÃ³n solar y cultivo. Regar igual en todas partes es ineficiente. Â¡PersonalizaciÃ³n! ğŸ—ºï¸" },`,
    `            { titulo: "âœ… Quiz: Mulching", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo complementa el mulching (acolchado) al riego de precisiÃ³n?", opciones: ["Aumenta la evaporaciÃ³n", "Reduce la evaporaciÃ³n del suelo hasta un 70%, ahorrando agua", "Elimina la necesidad de riego", "Solo mejora la estÃ©tica"], respuestaCorrecta: 1, explicacion: "El acolchado (paja, plÃ¡stico, corteza) cubre el suelo y reduce drÃ¡sticamente la evaporaciÃ³n. Combinado con goteo = mÃ¡ximo ahorro de agua. ğŸŒ¾" },`,
    `            { titulo: "âœ… Quiz: TensiÃ³metro", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© mide un tensiÃ³metro de suelo?", opciones: ["La temperatura del suelo", "La tensiÃ³n hÃ­drica: cuÃ¡nto esfuerzo necesita la planta para absorber agua", "La acidez del suelo", "La velocidad del viento"], respuestaCorrecta: 1, explicacion: "El tensiÃ³metro mide la succiÃ³n del suelo en centibares. Valores altos = suelo seco, la planta sufre. Regar cuando supera el umbral del cultivo. ğŸ“" },`,
    `            { titulo: "âœ… Quiz: FertirrigaciÃ³n", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es la fertirrigaciÃ³n?", opciones: ["Regar con agua pura", "Aplicar fertilizantes disueltos en el agua de riego directamente a las raÃ­ces", "Fertilizar sin agua", "Usar solo abono orgÃ¡nico"], respuestaCorrecta: 1, explicacion: "La fertirrigaciÃ³n combina riego + fertilizaciÃ³n. Los nutrientes llegan disueltos directamente a la raÃ­z. MÃ¡xima eficiencia y mÃ­nimo desperdicio. ğŸ’§ğŸ§ª" },`,
  ],
  'w6_mod5_vuelo_autonomo': [
    `            { titulo: "âœ… Quiz: GPS Diferencial", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es RTK-GPS y por quÃ© se usa en drones agrÃ­colas?", opciones: ["Un tipo de baterÃ­a", "GPS de precisiÃ³n centimÃ©trica (2cm) para vuelo y mapeo exacto", "Un protocolo WiFi", "Un tipo de motor"], respuestaCorrecta: 1, explicacion: "RTK (Real Time Kinematic) mejora el GPS de Â±3m a Â±2cm de precisiÃ³n. Esencial para mapeo preciso y fumigaciÃ³n sin solapamiento. ğŸ“" },`,
    `            { titulo: "âœ… Quiz: Waypoints", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© son los waypoints en un plan de vuelo autÃ³nomo?", opciones: ["Marcas en el mapa", "Puntos GPS predefinidos que el dron sigue automÃ¡ticamente en secuencia", "SeÃ±ales de radio", "ObstÃ¡culos a evitar"], respuestaCorrecta: 1, explicacion: "Los waypoints son coordenadas GPS (lat, lon, alt) que definen la ruta. El dron vuela de uno a otro automÃ¡ticamente. Â¡Una ruta programada! ğŸ—ºï¸" },`,
    `            { titulo: "âœ… Quiz: Failsafe", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© hace el modo failsafe de un dron?", opciones: ["Aumenta la velocidad", "Si pierde seÃ±al o baterÃ­a baja, regresa al punto de despegue automÃ¡ticamente", "Se apaga inmediatamente", "Vuela mÃ¡s alto"], respuestaCorrecta: 1, explicacion: "RTH (Return To Home) se activa si se pierde radiocontrol, baterÃ­a <20%, o GPS falla. El dron regresa solo. Â¡Seguridad primero! ğŸ " },`,
    `            { titulo: "âœ… Quiz: IMU en Drones", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© parÃ¡metros mide la IMU de un dron?", opciones: ["Solo velocidad", "AceleraciÃ³n (3 ejes), giro (3 ejes) y campo magnÃ©tico para orientaciÃ³n", "Solo temperatura", "Solo altitud"], respuestaCorrecta: 1, explicacion: "IMU = acelerÃ³metro + giroscopio + magnetÃ³metro. Mide rotaciÃ³n, inclinaciÃ³n y orientaciÃ³n. El dron sabe su actitud 1000+ veces/segundo. ğŸ“" },`,
    `            { titulo: "âœ… Quiz: Geofence", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es un geofence en drones?", opciones: ["Un tipo de antena", "Un lÃ­mite geogrÃ¡fico virtual que restringe el vuelo a una zona permitida", "Un sensor de proximidad", "Un tipo de baterÃ­a"], respuestaCorrecta: 1, explicacion: "El geofence crea un muro invisible. Si el dron intenta salir de la zona definida, frena automÃ¡ticamente. Evita invasiÃ³n de espacio aÃ©reo restringido. ğŸš§" },`,
    `            { titulo: "âœ… Quiz: AltÃ­metro BaromÃ©trico", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo mide la altitud un dron usando un barÃ³metro?", opciones: ["Con GPS solamente", "Calcula altitud a partir de cambios de presiÃ³n atmosfÃ©rica (menos presiÃ³n = mÃ¡s alto)", "Con sensores de luz", "Con cÃ¡mara"], respuestaCorrecta: 1, explicacion: "La presiÃ³n baja ~1 hPa cada 8.5m de ascenso. El barÃ³metro mide esto con precisiÃ³n de ~50cm. MÃ¡s preciso que GPS para altitud. ğŸ“Š" },`,
    `            { titulo: "âœ… Quiz: Vuelo en PatrÃ³n", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© patrÃ³n de vuelo usa un dron para fumigar un campo rectangular?", opciones: ["Circular", "Pasadas paralelas (lawnmower pattern) para cobertura total sin huecos", "Zigzag aleatorio", "Solo ida y vuelta"], respuestaCorrecta: 1, explicacion: "El patrÃ³n de pasadas paralelas (como cortar cÃ©sped) asegura cobertura del 100% del campo. El espaciado entre pasadas depende del ancho de fumigaciÃ³n. ğŸŒ¾" },`,
    `            { titulo: "âœ… Quiz: LIDAR en Drones", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© ventaja tiene el LIDAR sobre una cÃ¡mara en un dron agrÃ­cola?", opciones: ["Es mÃ¡s barato", "Puede medir elevaciÃ³n del terreno y altura de cultivos con precisiÃ³n milimÃ©trica", "Toma mejores fotos", "Usa menos baterÃ­a"], respuestaCorrecta: 1, explicacion: "LIDAR mide distancias con lÃ¡ser creando mapas 3D precisos. Puede medir la altura de cada planta individualmente. Â¡Rayos X para el campo! ğŸ”¦" },`,
    `            { titulo: "âœ… Quiz: Mission Planner", tipo: 'mini_quiz', pregunta: "Â¿Para quÃ© se usa software como Mission Planner o QGroundControl?", opciones: ["Para editar fotos", "Para planificar rutas de vuelo, configurar drones y monitorear telemetrÃ­a en tiempo real", "Para juegos", "Para editar cÃ³digo"], respuestaCorrecta: 1, explicacion: "Mission Planner permite dibujar rutas en mapa, configurar failsafe, ver telemetrÃ­a en vivo y analizar logs de vuelo. Â¡Centro de control! ğŸ–¥ï¸" },`,
  ],
  'w6_mod6_mapeo_aereo': [
    `            { titulo: "âœ… Quiz: FotogrametrÃ­a", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es la fotogrametrÃ­a aÃ©rea?", opciones: ["FotografÃ­a con flash", "Crear modelos 3D y mapas a partir de mÃºltiples fotos aÃ©reas superpuestas", "FotografÃ­a nocturna", "Un filtro de cÃ¡mara"], respuestaCorrecta: 1, explicacion: "La fotogrametrÃ­a une cientos de fotos superpuestas (60-80% overlap) para crear mapas 2D y modelos 3D precisos del terreno. Â¡Magia matemÃ¡tica! ğŸ—ºï¸" },`,
    `            { titulo: "âœ… Quiz: GSD", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es el GSD (Ground Sample Distance)?", opciones: ["La distancia del GPS", "El tamaÃ±o real en cm que representa cada pixel de la imagen aÃ©rea", "La velocidad del dron", "La altura de vuelo"], respuestaCorrecta: 1, explicacion: "GSD de 2 cm/pixel = cada pixel cubre 2Ã—2 cm del suelo. MÃ¡s bajo el dron = menor GSD = mayor detalle. Para agricultura: 3-5 cm/px es ideal. ğŸ“" },`,
    `            { titulo: "âœ… Quiz: Ortomosaico", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es un ortomosaico?", opciones: ["Un tipo de cultivo", "Un mapa aÃ©reo completo corregido geomÃ©tricamente donde se pueden medir distancias reales", "Una foto normal", "Un diseÃ±o artÃ­stico"], respuestaCorrecta: 1, explicacion: "El ortomosaico corrige la perspectiva de cada foto para crear un mapa donde 1cm en pantalla = 1cm real en el campo. Mediciones exactas. ğŸ“" },`,
    `            { titulo: "âœ… Quiz: Modelo Digital de ElevaciÃ³n", tipo: 'mini_quiz', pregunta: "Â¿Para quÃ© sirve un DEM (Digital Elevation Model) en agricultura?", opciones: ["Para juegos", "Para identificar zonas bajas donde se acumula agua o altas con erosiÃ³n", "Para decoraciÃ³n", "No tiene uso agrÃ­cola"], respuestaCorrecta: 1, explicacion: "El DEM muestra la topografÃ­a exacta. Las zonas bajas acumulan agua (posible encharcamiento), las altas tienen erosiÃ³n. Â¡Planifica con datos! â›°ï¸" },`,
    `            { titulo: "âœ… Quiz: Overlap en FotografÃ­a AÃ©rea", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© las fotos aÃ©reas necesitan al menos 70% de superposiciÃ³n (overlap)?", opciones: ["Para usar mÃ¡s memoria", "Para que el software pueda identificar puntos comunes y crear el mapa 3D", "Por estÃ©tica", "No necesitan overlap"], respuestaCorrecta: 1, explicacion: "El software necesita ver cada punto del suelo en al menos 3 fotos distintas para triangular y crear el modelo 3D preciso. Â¡GeometrÃ­a del aire! ğŸ“·" },`,
    `            { titulo: "âœ… Quiz: Ãndice de VegetaciÃ³n", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© colores muestra un mapa NDVI tÃ­pico?", opciones: ["Solo blanco y negro", "Rojo/amarillo = vegetaciÃ³n estresada, verde = vegetaciÃ³n sana", "Solo azul", "Colores aleatorios"], respuestaCorrecta: 1, explicacion: "En mapas NDVI: verde oscuro = planta sana y vigorosa, amarillo = estrÃ©s moderado, rojo = planta muy enferma o suelo sin vegetaciÃ³n. ğŸŸ¢ğŸŸ¡ğŸ”´" },`,
    `            { titulo: "âœ… Quiz: Nube de Puntos", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es una nube de puntos 3D generada por fotogrametrÃ­a?", opciones: ["Datos meteorolÃ³gicos", "Millones de puntos con coordenadas XYZ que representan la superficie del terreno", "Puntos en un diagrama", "Un tipo de sensor"], respuestaCorrecta: 1, explicacion: "Cada punto tiene X,Y,Z + color. Millones de puntos crean un modelo 3D detallado. Se puede medir altura de Ã¡rboles, volumen de tierra, etc. ğŸŒ" },`,
    `            { titulo: "âœ… Quiz: CÃ¡mara RGB vs Multiespectral", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡ndo usar cÃ¡mara multiespectral en vez de RGB en un dron?", opciones: ["Siempre", "Cuando necesitas detectar estrÃ©s hÃ­drico o enfermedades antes de que sean visibles", "Nunca", "Solo de noche"], respuestaCorrecta: 1, explicacion: "RGB ve lo que ven nuestros ojos. La multiespectral ve infrarrojo que revela estrÃ©s invisible al ojo humano. Detecta problemas 2 semanas antes. ğŸ“¸" },`,
    `            { titulo: "âœ… Quiz: GeoreferenciaciÃ³n", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© significa que un mapa estÃ© georeferenciado?", opciones: ["Que tiene colores bonitos", "Que cada pixel tiene coordenadas GPS reales (latitud, longitud)", "Que fue tomado desde el espacio", "Que estÃ¡ en blanco y negro"], respuestaCorrecta: 1, explicacion: "Georeferenciado = cada punto del mapa tiene coordenadas GPS. Puedes ubicar exactamente dÃ³nde estÃ¡ cada problema del cultivo. ğŸ“" },`,
  ],
  'w6_mod7_fumigacion_inteligente': [
    `            { titulo: "âœ… Quiz: FumigaciÃ³n por Zonas", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es la fumigaciÃ³n variable o por zonas?", opciones: ["Fumigar todo igual", "Aplicar diferentes dosis segÃºn las necesidades de cada zona del campo", "Solo fumigar de noche", "Solo fumigar por la maÃ±ana"], respuestaCorrecta: 1, explicacion: "Con mapas de NDVI, el dron aplica mÃ¡s pesticida donde hay mÃ¡s plaga y nada donde no se necesita. Â¡Ahorro y menor impacto ambiental! ğŸ¯" },`,
    `            { titulo: "âœ… Quiz: Boquillas de FumigaciÃ³n", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© son importantes las boquillas en un dron fumigador?", opciones: ["Solo por estÃ©tica", "Determinan el tamaÃ±o de gota: gotas finas cubren mÃ¡s pero el viento las arrastra", "No son importantes", "Solo por el color"], respuestaCorrecta: 1, explicacion: "Gotas finas (<150Î¼m) cubren mÃ¡s pero derivan con el viento. Gotas gruesas (>300Î¼m) son mÃ¡s pesadas pero cubren menos. Â¡Balance perfecto! ğŸ’¨" },`,
    `            { titulo: "âœ… Quiz: Deriva de Pesticidas", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es la deriva de pesticidas y cÃ³mo la minimizan los drones?", opciones: ["El precio del pesticida", "El arrastre de gotas por el viento; los drones vuelan bajo (2-3m) para reducirla", "La cantidad usada", "El color del pesticida"], respuestaCorrecta: 1, explicacion: "La deriva = gotas que el viento lleva fuera del objetivo. Los drones vuelan a 2-3m del cultivo vs tractores a mayor altura. Menos deriva = menos contaminaciÃ³n. â¬‡ï¸" },`,
    `            { titulo: "âœ… Quiz: Eficiencia de Drones Fumigadores", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡ntas hectÃ¡reas puede fumigar un dron agrÃ­cola por hora?", opciones: ["0.1 hectÃ¡reas", "8-15 hectÃ¡reas por hora (con tanque de 10-20L)", "100 hectÃ¡reas", "Solo 1 metro cuadrado"], respuestaCorrecta: 1, explicacion: "Los drones agro modernos (DJI Agras) cubren 8-15 ha/hora. Con recarga rÃ¡pida de baterÃ­a y tanque, un equipo cubre 50+ ha/dÃ­a. ğŸš€" },`,
    `            { titulo: "âœ… Quiz: IPM", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es el Manejo Integrado de Plagas (IPM)?", opciones: ["Fumigar todo el campo cada semana", "Combinar mÃ©todos biolÃ³gicos, culturales y quÃ­micos, usando pesticidas solo como Ãºltimo recurso", "Eliminar todos los insectos", "Usar solo insecticidas"], respuestaCorrecta: 1, explicacion: "IPM = prevenciÃ³n + monitoreo + control biolÃ³gico + quÃ­mico solo si es necesario. Los drones con cÃ¡maras ayudan en el monitoreo. ğŸ›" },`,
    `            { titulo: "âœ… Quiz: CalibraciÃ³n del Sistema", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© es crucial calibrar el sistema de fumigaciÃ³n del dron?", opciones: ["Para que vuele mÃ¡s rÃ¡pido", "Para asegurar que la dosis por hectÃ¡rea sea exacta y uniforme", "No es necesario", "Para ahorrar baterÃ­a"], respuestaCorrecta: 1, explicacion: "Sin calibraciÃ³n, puedes aplicar mÃ¡s o menos de lo necesario. Demasiado = contaminaciÃ³n y desperdicio. Poco = la plaga no se controla. ğŸ“" },`,
    `            { titulo: "âœ… Quiz: Momento de AplicaciÃ³n", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡l es el mejor momento del dÃ­a para fumigar con dron?", opciones: ["MediodÃ­a", "Temprano en la maÃ±ana o al atardecer: menos viento y evaporaciÃ³n", "Medianoche", "No importa el momento"], respuestaCorrecta: 1, explicacion: "MaÃ±ana temprano (6-9am) o atardecer: menos viento, menos evaporaciÃ³n, mejor adherencia. Evitar calor y viento fuerte del mediodÃ­a. â˜€ï¸" },`,
    `            { titulo: "âœ… Quiz: Mapa de PrescripciÃ³n", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es un mapa de prescripciÃ³n en fumigaciÃ³n de precisiÃ³n?", opciones: ["Un mapa de carreteras", "Un mapa que indica quÃ© dosis aplicar en cada zona del campo", "Un mapa meteorolÃ³gico", "Un mapa turÃ­stico"], respuestaCorrecta: 1, explicacion: "El mapa de prescripciÃ³n se genera a partir de datos NDVI/sensores. Cada zona tiene su dosis recomendada. Â¡Receta personalizada para cada metro! ğŸ—ºï¸" },`,
    `            { titulo: "âœ… Quiz: Control BiolÃ³gico AÃ©reo", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo pueden los drones dispersar agentes de control biolÃ³gico?", opciones: ["No pueden", "Lanzando cÃ¡psulas con insectos benÃ©ficos o asperjando bacterias Bt", "Solo con bombas", "Solo con humo"], respuestaCorrecta: 1, explicacion: "Los drones lanzan tricogramas (avispitas que atacan plagas) o asperjan Bacillus thuringiensis (Bt). Â¡Control natural desde el aire! ğŸ" },`,
  ],
  'w6_mod8_polinizacion_robotica': [
    `            { titulo: "âœ… Quiz: Crisis de Polinizadores", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© estÃ¡n desapareciendo las abejas en muchos paÃ­ses?", opciones: ["Se van de vacaciones", "Pesticidas, parÃ¡sitos, pÃ©rdida de hÃ¡bitat y cambio climÃ¡tico", "Se esconden mejor", "No estÃ¡n desapareciendo"], respuestaCorrecta: 1, explicacion: "El sÃ­ndrome de colapso de colonias (CCD) reduce poblaciones un 30-40% anual en algunos paÃ­ses. Sin abejas, no hay frutas ni verduras. ğŸâš ï¸" },`,
    `            { titulo: "âœ… Quiz: Importancia de la PolinizaciÃ³n", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© porcentaje de cultivos depende de la polinizaciÃ³n animal?", opciones: ["10%", "Aproximadamente 75% de los cultivos alimentarios del mundo", "100%", "0%"], respuestaCorrecta: 1, explicacion: "El 75% de los cultivos dependen de polinizadores. Sin ellos: no mÃ¡s manzanas, chocolate, cafÃ©, almendras, fresas... Â¡Bye bye a tu comida favorita! ğŸ" },`,
    `            { titulo: "âœ… Quiz: RoboBee", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es el proyecto RoboBee de Harvard?", opciones: ["Un videojuego", "Un micro-robot del tamaÃ±o de una abeja que puede volar y polinizar flores", "Un tipo de miel", "Una app de celular"], respuestaCorrecta: 1, explicacion: "RoboBee pesa solo 80mg y vuela con alas piezoelÃ©ctricas. AÃºn no puede polinizar individualmente, pero demuestra el potencial. Â¡IngenierÃ­a a escala insecto! ğŸ”¬" },`,
    `            { titulo: "âœ… Quiz: PolinizaciÃ³n con Drones", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo puede un dron ayudar a polinizar un cultivo?", opciones: ["Aplastando las flores", "Dispersando polen usando corrientes de aire o cepillos especiales", "No puede", "Solo fotografiando las flores"], respuestaCorrecta: 1, explicacion: "Los drones dispersan nubes de polen seco sobre los cultivos. En JapÃ³n, drones con pelo de caballo pegajoso transfieren polen entre flores. ğŸŒ¸" },`,
    `            { titulo: "âœ… Quiz: Monitoreo de Colmenas", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo puede la tecnologÃ­a IoT ayudar a las abejas?", opciones: ["ReemplazÃ¡ndolas", "Monitoreando peso, temperatura y sonido de colmenas para detectar problemas temprano", "Eliminando colmenas", "No puede ayudar"], respuestaCorrecta: 1, explicacion: "Sensores en colmenas miden peso (miel), temp (salud), sonido (Ã¡nimo de la colonia). El apicultor recibe alertas en su celular. Â¡Apicultura 4.0! ğŸ“±" },`,
    `            { titulo: "âœ… Quiz: Flores Robot", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© son las flores artificiales con sensores?", opciones: ["DecoraciÃ³n", "Dispositivos que imitan flores para atraer y estudiar polinizadores", "Flores de plÃ¡stico", "Robots que huelen"], respuestaCorrecta: 1, explicacion: "Las flores robot liberan nÃ©ctar artificial y aromas para atraer polinizadores. Los sensores estudian su comportamiento. Â¡Ciencia disfrazada! ğŸŒº" },`,
    `            { titulo: "âœ… Quiz: Jardines para Polinizadores", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo puede la robÃ³tica ayudar a crear corredores de polinizaciÃ³n?", opciones: ["Construyendo muros", "Drones siembran semillas de flores nativas en Ã¡reas degradadas para alimentar polinizadores", "Eliminando flores", "No puede"], respuestaCorrecta: 1, explicacion: "Los drones de reforestaciÃ³n lanzan seed balls (bolas de semillas) de flores nativas. Crean corredores que conectan poblaciones de polinizadores. ğŸŒ»" },`,
    `            { titulo: "âœ… Quiz: Polen Artificial", tipo: 'mini_quiz', pregunta: "Â¿Es posible crear polen artificial para robots polinizadores?", opciones: ["No, es imposible", "SÃ­: investigadores japoneses crearon gel pegajoso que transfiere polen entre flores", "Solo en ciencia ficciÃ³n", "Solo funcionarÃ­a en Marte"], respuestaCorrecta: 1, explicacion: "Dr. Eijiro Miyako creÃ³ un gel iÃ³nico que adhiere y libera polen. Drones con este gel polinizan lirios japoneses. Â¡Gel con superpoderes! ğŸ§ª" },`,
    `            { titulo: "âœ… Quiz: Servicios EcosistÃ©micos", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡nto valor econÃ³mico tiene la polinizaciÃ³n animal anualmente?", opciones: ["$1,000", "MÃ¡s de $200 mil millones de dÃ³lares al aÃ±o mundialmente", "$1 millÃ³n", "No tiene valor econÃ³mico"], respuestaCorrecta: 1, explicacion: "La polinizaciÃ³n vale >$200 mil millones/aÃ±o. Sin polinizadores, los precios de frutas y verduras se dispararÃ­an. Â¡Son el mejor ROI de la naturaleza! ğŸ’°" },`,
  ],
  'w6_mod9_invernadero_smart': [
    `            { titulo: "âœ… Quiz: Ventajas del Invernadero", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡l es la principal ventaja de un invernadero inteligente?", opciones: ["Es mÃ¡s bonito", "Control total de temperatura, humedad, luz y CO2 para maximizar producciÃ³n", "Es mÃ¡s barato que aire libre", "Solo protege de la lluvia"], respuestaCorrecta: 1, explicacion: "En un invernadero smart, cada variable se controla con sensores y actuadores. ProducciÃ³n 5-10x mayor que a campo abierto. Â¡FÃ¡brica de plantas! ğŸ­" },`,
    `            { titulo: "âœ… Quiz: VentilaciÃ³n AutomÃ¡tica", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo funciona la ventilaciÃ³n automÃ¡tica de un invernadero?", opciones: ["Siempre abierta", "Sensores de temp/humedad activan extractores y compuertas segÃºn umbrales programados", "Solo manual", "Con aire acondicionado"], respuestaCorrecta: 1, explicacion: "Si temp>28Â°C â†’ abrir compuertas + encender extractores. Si temp<18Â°C â†’ cerrar. Si humedad>80% â†’ ventilar para evitar hongos. Â¡AutomatizaciÃ³n! ğŸŒ¡ï¸" },`,
    `            { titulo: "âœ… Quiz: IluminaciÃ³n Suplementaria", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© tipo de luz usan los invernaderos modernos para complementar la luz solar?", opciones: ["Incandescentes", "LED rojo y azul que coinciden con los picos de absorciÃ³n de la fotosÃ­ntesis", "Luz ultravioleta", "Velas"], respuestaCorrecta: 1, explicacion: "Las plantas absorben principalmente luz roja (660nm) y azul (450nm). LEDs de estos colores son ultra-eficientes para fotosÃ­ntesis. Â¡Luz a medida! ğŸ’¡" },`,
    `            { titulo: "âœ… Quiz: HidroponÃ­a", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es la hidroponÃ­a y cuÃ¡l es su ventaja?", opciones: ["Cultivo en arena", "Cultivo sin suelo, con raÃ­ces en soluciÃ³n nutritiva: 90% menos agua", "Solo riego por goteo", "Cultivo en maceta"], respuestaCorrecta: 1, explicacion: "En hidroponÃ­a, las raÃ­ces crecen en agua con nutrientes disueltos. No hay suelo. Usa 90% menos agua y crece 2x mÃ¡s rÃ¡pido. Â¡RevoluciÃ³n agrÃ­cola! ğŸ’§" },`,
    `            { titulo: "âœ… Quiz: Sistema de Alertas", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© debe hacer un invernadero smart si la temperatura sube peligrosamente?", opciones: ["Nada", "Enviar alerta al celular, activar ventilaciÃ³n de emergencia y registrar el evento", "Apagar todo", "Solo registrar datos"], respuestaCorrecta: 1, explicacion: "Alarma por SMS/app + ventilaciÃ³n automÃ¡tica + registro del evento. Sin alerta, una ola de calor puede destruir toda la cosecha en horas. ğŸš¨" },`,
    `            { titulo: "âœ… Quiz: Controlador de Clima", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© hace un controlador de clima de invernadero?", opciones: ["Solo muestra la hora", "Integra datos de todos los sensores y coordina actuadores para mantener condiciones ideales", "Solo mide temperatura", "Solo controla riego"], respuestaCorrecta: 1, explicacion: "Un controlador de clima lee temp, humedad, CO2, luz y viento. Coordina calefacciÃ³n, ventilaciÃ³n, riego, iluminaciÃ³n y CO2 como un director de orquesta. ğŸ¼" },`,
    `            { titulo: "âœ… Quiz: Pantalla de Control", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© es Ãºtil un dashboard (panel de control) para un invernadero?", opciones: ["Solo se ve bonito", "Visualiza datos en tiempo real y tendencias histÃ³ricas para tomar decisiones informadas", "Solo para impresionar visitas", "No es Ãºtil"], respuestaCorrecta: 1, explicacion: "Un dashboard muestra grÃ¡ficas de temp, humedad, etc. en tiempo real. Permite ver tendencias y predecir problemas antes de que ocurran. ğŸ“Š" },`,
    `            { titulo: "âœ… Quiz: Invernadero Solar Pasivo", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo ahorra energÃ­a un invernadero solar pasivo?", opciones: ["Usando mucho combustible", "Usando masa tÃ©rmica (agua, piedras) que absorbe calor de dÃ­a y lo libera de noche", "No ahorra energÃ­a", "Usando generadores elÃ©ctricos"], respuestaCorrecta: 1, explicacion: "Bidones de agua pintados de negro absorben calor solar del dÃ­a. De noche, liberan ese calor lentamente. Â¡CalefacciÃ³n gratis! â˜€ï¸" },`,
    `            { titulo: "âœ… Quiz: RecirculaciÃ³n de Nutrientes", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© ventaja tiene un sistema hidropÃ³nico recirculante?", opciones: ["Gasta mÃ¡s agua", "Recoge y reutiliza la soluciÃ³n nutritiva, reduciendo desperdicio", "Es mÃ¡s difÃ­cil", "No tiene ventaja"], respuestaCorrecta: 1, explicacion: "Los sistemas recirculantes recogen el agua que drena, ajustan pH y nutrientes, y la reutilizan. Â¡Cero desperdicio de agua y fertilizantes! â™»ï¸" },`,
  ],
  'w6_mod10_agricultura_vertical': [
    `            { titulo: "âœ… Quiz: Concepto Vertical", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es la agricultura vertical?", opciones: ["Cultivar en montaÃ±as", "Cultivar en mÃºltiples niveles apilados dentro de edificios controlados", "Cultivar muy alto", "Solo usar escaleras"], respuestaCorrecta: 1, explicacion: "La agricultura vertical apila capas de cultivo en edificios. Usa LEDs, hidroponÃ­a y control climÃ¡tico. Â¡10x mÃ¡s producciÃ³n por mÂ² de terreno! ğŸ¢" },`,
    `            { titulo: "âœ… Quiz: LEDs en Granjas Verticales", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© las granjas verticales usan LEDs en lugar de luz solar?", opciones: ["Porque es mÃ¡s barato", "Para controlar exactamente el espectro, duraciÃ³n e intensidad lumÃ­nica", "Porque no hay ventanas", "Por estÃ©tica"], respuestaCorrecta: 1, explicacion: "Los LEDs dan control total: mÃ¡s rojo para frutas, mÃ¡s azul para hojas, 16h de 'sol' artificial. Cada cultivo recibe su receta de luz ideal. ğŸ’¡" },`,
    `            { titulo: "âœ… Quiz: Ahorro de Agua", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡nta agua ahorra la agricultura vertical comparada con la tradicional?", opciones: ["10%", "Hasta 95% por recirculaciÃ³n y ambiente cerrado", "50%", "No ahorra"], respuestaCorrecta: 1, explicacion: "En ambiente cerrado no hay evaporaciÃ³n al aire libre. El agua se recircula continuamente. 1L de lechuga vertical usa solo 1L vs 20L en campo. ğŸ’§" },`,
    `            { titulo: "âœ… Quiz: AeroponÃ­a", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo funciona la aeroponÃ­a?", opciones: ["Las plantas flotan en agua", "Las raÃ­ces cuelgan en el aire y se rocÃ­an con niebla nutritiva", "Se plantan en arena", "Se usan macetas grandes"], respuestaCorrecta: 1, explicacion: "En aeroponÃ­a, las raÃ­ces cuelgan en cÃ¡maras oscuras y se rocÃ­an con niebla de nutrientes cada pocos minutos. 0 suelo, 0 sustrato. Â¡Pura eficiencia! ğŸŒ«ï¸" },`,
    `            { titulo: "âœ… Quiz: DesafÃ­os EnergÃ©ticos", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡l es el mayor desafÃ­o de la agricultura vertical?", opciones: ["No produce suficiente", "El alto costo energÃ©tico de la iluminaciÃ³n LED y climatizaciÃ³n", "La falta de espacio", "La falta de agua"], respuestaCorrecta: 1, explicacion: "La energÃ­a elÃ©ctrica para LEDs y HVAC puede ser 50-60% del costo operativo. Por eso se buscan LEDs mÃ¡s eficientes y energÃ­a solar. âš¡" },`,
    `            { titulo: "âœ… Quiz: Cultivos Ideales", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© cultivos son mÃ¡s rentables en agricultura vertical?", opciones: ["Trigo y maÃ­z", "Lechugas, hierbas aromÃ¡ticas, fresas y microgreens", "Ãrboles frutales", "Papas y zanahorias"], respuestaCorrecta: 1, explicacion: "Cultivos de ciclo corto, alto valor y poco espacio: lechugas (30 dÃ­as), albahaca, fresas, microgreens. El trigo necesita demasiado espacio. ğŸ¥¬" },`,
    `            { titulo: "âœ… Quiz: Robots en Granjas Verticales", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© tareas automatizan los robots en granjas verticales?", opciones: ["Solo limpieza", "Siembra, transplante, monitoreo de crecimiento, cosecha y empaque", "Solo riego", "Ninguna"], respuestaCorrecta: 1, explicacion: "Los robots siembran semillas, trasplantan plÃ¡ntulas, inspeccionan con cÃ¡maras, cosechan lechugas y las empacan. Â¡100% automatizado! ğŸ¤–" },`,
    `            { titulo: "âœ… Quiz: Seguridad Alimentaria Urbana", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo contribuye la agricultura vertical a la seguridad alimentaria urbana?", opciones: ["No contribuye", "Produce alimentos frescos dentro de la ciudad, reduciendo transporte y desperdicio", "Solo mejora la estÃ©tica", "Aumenta los precios"], respuestaCorrecta: 1, explicacion: "Alimentos producidos en la ciudad llegan frescos sin camiones de miles de km. Menos CO2 por transporte, menos desperdicio, mÃ¡s frescura. ğŸ™ï¸" },`,
    `            { titulo: "âœ… Quiz: Recetas de Luz", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es una 'receta de luz' en agricultura vertical?", opciones: ["Un libro de cocina", "La combinaciÃ³n especÃ­fica de espectro, intensidad y fotoperiodo Ã³ptima para cada cultivo", "El precio de los LEDs", "El color del invernadero"], respuestaCorrecta: 1, explicacion: "Cada planta tiene su receta: albahaca = 16h de rojo:azul 3:1 a 300 Î¼mol/mÂ²s. Â¡IngenierÃ­a lumÃ­nica personalizada para cada especie! ğŸ”¬" },`,
  ],
  'w6_mod11_robots_cosecha': [
    `            { titulo: "âœ… Quiz: VisiÃ³n Artificial para Cosecha", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo detecta un robot cosechador cuÃ¡ndo una fruta estÃ¡ madura?", opciones: ["Por el peso", "Analizando color, tamaÃ±o y forma con cÃ¡maras y algoritmos de IA", "Preguntando al agricultor", "No puede detectarlo"], respuestaCorrecta: 1, explicacion: "CÃ¡maras RGB + algoritmos de deep learning identifican color (rojo maduro vs verde), tamaÃ±o y forma. Â¡El robot 've' la madurez como tÃº! ğŸ“¸" },`,
    `            { titulo: "âœ… Quiz: Gripper para Frutas", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© los robots de cosecha usan grippers blandos (soft grippers)?", opciones: ["Porque son mÃ¡s baratos", "Para no daÃ±ar frutas delicadas durante la recolecciÃ³n", "Porque son mÃ¡s rÃ¡pidos", "Por estÃ©tica"], respuestaCorrecta: 1, explicacion: "Un gripper rÃ­gido aplasta fresas y tomates. Los grippers blandos de silicona aplican presiÃ³n uniforme y suave. Â¡Cosecha sin moretones! ğŸ“" },`,
    `            { titulo: "âœ… Quiz: Velocidad de Cosecha", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡l es el desafÃ­o de velocidad en robots cosechadores?", opciones: ["Son demasiado rÃ¡pidos", "Un humano cosecha una fresa cada 3s; los robots actuales necesitan 6-8s", "No tiene desafÃ­o", "Son mÃ¡s rÃ¡pidos que humanos"], respuestaCorrecta: 1, explicacion: "La velocidad es el gran reto. Pero los robots trabajan 24/7 sin cansarse. Con 8s/fresa Ã— 24h = miles por dÃ­a. Â¡La constancia gana! â±ï¸" },`,
    `            { titulo: "âœ… Quiz: NavegaciÃ³n en Huertos", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo navega un robot autÃ³nomo entre filas de cultivo?", opciones: ["Con control remoto", "Con LIDAR y cÃ¡maras que detectan filas, GPS-RTK y algoritmos SLAM", "Con cuerdas guÃ­a", "Aleatoriamente"], respuestaCorrecta: 1, explicacion: "SLAM (LocalizaciÃ³n y Mapeo SimultÃ¡neo) + GPS-RTK + LIDAR = el robot sabe exactamente dÃ³nde estÃ¡ y hacia dÃ³nde ir. Â¡GPS centimÃ©trico! ğŸ—ºï¸" },`,
    `            { titulo: "âœ… Quiz: Cosecha Selectiva", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© significa cosecha selectiva robÃ³tica?", opciones: ["Cosechar todo junto", "Recoger solo los frutos maduros y dejar los verdes para mÃ¡s tarde", "Solo cosechar los mÃ¡s grandes", "Cosechar aleatoriamente"], respuestaCorrecta: 1, explicacion: "El robot identifica cada fruto: maduro â†’ cosechar, verde â†’ dejar. Vuelve en 2-3 dÃ­as por los que maduran despuÃ©s. Â¡Menos desperdicio! ğŸ…" },`,
    `            { titulo: "âœ… Quiz: CategorizaciÃ³n AutomÃ¡tica", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo clasifica un robot las frutas despuÃ©s de cosecharlas?", opciones: ["A mano", "Con visiÃ³n artificial que mide tamaÃ±o, color, forma y detecta defectos", "Por peso solamente", "No las clasifica"], respuestaCorrecta: 1, explicacion: "CÃ¡maras + IA clasifican en fracciones de segundo: tamaÃ±o (grande/mediana/chica), calidad (premium/estÃ¡ndar/defectuosa). Â¡Control de calidad 24/7! ğŸ“Š" },`,
    `            { titulo: "âœ… Quiz: Robot de Deshierbe", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo distingue un robot de deshierbe entre maleza y cultivo?", opciones: ["No puede", "Con deep learning entrenado con miles de imÃ¡genes de cada especie", "Por el color", "Solo por tamaÃ±o"], respuestaCorrecta: 1, explicacion: "Redes neuronales entrenadas con 100,000+ imÃ¡genes reconocen cada especie. El robot elimina la maleza con lÃ¡ser o micro-dosis de herbicida. ğŸ¯" },`,
    `            { titulo: "âœ… Quiz: Cosecha de Lechugas", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo cosecha un robot lechugas en una granja vertical?", opciones: ["Las arranca de raÃ­z", "Un brazo robÃ³tico corta la base y la coloca en empaque automÃ¡ticamente", "Las aspira", "Con agua a presiÃ³n"], respuestaCorrecta: 1, explicacion: "El brazo con cuchilla limpia corta la base de la lechuga, la levanta con ventosa suave y la coloca en su empaque. Â¡De la planta a la bolsa en 5s! ğŸ¥¬" },`,
    `            { titulo: "âœ… Quiz: Robots para Poda", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© es difÃ­cil automatizar la poda de Ã¡rboles frutales?", opciones: ["Es fÃ¡cil", "Cada Ã¡rbol tiene forma Ãºnica y el robot debe decidir quÃ© ramas cortar", "No se necesita podar", "Solo se requiere fuerza"], respuestaCorrecta: 1, explicacion: "La poda necesita juicio: Â¿quÃ© rama quitar? Â¿cuÃ¡nto cortar? La IA con visiÃ³n 3D estÃ¡ aprendiendo a tomar estas decisiones. Â¡Experiencia artificial! ğŸŒ³" },`,
  ],
  'w6_mod12_iot_agricultura': [
    `            { titulo: "âœ… Quiz: IoT AgrÃ­cola", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© significa IoT en el contexto de la agricultura?", opciones: ["Internet of Trees", "Red de sensores y dispositivos conectados que monitorean cultivos en tiempo real", "Un tipo de fertilizante", "Internet of Things sin aplicaciÃ³n agrÃ­cola"], respuestaCorrecta: 1, explicacion: "IoT agro = sensores de suelo, clima, cÃ¡maras y actuadores conectados por WiFi/LoRa que envÃ­an datos a la nube para anÃ¡lisis. Â¡El campo conectado! ğŸ“¡" },`,
    `            { titulo: "âœ… Quiz: LoRa", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es LoRa y por quÃ© se usa en agricultura?", opciones: ["Un tipo de planta", "TecnologÃ­a de radio de largo alcance (10km+) y bajo consumo para sensores remotos", "Una red social", "Un tipo de dron"], respuestaCorrecta: 1, explicacion: "LoRa transmite datos a 10-15 km con baterÃ­as que duran aÃ±os. Perfecto para campos remotos sin WiFi ni cobertura celular. Â¡Conectividad rural! ğŸ“»" },`,
    `            { titulo: "âœ… Quiz: Cloud Computing", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© se envÃ­an los datos agrÃ­colas a la nube?", opciones: ["Por moda", "Para almacenar grandes volÃºmenes, procesar con IA y acceder desde cualquier lugar", "No se necesita la nube", "Solo para hacer backup"], respuestaCorrecta: 1, explicacion: "Miles de sensores generan millones de datos. La nube los almacena, la IA los analiza y el agricultor los ve en su celular desde cualquier parte. â˜ï¸" },`,
    `            { titulo: "âœ… Quiz: Edge Computing", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© ventaja tiene el edge computing sobre enviar todo a la nube?", opciones: ["Es mÃ¡s caro", "Procesa datos localmente para respuesta rÃ¡pida sin depender de Internet", "No tiene ventaja", "Solo funciona en oficina"], respuestaCorrecta: 1, explicacion: "En edge computing, un microcontrolador local decide: humedad baja â†’ regar YA, sin esperar respuesta de la nube. Â¡Latencia cero! âš¡" },`,
    `            { titulo: "âœ… Quiz: API de Clima", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo pueden las APIs de clima mejorar la agricultura?", opciones: ["Cambiando el clima", "Proporcionando pronÃ³sticos para planificar riego, cosecha y protecciÃ³n contra heladas", "No sirven para agricultura", "Solo muestran la hora"], respuestaCorrecta: 1, explicacion: "APIs como OpenWeather predicen lluvias (no regar), heladas (proteger) y calor extremo (regar mÃ¡s). Â¡PlanificaciÃ³n con datos del futuro! ğŸŒ¤ï¸" },`,
    `            { titulo: "âœ… Quiz: MQTT", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es MQTT y por quÃ© se usa en IoT agrÃ­cola?", opciones: ["Un tipo de sensor", "Un protocolo de mensajerÃ­a ligero ideal para dispositivos con poca energÃ­a y ancho de banda", "Un lenguaje de programaciÃ³n", "Una marca de drones"], respuestaCorrecta: 1, explicacion: "MQTT usa mÃ­nimo ancho de banda para enviar datos sensorâ†’brokerâ†’nube. Perfecto para ESP32 con baterÃ­a solar en medio del campo. ğŸ“¨" },`,
    `            { titulo: "âœ… Quiz: Digital Twin", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es un gemelo digital en agricultura?", opciones: ["Una copia del agricultor", "Una rÃ©plica virtual del campo que simula y predice el comportamiento de los cultivos", "Un clon de plantas", "Un robot idÃ©ntico"], respuestaCorrecta: 1, explicacion: "El gemelo digital del campo recibe datos reales de sensores y simula: Â¿quÃ© pasa si riego mÃ¡s? Â¿si fertilizo? Predicciones SIN experimentar en real. ğŸ–¥ï¸" },`,
    `            { titulo: "âœ… Quiz: Hardware RSB", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© microcontrolador es ideal para un nodo IoT agrÃ­cola solar?", opciones: ["Arduino UNO", "ESP32: WiFi/BLE integrado, bajo consumo, modo deep sleep y econÃ³mico", "Raspberry Pi 5", "Un PC de escritorio"], respuestaCorrecta: 1, explicacion: "ESP32 tiene WiFi, BLE, 18 ADC, modo deep sleep (10Î¼A). Con panel solar + baterÃ­a LiPo, funciona indefinidamente en el campo. Â¡El rey del IoT agrÃ­cola! ğŸ“Ÿ" },`,
    `            { titulo: "âœ… Quiz: Trazabilidad", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo contribuye IoT a la trazabilidad alimentaria?", opciones: ["No contribuye", "Registra cada etapa desde la siembra hasta la mesa: origen, tratamientos y condiciones", "Solo mejora el sabor", "Solo ahorra dinero"], respuestaCorrecta: 1, explicacion: "Con IoT + blockchain, cada tomate tiene historial: dÃ³nde creciÃ³, quÃ© riego/fertilizante recibiÃ³, cuÃ¡ndo se cosechÃ³. Â¡Del campo a la mesa con certificado! ğŸ“‹" },`,
  ],
  'w6_mod13_energia_renovable_robots': [
    `            { titulo: "âœ… Quiz: Panel Solar para Robots", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© tipo de panel solar es mejor para un robot agrÃ­cola mÃ³vil?", opciones: ["Panel de 100kg", "Panel flexible CIGS o monocristalino ligero de alta eficiencia", "Panel de vidrio pesado", "No necesita panel"], respuestaCorrecta: 1, explicacion: "Los paneles flexibles CIGS se pegan al techo del robot. Ligeros (200g), eficientes (15-18%) y resistentes a vibraciones. Â¡EnergÃ­a portÃ¡til! â˜€ï¸" },`,
    `            { titulo: "âœ… Quiz: MPPT", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© hace un controlador MPPT para paneles solares?", opciones: ["Los limpia", "Encuentra el punto de mÃ¡xima potencia para extraer la mÃ¡xima energÃ­a del panel", "Los enciende y apaga", "Solo mide voltaje"], respuestaCorrecta: 1, explicacion: "MPPT (Maximum Power Point Tracking) ajusta el voltaje/corriente para extraer siempre el mÃ¡ximo de watts del panel. Hasta 30% mÃ¡s eficiente que un regulador PWM. âš¡" },`,
    `            { titulo: "âœ… Quiz: Micro-eÃ³lica", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo puede la energÃ­a eÃ³lica alimentar sensores agrÃ­colas remotos?", opciones: ["Con grandes molinos", "Con micro-turbinas eÃ³licas que generan 10-50W para cargar baterÃ­as de nodos IoT", "No es posible", "Solo con turbinas industriales"], respuestaCorrecta: 1, explicacion: "Micro-turbinas de 30-50cm generan suficiente energÃ­a para mantener un nodo IoT (ESP32 + sensores) funcionando indefinidamente. Â¡Viento productivo! ğŸ’¨" },`,
    `            { titulo: "âœ… Quiz: Almacenamiento de EnergÃ­a", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© es importante el almacenamiento de energÃ­a en robots solares?", opciones: ["No es importante", "Para que el robot funcione de noche y en dÃ­as nublados cuando no hay sol", "Solo por emergencias", "Para que sea mÃ¡s pesado"], respuestaCorrecta: 1, explicacion: "BaterÃ­as LiPo almacenan la energÃ­a solar del dÃ­a para operaciÃ³n nocturna. Un robot con panel de 100W + baterÃ­a de 20Ah trabaja 24/7. ğŸ”‹" },`,
    `            { titulo: "âœ… Quiz: Eficiencia EnergÃ©tica", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo se optimiza el consumo energÃ©tico de un robot agrÃ­cola?", opciones: ["Usando mÃ¡s motores", "Con modos sleep, motores eficientes, rutas optimizadas y procesamiento edge", "Aumentando la velocidad", "No se puede optimizar"], respuestaCorrecta: 1, explicacion: "Deep sleep cuando no opera, motores brushless eficientes, rutas A* para mÃ­nima distancia, y procesamiento local en vez de WiFi constante. âš¡" },`,
    `            { titulo: "âœ… Quiz: Balance EnergÃ©tico", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es el balance energÃ©tico de un robot solar?", opciones: ["Su peso", "La relaciÃ³n entre energÃ­a generada por el panel y energÃ­a consumida por el robot", "Su velocidad", "Su temperatura"], respuestaCorrecta: 1, explicacion: "Si el panel genera mÃ¡s energÃ­a que la que consume el robot cada dÃ­a, tiene balance positivo = autonomÃ­a infinita. Â¡Auto-suficiencia energÃ©tica! â™»ï¸" },`,
    `            { titulo: "âœ… Quiz: Celdas de Combustible", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© son las celdas de combustible de hidrÃ³geno para robots?", opciones: ["Celdas solares", "Generadores que producen electricidad combinando hidrÃ³geno y oxÃ­geno", "BaterÃ­as normales", "Motores de gasolina"], respuestaCorrecta: 1, explicacion: "Las fuel cells H2 producen electricidad + agua como Ãºnico subproducto. Mayor densidad energÃ©tica que LiPo. Â¡EnergÃ­a limpia del futuro! ğŸ§ª" },`,
    `            { titulo: "âœ… Quiz: Carga InalÃ¡mbrica", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo funciona la carga inalÃ¡mbrica para robots agrÃ­colas?", opciones: ["Con cables largos", "Bobinas inductivas en una base de carga transfieren energÃ­a al robot sin contacto fÃ­sico", "Con combustible", "No existe"], respuestaCorrecta: 1, explicacion: "El robot se estaciona sobre una plataforma con bobina. La inductancia magnÃ©tica transfiere energÃ­a. Â¡Como cargar un celular pero para un robot! âš¡" },`,
    `            { titulo: "âœ… Quiz: Grid-Tie", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es un sistema grid-tie en una granja solar?", opciones: ["Una cerca elÃ©ctrica", "Un sistema solar conectado a la red elÃ©ctrica que vende excedentes", "Un tipo de riego", "Un alambre para plantas"], respuestaCorrecta: 1, explicacion: "Los paneles solares de la granja producen electricidad. Lo que sobra se inyecta a la red y se 'vende'. Â¡La granja genera ingresos por energÃ­a! ğŸ’°" },`,
  ],
  'w6_mod14_etica_robotica_verde': [
    `            { titulo: "âœ… Quiz: Impacto Social", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡l es la preocupaciÃ³n social principal de la automatizaciÃ³n agrÃ­cola?", opciones: ["Los robots se rebelan", "El desplazamiento de trabajadores agrÃ­colas por mÃ¡quinas", "No hay preocupaciÃ³n", "Los robots son feos"], respuestaCorrecta: 1, explicacion: "Millones de personas trabajan en agricultura. La automatizaciÃ³n crea eficiencia pero puede eliminar empleos. Se necesita capacitaciÃ³n y transiciÃ³n justa. ğŸ‘¥" },`,
    `            { titulo: "âœ… Quiz: SoberanÃ­a Alimentaria", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo puede la tecnologÃ­a amenazar la soberanÃ­a alimentaria?", opciones: ["No puede", "Si solo grandes empresas pueden pagar la tecnologÃ­a, los pequeÃ±os agricultores quedan excluidos", "La mejora para todos", "Solo afecta a las ciudades"], respuestaCorrecta: 1, explicacion: "Si un dron cuesta $10,000, solo grandes empresas lo compran. Se necesita tecnologÃ­a accesible y open source para todos. Â¡Democracia tecnolÃ³gica! âš–ï¸" },`,
    `            { titulo: "âœ… Quiz: Huella de Carbono", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo se reduce la huella de carbono de los robots agrÃ­colas?", opciones: ["No se puede", "Usando energÃ­a solar, materiales reciclables y optimizando rutas para menor consumo", "Usando mÃ¡s combustible", "Fabricando mÃ¡s robots"], respuestaCorrecta: 1, explicacion: "Un robot solar con rutas optimizadas tiene huella de carbono casi cero vs tractores diÃ©sel. Materiales reciclables cierran el ciclo. ğŸŒ" },`,
    `            { titulo: "âœ… Quiz: Biodiversidad", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo pueden los robots agrÃ­colas proteger la biodiversidad?", opciones: ["No pueden", "Aplicando pesticidas solo donde se necesita y monitoreando especies con cÃ¡maras", "Eliminando toda la fauna", "Produciendo mÃ¡s comida"], respuestaCorrecta: 1, explicacion: "FumigaciÃ³n de precisiÃ³n reduce quÃ­micos 90%. CÃ¡maras en drones monitorean aves, insectos y polinizadores. Â¡TecnologÃ­a aliada de la naturaleza! ğŸ¦‹" },`,
    `            { titulo: "âœ… Quiz: Open Source Agro", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es FarmBot y por quÃ© es importante?", opciones: ["Una marca de pesticida", "Un robot agrÃ­cola open source que cualquier persona puede construir y modificar", "Un videojuego", "Un tipo de semilla"], respuestaCorrecta: 1, explicacion: "FarmBot es hardware y software 100% open source. Los planos estÃ¡n en Internet gratis. Â¡Democratiza la agricultura de precisiÃ³n! ğŸŒ±" },`,
    `            { titulo: "âœ… Quiz: Privacidad de Datos AgrÃ­colas", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© es importante proteger los datos agrÃ­colas de un agricultor?", opciones: ["No es importante", "Los datos de rendimiento y prÃ¡cticas son valiosos comercialmente y pueden explotarse", "Solo son nÃºmeros", "Los datos no tienen valor"], respuestaCorrecta: 1, explicacion: "Los datos agrÃ­colas revelan rendimientos, prÃ¡cticas y finanzas. Empresas podrÃ­an usarlos para manipular precios o competir deslealmente. Â¡Los datos son poder! ğŸ”’" },`,
    `            { titulo: "âœ… Quiz: Derecho a Reparar", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es el 'derecho a reparar' en robÃ³tica agrÃ­cola?", opciones: ["Que los robots se reparen solos", "Que los agricultores puedan reparar y modificar sus robots sin restricciones del fabricante", "Un tipo de garantÃ­a", "No existe este derecho"], respuestaCorrecta: 1, explicacion: "Algunos fabricantes bloquean reparaciones para monopolizar el servicio tÃ©cnico. El derecho a reparar permite que el agricultor arregle SU robot. ğŸ”§" },`,
    `            { titulo: "âœ… Quiz: EconomÃ­a Circular", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo aplica la economÃ­a circular a los robots agrÃ­colas?", opciones: ["No aplica", "DiseÃ±ar robots con componentes reciclables, reparables y actualizables", "Comprar robots nuevos cada aÃ±o", "Solo reciclar las baterÃ­as"], respuestaCorrecta: 1, explicacion: "DiseÃ±o modular: actualizar solo la cÃ¡mara, reemplazar solo el motor, reciclar la estructura. Â¡Menos basura electrÃ³nica, mÃ¡s vida Ãºtil! â™»ï¸" },`,
    `            { titulo: "âœ… Quiz: Agricultura Justa", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo puede la robÃ³tica agrÃ­cola contribuir a la justicia social?", opciones: ["No puede", "Haciendo tecnologÃ­a accesible para pequeÃ±os agricultores en paÃ­ses en desarrollo", "Solo beneficia a ricos", "Aumentando desigualdad"], respuestaCorrecta: 1, explicacion: "Proyectos como drones DIY de $500 y apps gratuitas de monitoreo llevan tecnologÃ­a a agricultores de bajos recursos. Â¡InclusiÃ³n tecnolÃ³gica! ğŸ¤" },`,
  ],
  'w6_mod15_competencias_aerobio': [
    `            { titulo: "âœ… Quiz: FIRST Robotics", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© aprenden los jÃ³venes participando en competencias de robÃ³tica como FIRST?", opciones: ["Solo a ganar trofeos", "Trabajo en equipo, programaciÃ³n, diseÃ±o mecÃ¡nico y resoluciÃ³n de problemas", "Solo a seguir instrucciones", "Nada Ãºtil"], respuestaCorrecta: 1, explicacion: "FIRST integra STEM con habilidades blandas: liderazgo, comunicaciÃ³n, gestiÃ³n de proyectos. Â¡Los 'deportes del cerebro'! ğŸ†" },`,
    `            { titulo: "âœ… Quiz: Competencias de Drones", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© habilidades se evalÃºan en competencias de drones agrÃ­colas?", opciones: ["Solo velocidad de vuelo", "PrecisiÃ³n de mapeo, eficiencia de fumigaciÃ³n, autonomÃ­a y presentaciÃ³n tÃ©cnica", "Solo el precio del dron", "Solo la altura mÃ¡xima"], respuestaCorrecta: 1, explicacion: "Se evalÃºa: calidad del mapa generado, precisiÃ³n de aplicaciÃ³n, tiempo de vuelo, y la calidad de la documentaciÃ³n tÃ©cnica del equipo. ğŸ“Š" },`,
    `            { titulo: "âœ… Quiz: Hackathon AgrÃ­cola", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© es un hackathon agrÃ­cola?", opciones: ["Un concurso de hackers", "Un evento donde equipos crean soluciones tecnolÃ³gicas para problemas agrÃ­colas en 24-48 horas", "Una feria de tractores", "Un concurso de cocina"], respuestaCorrecta: 1, explicacion: "En un hackathon agro, equipos desarrollan prototipos (apps, sensores, drones) que resuelven problemas reales de agricultores. Â¡InnovaciÃ³n express! ğŸ’¡" },`,
    `            { titulo: "âœ… Quiz: DocumentaciÃ³n de Proyecto", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© la documentaciÃ³n es tan importante en competencias de robÃ³tica?", opciones: ["No es importante", "Los jueces evalÃºan el proceso de diseÃ±o, no solo el producto final", "Solo para hacer tarea", "Solo si ganas"], respuestaCorrecta: 1, explicacion: "La documentaciÃ³n muestra pensamiento crÃ­tico, iteraciÃ³n, anÃ¡lisis de errores y aprendizaje. En FIRST, vale tanto como el robot mismo. ğŸ“" },`,
    `            { titulo: "âœ… Quiz: Pitch TÃ©cnico", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© elementos debe tener un buen pitch (presentaciÃ³n) de proyecto de agro-robÃ³tica?", opciones: ["Solo fotos bonitas", "Problema identificado, soluciÃ³n propuesta, tecnologÃ­a usada, prototipo y plan de negocios", "Solo el nombre del equipo", "Solo el presupuesto"], respuestaCorrecta: 1, explicacion: "Un pitch ganador: 1) Problema real, 2) SoluciÃ³n innovadora, 3) CÃ³mo funciona (demo), 4) Impacto esperado, 5) Viabilidad econÃ³mica. Â¡3 minutos para convencer! ğŸ¤" },`,
    `            { titulo: "âœ… Quiz: Design Thinking", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡les son las 5 fases del Design Thinking aplicado a agro-robÃ³tica?", opciones: ["Comprar, armar, pintar, vender, celebrar", "Empatizar, Definir, Idear, Prototipar, Testear", "Pensar, diseÃ±ar, construir, pintar, exhibir", "Solo construir y probar"], respuestaCorrecta: 1, explicacion: "Design Thinking: 1) Entender al agricultor, 2) Definir el problema, 3) Generar ideas, 4) Construir prototipo, 5) Probarlo con usuarios reales. ğŸ¯" },`,
    `            { titulo: "âœ… Quiz: Lean Startup Agro", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo se aplica Lean Startup a un proyecto de robÃ³tica agrÃ­cola?", opciones: ["Construir un robot perfecto", "Construir un MVP rÃ¡pido, medir resultados con agricultores, aprender e iterar", "Solo planificar sin construir", "Copiar otro proyecto"], respuestaCorrecta: 1, explicacion: "MVP (MÃ­nimo Producto Viable) â†’ medir si resuelve el problema â†’ pivotear o perseverar. Â¡No inviertas 1 aÃ±o en algo que nadie necesita! ğŸ”„" },`,
    `            { titulo: "âœ… Quiz: MentorÃ­a", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© rol tiene un mentor en un equipo de competencia de robÃ³tica?", opciones: ["Hace todo el trabajo", "GuÃ­a al equipo, comparte experiencia y ayuda a superar obstÃ¡culos sin dar respuestas directas", "Solo observa", "Solo evalÃºa"], respuestaCorrecta: 1, explicacion: "El mentor no construye el robot. Hace preguntas que guÃ­an: 'Â¿consideraste...?' 'Â¿quÃ© pasarÃ­a si...?'. El aprendizaje estÃ¡ en el proceso. ğŸ§­" },`,
    `            { titulo: "âœ… Quiz: Networking", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© es valioso el networking en competencias de robÃ³tica?", opciones: ["Solo para socializar", "Para conocer personas que pueden ser futuros socios, mentores o contactos profesionales", "No es valioso", "Solo para intercambiar piezas"], respuestaCorrecta: 1, explicacion: "En competencias conoces ingenieros, investigadores, emprendedores y futuros colegas. Muchas startups exitosas nacieron en competencias. ğŸ¤" },`,
  ],
  'w6_mod16_proyecto_aerobiosfera_final': [
    `            { titulo: "âœ… Quiz: PlanificaciÃ³n del Proyecto", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡l es el primer paso para diseÃ±ar un sistema Aero-Biosfera completo?", opciones: ["Comprar un dron", "Identificar el problema agrÃ­cola especÃ­fico a resolver y los requisitos del sistema", "Empezar a programar", "Construir los sensores"], respuestaCorrecta: 1, explicacion: "Todo empieza con una pregunta: Â¿quÃ© problema resuelvo? Â¿riego? Â¿plagas? Â¿monitoreo? Los requisitos definen la soluciÃ³n. ğŸ“‹" },`,
    `            { titulo: "âœ… Quiz: IntegraciÃ³n de Sistemas", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡l es el mayor desafÃ­o al integrar drones, sensores IoT y robÃ³tica en un solo sistema?", opciones: ["El costo", "La comunicaciÃ³n y compatibilidad entre todos los componentes y protocolos", "El peso", "El color"], respuestaCorrecta: 1, explicacion: "Drones usan MAVLink, sensores MQTT, robots ROS. La integraciÃ³n requiere puentes de comunicaciÃ³n, APIs comunes y estÃ¡ndares compartidos. ğŸ”—" },`,
    `            { titulo: "âœ… Quiz: MVP AgrÃ­cola", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© incluirÃ­a el MVP (MÃ­nimo Producto Viable) de un sistema Aero-Biosfera?", opciones: ["Todo perfecto", "1 sensor de suelo + 1 dron con cÃ¡mara + 1 actuador de riego + dashboard bÃ¡sico", "Solo un logo", "Solo una presentaciÃ³n"], respuestaCorrecta: 1, explicacion: "El MVP prueba la idea con lo mÃ­nimo: un sensor mide, un dron mapea, un actuador riega y un dashboard muestra datos. Â¡Funcional antes que perfecto! ğŸ¯" },`,
    `            { titulo: "âœ… Quiz: Escalabilidad", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© significa que un sistema sea escalable?", opciones: ["Que sea grande", "Que pueda crecer de 1 hectÃ¡rea a 100+ sin rediseÃ±ar todo el sistema", "Que sea pesado", "Que use muchos cables"], respuestaCorrecta: 1, explicacion: "Un sistema escalable: agregar mÃ¡s sensores = solo agregar nodos. MÃ¡s Ã¡rea = mÃ¡s drones con la misma plataforma de datos. Â¡Crecer sin reconstruir! ğŸ“ˆ" },`,
    `            { titulo: "âœ… Quiz: ROI TecnolÃ³gico", tipo: 'mini_quiz', pregunta: "Â¿CÃ³mo se calcula el retorno de inversiÃ³n (ROI) de un sistema agro-robÃ³tico?", opciones: ["No se puede calcular", "Comparando el costo del sistema vs ahorros en agua, pesticidas, mano de obra y aumento de producciÃ³n", "Solo por el precio del dron", "Sumando todos los gastos"], respuestaCorrecta: 1, explicacion: "ROI = (Beneficios - Costos) / Costos Ã— 100. Si un dron de $5000 ahorra $15000/aÃ±o en pesticidas, ROI = 200%. Â¡InversiÃ³n inteligente! ğŸ’°" },`,
    `            { titulo: "âœ… Quiz: Pruebas de Campo", tipo: 'mini_quiz', pregunta: "Â¿Por quÃ© las pruebas de campo son diferentes a las pruebas en laboratorio?", opciones: ["No son diferentes", "El campo tiene variables impredecibles: viento, lluvia, terreno irregular y fauna", "Solo cambia la luz", "Solo cambia el suelo"], respuestaCorrecta: 1, explicacion: "En el campo: viento mueve el dron, lluvia daÃ±a electrÃ³nica, barro atasca ruedas, insectos tapan sensores. Â¡La realidad es mÃ¡s compleja que el laboratorio! ğŸŒ§ï¸" },`,
    `            { titulo: "âœ… Quiz: Mantenimiento Preventivo", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© incluye el mantenimiento preventivo de un dron agrÃ­cola?", opciones: ["Solo cargar la baterÃ­a", "Inspeccionar hÃ©lices, calibrar sensores, limpiar cÃ¡mara, verificar firmware y revisar baterÃ­as", "Solo limpiarlo", "No necesita mantenimiento"], respuestaCorrecta: 1, explicacion: "Antes de cada vuelo: revisar hÃ©lices (grietas), calibrar IMU, limpiar lente, verificar voltaje de baterÃ­a y actualizar firmware. Â¡Prevenir > reparar! ğŸ”§" },`,
    `            { titulo: "âœ… Quiz: PresentaciÃ³n Final", tipo: 'mini_quiz', pregunta: "Â¿QuÃ© debe demostrar la presentaciÃ³n final de un proyecto Aero-Biosfera?", opciones: ["Solo que funciona", "El problema, la soluciÃ³n, la tecnologÃ­a, los resultados medibles y el impacto ambiental/social", "Solo fotos bonitas", "Solo el cÃ³digo"], respuestaCorrecta: 1, explicacion: "Una presentaciÃ³n completa: Â¿quÃ© problema? Â¿cÃ³mo lo resuelves? Â¿funciona? Â¿cuÃ¡nto mejora? Â¿quÃ© impacto tiene? Â¡Datos + demostraciÃ³n + visiÃ³n! ğŸ¤" },`,
    `            { titulo: "âœ… Quiz: Futuro de la AgTech", tipo: 'mini_quiz', pregunta: "Â¿CuÃ¡l es la tendencia mÃ¡s prometedora en AgTech para los prÃ³ximos 10 aÃ±os?", opciones: ["Menos tecnologÃ­a", "Granjas autÃ³nomas completamente operadas por robots e IA sin intervenciÃ³n humana directa", "Solo tractores mÃ¡s grandes", "Volver a los mÃ©todos ancestrales"], respuestaCorrecta: 1, explicacion: "Granjas autÃ³nomas con flotas de robots, drones y sensores coordinados por IA. El agricultor serÃ¡ un 'director de datos'. Â¡La revoluciÃ³n apenas empieza! ğŸš€" },`,
  ],
};

// Insert questions before each module's contenidoTeorico closing bracket
// Process in reverse order of line number to avoid offset issues
const entries = Object.entries(moduleClosings).sort((a, b) => b[1] - a[1]);
let total = 0;
for (const [moduleId, lineIdx] of entries) {
  const qLines = questions[moduleId];
  if (!qLines) { console.log('No questions for:', moduleId); continue; }

  lines.splice(lineIdx, 0, ...qLines);
  total += qLines.length;
  console.log(`${moduleId}: +${qLines.length} questions`);
}

fs.writeFileSync('src/data/world6Data.js', lines.join('\n'));
console.log(`\nTotal: ${total} questions injected into World 6`);
